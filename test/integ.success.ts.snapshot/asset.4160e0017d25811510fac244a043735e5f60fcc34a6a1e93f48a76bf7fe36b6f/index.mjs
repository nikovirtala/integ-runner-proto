import { createRequire as topLevelCreateRequire } from 'module';const require = topLevelCreateRequire(import.meta.url)
var Oe=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(r,n)=>(typeof require<"u"?require:r)[n]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var w=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports);var Ne=w(te=>{var Re="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");te.encode=function(e){if(0<=e&&e<Re.length)return Re[e];throw new TypeError("Must be between 0 and 63: "+e)};te.decode=function(e){var r=65,n=90,t=97,o=122,i=48,s=57,a=43,u=47,l=26,c=52;return r<=e&&e<=n?e-r:t<=e&&e<=o?e-t+l:i<=e&&e<=s?e-i+c:e==a?62:e==u?63:-1}});var se=w(ie=>{var xe=Ne(),oe=5,Ie=1<<oe,Pe=Ie-1,Te=Ie;function vr(e){return e<0?(-e<<1)+1:(e<<1)+0}function mr(e){var r=(e&1)===1,n=e>>1;return r?-n:n}ie.encode=function(r){var n="",t,o=vr(r);do t=o&Pe,o>>>=oe,o>0&&(t|=Te),n+=xe.encode(t);while(o>0);return n};ie.decode=function(r,n,t){var o=r.length,i=0,s=0,a,u;do{if(n>=o)throw new Error("Expected more digits in base 64 VLQ value.");if(u=xe.decode(r.charCodeAt(n++)),u===-1)throw new Error("Invalid base64 digit: "+r.charAt(n-1));a=!!(u&Te),u&=Pe,i=i+(u<<s),s+=oe}while(a);t.value=mr(i),t.rest=n}});var U=w(y=>{function _r(e,r,n){if(r in e)return e[r];if(arguments.length===3)return n;throw new Error('"'+r+'" is a required argument.')}y.getArg=_r;var Be=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,yr=/^data:.+\,.+$/;function k(e){var r=e.match(Be);return r?{scheme:r[1],auth:r[2],host:r[3],port:r[4],path:r[5]}:null}y.urlParse=k;function G(e){var r="";return e.scheme&&(r+=e.scheme+":"),r+="//",e.auth&&(r+=e.auth+"@"),e.host&&(r+=e.host),e.port&&(r+=":"+e.port),e.path&&(r+=e.path),r}y.urlGenerate=G;function ue(e){var r=e,n=k(e);if(n){if(!n.path)return e;r=n.path}for(var t=y.isAbsolute(r),o=r.split(/\/+/),i,s=0,a=o.length-1;a>=0;a--)i=o[a],i==="."?o.splice(a,1):i===".."?s++:s>0&&(i===""?(o.splice(a+1,s),s=0):(o.splice(a,2),s--));return r=o.join("/"),r===""&&(r=t?"/":"."),n?(n.path=r,G(n)):r}y.normalize=ue;function Ge(e,r){e===""&&(e="."),r===""&&(r=".");var n=k(r),t=k(e);if(t&&(e=t.path||"/"),n&&!n.scheme)return t&&(n.scheme=t.scheme),G(n);if(n||r.match(yr))return r;if(t&&!t.host&&!t.path)return t.host=r,G(t);var o=r.charAt(0)==="/"?r:ue(e.replace(/\/+$/,"")+"/"+r);return t?(t.path=o,G(t)):o}y.join=Ge;y.isAbsolute=function(e){return e.charAt(0)==="/"||Be.test(e)};function Sr(e,r){e===""&&(e="."),e=e.replace(/\/$/,"");for(var n=0;r.indexOf(e+"/")!==0;){var t=e.lastIndexOf("/");if(t<0||(e=e.slice(0,t),e.match(/^([^\/]+:\/)?\/*$/)))return r;++n}return Array(n+1).join("../")+r.substr(e.length+1)}y.relative=Sr;var je=function(){var e=Object.create(null);return!("__proto__"in e)}();function Ue(e){return e}function wr(e){return Fe(e)?"$"+e:e}y.toSetString=je?Ue:wr;function Cr(e){return Fe(e)?e.slice(1):e}y.fromSetString=je?Ue:Cr;function Fe(e){if(!e)return!1;var r=e.length;if(r<9||e.charCodeAt(r-1)!==95||e.charCodeAt(r-2)!==95||e.charCodeAt(r-3)!==111||e.charCodeAt(r-4)!==116||e.charCodeAt(r-5)!==111||e.charCodeAt(r-6)!==114||e.charCodeAt(r-7)!==112||e.charCodeAt(r-8)!==95||e.charCodeAt(r-9)!==95)return!1;for(var n=r-10;n>=0;n--)if(e.charCodeAt(n)!==36)return!1;return!0}function Mr(e,r,n){var t=j(e.source,r.source);return t!==0||(t=e.originalLine-r.originalLine,t!==0)||(t=e.originalColumn-r.originalColumn,t!==0||n)||(t=e.generatedColumn-r.generatedColumn,t!==0)||(t=e.generatedLine-r.generatedLine,t!==0)?t:j(e.name,r.name)}y.compareByOriginalPositions=Mr;function Er(e,r,n){var t=e.generatedLine-r.generatedLine;return t!==0||(t=e.generatedColumn-r.generatedColumn,t!==0||n)||(t=j(e.source,r.source),t!==0)||(t=e.originalLine-r.originalLine,t!==0)||(t=e.originalColumn-r.originalColumn,t!==0)?t:j(e.name,r.name)}y.compareByGeneratedPositionsDeflated=Er;function j(e,r){return e===r?0:e===null?1:r===null?-1:e>r?1:-1}function br(e,r){var n=e.generatedLine-r.generatedLine;return n!==0||(n=e.generatedColumn-r.generatedColumn,n!==0)||(n=j(e.source,r.source),n!==0)||(n=e.originalLine-r.originalLine,n!==0)||(n=e.originalColumn-r.originalColumn,n!==0)?n:j(e.name,r.name)}y.compareByGeneratedPositionsInflated=br;function Lr(e){return JSON.parse(e.replace(/^\)]}'[^\n]*\n/,""))}y.parseSourceMapInput=Lr;function Ar(e,r,n){if(r=r||"",e&&(e[e.length-1]!=="/"&&r[0]!=="/"&&(e+="/"),r=e+r),n){var t=k(n);if(!t)throw new Error("sourceMapURL could not be parsed");if(t.path){var o=t.path.lastIndexOf("/");o>=0&&(t.path=t.path.substring(0,o+1))}r=Ge(G(t),r)}return ue(r)}y.computeSourceURL=Ar});var ce=w(De=>{var ae=U(),le=Object.prototype.hasOwnProperty,x=typeof Map<"u";function A(){this._array=[],this._set=x?new Map:Object.create(null)}A.fromArray=function(r,n){for(var t=new A,o=0,i=r.length;o<i;o++)t.add(r[o],n);return t};A.prototype.size=function(){return x?this._set.size:Object.getOwnPropertyNames(this._set).length};A.prototype.add=function(r,n){var t=x?r:ae.toSetString(r),o=x?this.has(r):le.call(this._set,t),i=this._array.length;(!o||n)&&this._array.push(r),o||(x?this._set.set(r,i):this._set[t]=i)};A.prototype.has=function(r){if(x)return this._set.has(r);var n=ae.toSetString(r);return le.call(this._set,n)};A.prototype.indexOf=function(r){if(x){var n=this._set.get(r);if(n>=0)return n}else{var t=ae.toSetString(r);if(le.call(this._set,t))return this._set[t]}throw new Error('"'+r+'" is not in the set.')};A.prototype.at=function(r){if(r>=0&&r<this._array.length)return this._array[r];throw new Error("No element indexed by "+r)};A.prototype.toArray=function(){return this._array.slice()};De.ArraySet=A});var ze=w(ke=>{var qe=U();function Or(e,r){var n=e.generatedLine,t=r.generatedLine,o=e.generatedColumn,i=r.generatedColumn;return t>n||t==n&&i>=o||qe.compareByGeneratedPositionsInflated(e,r)<=0}function J(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}J.prototype.unsortedForEach=function(r,n){this._array.forEach(r,n)};J.prototype.add=function(r){Or(this._last,r)?(this._last=r,this._array.push(r)):(this._sorted=!1,this._array.push(r))};J.prototype.toArray=function(){return this._sorted||(this._array.sort(qe.compareByGeneratedPositionsInflated),this._sorted=!0),this._array};ke.MappingList=J});var fe=w(Ke=>{var z=se(),v=U(),X=ce().ArraySet,Rr=ze().MappingList;function E(e){e||(e={}),this._file=v.getArg(e,"file",null),this._sourceRoot=v.getArg(e,"sourceRoot",null),this._skipValidation=v.getArg(e,"skipValidation",!1),this._sources=new X,this._names=new X,this._mappings=new Rr,this._sourcesContents=null}E.prototype._version=3;E.fromSourceMap=function(r){var n=r.sourceRoot,t=new E({file:r.file,sourceRoot:n});return r.eachMapping(function(o){var i={generated:{line:o.generatedLine,column:o.generatedColumn}};o.source!=null&&(i.source=o.source,n!=null&&(i.source=v.relative(n,i.source)),i.original={line:o.originalLine,column:o.originalColumn},o.name!=null&&(i.name=o.name)),t.addMapping(i)}),r.sources.forEach(function(o){var i=o;n!==null&&(i=v.relative(n,o)),t._sources.has(i)||t._sources.add(i);var s=r.sourceContentFor(o);s!=null&&t.setSourceContent(o,s)}),t};E.prototype.addMapping=function(r){var n=v.getArg(r,"generated"),t=v.getArg(r,"original",null),o=v.getArg(r,"source",null),i=v.getArg(r,"name",null);this._skipValidation||this._validateMapping(n,t,o,i),o!=null&&(o=String(o),this._sources.has(o)||this._sources.add(o)),i!=null&&(i=String(i),this._names.has(i)||this._names.add(i)),this._mappings.add({generatedLine:n.line,generatedColumn:n.column,originalLine:t!=null&&t.line,originalColumn:t!=null&&t.column,source:o,name:i})};E.prototype.setSourceContent=function(r,n){var t=r;this._sourceRoot!=null&&(t=v.relative(this._sourceRoot,t)),n!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[v.toSetString(t)]=n):this._sourcesContents&&(delete this._sourcesContents[v.toSetString(t)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))};E.prototype.applySourceMap=function(r,n,t){var o=n;if(n==null){if(r.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);o=r.file}var i=this._sourceRoot;i!=null&&(o=v.relative(i,o));var s=new X,a=new X;this._mappings.unsortedForEach(function(u){if(u.source===o&&u.originalLine!=null){var l=r.originalPositionFor({line:u.originalLine,column:u.originalColumn});l.source!=null&&(u.source=l.source,t!=null&&(u.source=v.join(t,u.source)),i!=null&&(u.source=v.relative(i,u.source)),u.originalLine=l.line,u.originalColumn=l.column,l.name!=null&&(u.name=l.name))}var c=u.source;c!=null&&!s.has(c)&&s.add(c);var h=u.name;h!=null&&!a.has(h)&&a.add(h)},this),this._sources=s,this._names=a,r.sources.forEach(function(u){var l=r.sourceContentFor(u);l!=null&&(t!=null&&(u=v.join(t,u)),i!=null&&(u=v.relative(i,u)),this.setSourceContent(u,l))},this)};E.prototype._validateMapping=function(r,n,t,o){if(n&&typeof n.line!="number"&&typeof n.column!="number")throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(r&&"line"in r&&"column"in r&&r.line>0&&r.column>=0&&!n&&!t&&!o)){if(r&&"line"in r&&"column"in r&&n&&"line"in n&&"column"in n&&r.line>0&&r.column>=0&&n.line>0&&n.column>=0&&t)return;throw new Error("Invalid mapping: "+JSON.stringify({generated:r,source:t,original:n,name:o}))}};E.prototype._serializeMappings=function(){for(var r=0,n=1,t=0,o=0,i=0,s=0,a="",u,l,c,h,d=this._mappings.toArray(),p=0,M=d.length;p<M;p++){if(l=d[p],u="",l.generatedLine!==n)for(r=0;l.generatedLine!==n;)u+=";",n++;else if(p>0){if(!v.compareByGeneratedPositionsInflated(l,d[p-1]))continue;u+=","}u+=z.encode(l.generatedColumn-r),r=l.generatedColumn,l.source!=null&&(h=this._sources.indexOf(l.source),u+=z.encode(h-s),s=h,u+=z.encode(l.originalLine-1-o),o=l.originalLine-1,u+=z.encode(l.originalColumn-t),t=l.originalColumn,l.name!=null&&(c=this._names.indexOf(l.name),u+=z.encode(c-i),i=c)),a+=u}return a};E.prototype._generateSourcesContent=function(r,n){return r.map(function(t){if(!this._sourcesContents)return null;n!=null&&(t=v.relative(n,t));var o=v.toSetString(t);return Object.prototype.hasOwnProperty.call(this._sourcesContents,o)?this._sourcesContents[o]:null},this)};E.prototype.toJSON=function(){var r={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(r.file=this._file),this._sourceRoot!=null&&(r.sourceRoot=this._sourceRoot),this._sourcesContents&&(r.sourcesContent=this._generateSourcesContent(r.sources,r.sourceRoot)),r};E.prototype.toString=function(){return JSON.stringify(this.toJSON())};Ke.SourceMapGenerator=E});var Ve=w(I=>{I.GREATEST_LOWER_BOUND=1;I.LEAST_UPPER_BOUND=2;function de(e,r,n,t,o,i){var s=Math.floor((r-e)/2)+e,a=o(n,t[s],!0);return a===0?s:a>0?r-s>1?de(s,r,n,t,o,i):i==I.LEAST_UPPER_BOUND?r<t.length?r:-1:s:s-e>1?de(e,s,n,t,o,i):i==I.LEAST_UPPER_BOUND?s:e<0?-1:e}I.search=function(r,n,t,o){if(n.length===0)return-1;var i=de(-1,n.length,r,n,t,o||I.GREATEST_LOWER_BOUND);if(i<0)return-1;for(;i-1>=0&&t(n[i],n[i-1],!0)===0;)--i;return i}});var We=w($e=>{function he(e,r,n){var t=e[r];e[r]=e[n],e[n]=t}function Nr(e,r){return Math.round(e+Math.random()*(r-e))}function pe(e,r,n,t){if(n<t){var o=Nr(n,t),i=n-1;he(e,o,t);for(var s=e[t],a=n;a<t;a++)r(e[a],s)<=0&&(i+=1,he(e,i,a));he(e,i+1,a);var u=i+1;pe(e,r,n,u-1),pe(e,r,u+1,t)}}$e.quickSort=function(e,r){pe(e,r,0,e.length-1)}});var Je=w(Z=>{var f=U(),ge=Ve(),F=ce().ArraySet,xr=se(),K=We().quickSort;function g(e,r){var n=e;return typeof e=="string"&&(n=f.parseSourceMapInput(e)),n.sections!=null?new b(n,r):new m(n,r)}g.fromSourceMap=function(e,r){return m.fromSourceMap(e,r)};g.prototype._version=3;g.prototype.__generatedMappings=null;Object.defineProperty(g.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}});g.prototype.__originalMappings=null;Object.defineProperty(g.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}});g.prototype._charIsMappingSeparator=function(r,n){var t=r.charAt(n);return t===";"||t===","};g.prototype._parseMappings=function(r,n){throw new Error("Subclasses must implement _parseMappings")};g.GENERATED_ORDER=1;g.ORIGINAL_ORDER=2;g.GREATEST_LOWER_BOUND=1;g.LEAST_UPPER_BOUND=2;g.prototype.eachMapping=function(r,n,t){var o=n||null,i=t||g.GENERATED_ORDER,s;switch(i){case g.GENERATED_ORDER:s=this._generatedMappings;break;case g.ORIGINAL_ORDER:s=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var a=this.sourceRoot;s.map(function(u){var l=u.source===null?null:this._sources.at(u.source);return l=f.computeSourceURL(a,l,this._sourceMapURL),{source:l,generatedLine:u.generatedLine,generatedColumn:u.generatedColumn,originalLine:u.originalLine,originalColumn:u.originalColumn,name:u.name===null?null:this._names.at(u.name)}},this).forEach(r,o)};g.prototype.allGeneratedPositionsFor=function(r){var n=f.getArg(r,"line"),t={source:f.getArg(r,"source"),originalLine:n,originalColumn:f.getArg(r,"column",0)};if(t.source=this._findSourceIndex(t.source),t.source<0)return[];var o=[],i=this._findMapping(t,this._originalMappings,"originalLine","originalColumn",f.compareByOriginalPositions,ge.LEAST_UPPER_BOUND);if(i>=0){var s=this._originalMappings[i];if(r.column===void 0)for(var a=s.originalLine;s&&s.originalLine===a;)o.push({line:f.getArg(s,"generatedLine",null),column:f.getArg(s,"generatedColumn",null),lastColumn:f.getArg(s,"lastGeneratedColumn",null)}),s=this._originalMappings[++i];else for(var u=s.originalColumn;s&&s.originalLine===n&&s.originalColumn==u;)o.push({line:f.getArg(s,"generatedLine",null),column:f.getArg(s,"generatedColumn",null),lastColumn:f.getArg(s,"lastGeneratedColumn",null)}),s=this._originalMappings[++i]}return o};Z.SourceMapConsumer=g;function m(e,r){var n=e;typeof e=="string"&&(n=f.parseSourceMapInput(e));var t=f.getArg(n,"version"),o=f.getArg(n,"sources"),i=f.getArg(n,"names",[]),s=f.getArg(n,"sourceRoot",null),a=f.getArg(n,"sourcesContent",null),u=f.getArg(n,"mappings"),l=f.getArg(n,"file",null);if(t!=this._version)throw new Error("Unsupported version: "+t);s&&(s=f.normalize(s)),o=o.map(String).map(f.normalize).map(function(c){return s&&f.isAbsolute(s)&&f.isAbsolute(c)?f.relative(s,c):c}),this._names=F.fromArray(i.map(String),!0),this._sources=F.fromArray(o,!0),this._absoluteSources=this._sources.toArray().map(function(c){return f.computeSourceURL(s,c,r)}),this.sourceRoot=s,this.sourcesContent=a,this._mappings=u,this._sourceMapURL=r,this.file=l}m.prototype=Object.create(g.prototype);m.prototype.consumer=g;m.prototype._findSourceIndex=function(e){var r=e;if(this.sourceRoot!=null&&(r=f.relative(this.sourceRoot,r)),this._sources.has(r))return this._sources.indexOf(r);var n;for(n=0;n<this._absoluteSources.length;++n)if(this._absoluteSources[n]==e)return n;return-1};m.fromSourceMap=function(r,n){var t=Object.create(m.prototype),o=t._names=F.fromArray(r._names.toArray(),!0),i=t._sources=F.fromArray(r._sources.toArray(),!0);t.sourceRoot=r._sourceRoot,t.sourcesContent=r._generateSourcesContent(t._sources.toArray(),t.sourceRoot),t.file=r._file,t._sourceMapURL=n,t._absoluteSources=t._sources.toArray().map(function(p){return f.computeSourceURL(t.sourceRoot,p,n)});for(var s=r._mappings.toArray().slice(),a=t.__generatedMappings=[],u=t.__originalMappings=[],l=0,c=s.length;l<c;l++){var h=s[l],d=new Qe;d.generatedLine=h.generatedLine,d.generatedColumn=h.generatedColumn,h.source&&(d.source=i.indexOf(h.source),d.originalLine=h.originalLine,d.originalColumn=h.originalColumn,h.name&&(d.name=o.indexOf(h.name)),u.push(d)),a.push(d)}return K(t.__originalMappings,f.compareByOriginalPositions),t};m.prototype._version=3;Object.defineProperty(m.prototype,"sources",{get:function(){return this._absoluteSources.slice()}});function Qe(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}m.prototype._parseMappings=function(r,n){for(var t=1,o=0,i=0,s=0,a=0,u=0,l=r.length,c=0,h={},d={},p=[],M=[],S,Q,_,B,Ae;c<l;)if(r.charAt(c)===";")t++,c++,o=0;else if(r.charAt(c)===",")c++;else{for(S=new Qe,S.generatedLine=t,B=c;B<l&&!this._charIsMappingSeparator(r,B);B++);if(Q=r.slice(c,B),_=h[Q],_)c+=Q.length;else{for(_=[];c<B;)xr.decode(r,c,d),Ae=d.value,c=d.rest,_.push(Ae);if(_.length===2)throw new Error("Found a source, but no line and column");if(_.length===3)throw new Error("Found a source and line, but no column");h[Q]=_}S.generatedColumn=o+_[0],o=S.generatedColumn,_.length>1&&(S.source=a+_[1],a+=_[1],S.originalLine=i+_[2],i=S.originalLine,S.originalLine+=1,S.originalColumn=s+_[3],s=S.originalColumn,_.length>4&&(S.name=u+_[4],u+=_[4])),M.push(S),typeof S.originalLine=="number"&&p.push(S)}K(M,f.compareByGeneratedPositionsDeflated),this.__generatedMappings=M,K(p,f.compareByOriginalPositions),this.__originalMappings=p};m.prototype._findMapping=function(r,n,t,o,i,s){if(r[t]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+r[t]);if(r[o]<0)throw new TypeError("Column must be greater than or equal to 0, got "+r[o]);return ge.search(r,n,i,s)};m.prototype.computeColumnSpans=function(){for(var r=0;r<this._generatedMappings.length;++r){var n=this._generatedMappings[r];if(r+1<this._generatedMappings.length){var t=this._generatedMappings[r+1];if(n.generatedLine===t.generatedLine){n.lastGeneratedColumn=t.generatedColumn-1;continue}}n.lastGeneratedColumn=1/0}};m.prototype.originalPositionFor=function(r){var n={generatedLine:f.getArg(r,"line"),generatedColumn:f.getArg(r,"column")},t=this._findMapping(n,this._generatedMappings,"generatedLine","generatedColumn",f.compareByGeneratedPositionsDeflated,f.getArg(r,"bias",g.GREATEST_LOWER_BOUND));if(t>=0){var o=this._generatedMappings[t];if(o.generatedLine===n.generatedLine){var i=f.getArg(o,"source",null);i!==null&&(i=this._sources.at(i),i=f.computeSourceURL(this.sourceRoot,i,this._sourceMapURL));var s=f.getArg(o,"name",null);return s!==null&&(s=this._names.at(s)),{source:i,line:f.getArg(o,"originalLine",null),column:f.getArg(o,"originalColumn",null),name:s}}}return{source:null,line:null,column:null,name:null}};m.prototype.hasContentsOfAllSources=function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(r){return r==null}):!1};m.prototype.sourceContentFor=function(r,n){if(!this.sourcesContent)return null;var t=this._findSourceIndex(r);if(t>=0)return this.sourcesContent[t];var o=r;this.sourceRoot!=null&&(o=f.relative(this.sourceRoot,o));var i;if(this.sourceRoot!=null&&(i=f.urlParse(this.sourceRoot))){var s=o.replace(/^file:\/\//,"");if(i.scheme=="file"&&this._sources.has(s))return this.sourcesContent[this._sources.indexOf(s)];if((!i.path||i.path=="/")&&this._sources.has("/"+o))return this.sourcesContent[this._sources.indexOf("/"+o)]}if(n)return null;throw new Error('"'+o+'" is not in the SourceMap.')};m.prototype.generatedPositionFor=function(r){var n=f.getArg(r,"source");if(n=this._findSourceIndex(n),n<0)return{line:null,column:null,lastColumn:null};var t={source:n,originalLine:f.getArg(r,"line"),originalColumn:f.getArg(r,"column")},o=this._findMapping(t,this._originalMappings,"originalLine","originalColumn",f.compareByOriginalPositions,f.getArg(r,"bias",g.GREATEST_LOWER_BOUND));if(o>=0){var i=this._originalMappings[o];if(i.source===t.source)return{line:f.getArg(i,"generatedLine",null),column:f.getArg(i,"generatedColumn",null),lastColumn:f.getArg(i,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}};Z.BasicSourceMapConsumer=m;function b(e,r){var n=e;typeof e=="string"&&(n=f.parseSourceMapInput(e));var t=f.getArg(n,"version"),o=f.getArg(n,"sections");if(t!=this._version)throw new Error("Unsupported version: "+t);this._sources=new F,this._names=new F;var i={line:-1,column:0};this._sections=o.map(function(s){if(s.url)throw new Error("Support for url field in sections not implemented.");var a=f.getArg(s,"offset"),u=f.getArg(a,"line"),l=f.getArg(a,"column");if(u<i.line||u===i.line&&l<i.column)throw new Error("Section offsets must be ordered and non-overlapping.");return i=a,{generatedOffset:{generatedLine:u+1,generatedColumn:l+1},consumer:new g(f.getArg(s,"map"),r)}})}b.prototype=Object.create(g.prototype);b.prototype.constructor=g;b.prototype._version=3;Object.defineProperty(b.prototype,"sources",{get:function(){for(var e=[],r=0;r<this._sections.length;r++)for(var n=0;n<this._sections[r].consumer.sources.length;n++)e.push(this._sections[r].consumer.sources[n]);return e}});b.prototype.originalPositionFor=function(r){var n={generatedLine:f.getArg(r,"line"),generatedColumn:f.getArg(r,"column")},t=ge.search(n,this._sections,function(i,s){var a=i.generatedLine-s.generatedOffset.generatedLine;return a||i.generatedColumn-s.generatedOffset.generatedColumn}),o=this._sections[t];return o?o.consumer.originalPositionFor({line:n.generatedLine-(o.generatedOffset.generatedLine-1),column:n.generatedColumn-(o.generatedOffset.generatedLine===n.generatedLine?o.generatedOffset.generatedColumn-1:0),bias:r.bias}):{source:null,line:null,column:null,name:null}};b.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(r){return r.consumer.hasContentsOfAllSources()})};b.prototype.sourceContentFor=function(r,n){for(var t=0;t<this._sections.length;t++){var o=this._sections[t],i=o.consumer.sourceContentFor(r,!0);if(i)return i}if(n)return null;throw new Error('"'+r+'" is not in the SourceMap.')};b.prototype.generatedPositionFor=function(r){for(var n=0;n<this._sections.length;n++){var t=this._sections[n];if(t.consumer._findSourceIndex(f.getArg(r,"source"))!==-1){var o=t.consumer.generatedPositionFor(r);if(o){var i={line:o.line+(t.generatedOffset.generatedLine-1),column:o.column+(t.generatedOffset.generatedLine===o.line?t.generatedOffset.generatedColumn-1:0)};return i}}}return{line:null,column:null}};b.prototype._parseMappings=function(r,n){this.__generatedMappings=[],this.__originalMappings=[];for(var t=0;t<this._sections.length;t++)for(var o=this._sections[t],i=o.consumer._generatedMappings,s=0;s<i.length;s++){var a=i[s],u=o.consumer._sources.at(a.source);u=f.computeSourceURL(o.consumer.sourceRoot,u,this._sourceMapURL),this._sources.add(u),u=this._sources.indexOf(u);var l=null;a.name&&(l=o.consumer._names.at(a.name),this._names.add(l),l=this._names.indexOf(l));var c={source:u,generatedLine:a.generatedLine+(o.generatedOffset.generatedLine-1),generatedColumn:a.generatedColumn+(o.generatedOffset.generatedLine===a.generatedLine?o.generatedOffset.generatedColumn-1:0),originalLine:a.originalLine,originalColumn:a.originalColumn,name:l};this.__generatedMappings.push(c),typeof c.originalLine=="number"&&this.__originalMappings.push(c)}K(this.__generatedMappings,f.compareByGeneratedPositionsDeflated),K(this.__originalMappings,f.compareByOriginalPositions)};Z.IndexedSourceMapConsumer=b});var Ze=w(Xe=>{var Ir=fe().SourceMapGenerator,Y=U(),Pr=/(\r?\n)/,Tr=10,D="$$$isSourceNode$$$";function C(e,r,n,t,o){this.children=[],this.sourceContents={},this.line=e??null,this.column=r??null,this.source=n??null,this.name=o??null,this[D]=!0,t!=null&&this.add(t)}C.fromStringWithSourceMap=function(r,n,t){var o=new C,i=r.split(Pr),s=0,a=function(){var d=M(),p=M()||"";return d+p;function M(){return s<i.length?i[s++]:void 0}},u=1,l=0,c=null;return n.eachMapping(function(d){if(c!==null)if(u<d.generatedLine)h(c,a()),u++,l=0;else{var p=i[s]||"",M=p.substr(0,d.generatedColumn-l);i[s]=p.substr(d.generatedColumn-l),l=d.generatedColumn,h(c,M),c=d;return}for(;u<d.generatedLine;)o.add(a()),u++;if(l<d.generatedColumn){var p=i[s]||"";o.add(p.substr(0,d.generatedColumn)),i[s]=p.substr(d.generatedColumn),l=d.generatedColumn}c=d},this),s<i.length&&(c&&h(c,a()),o.add(i.splice(s).join(""))),n.sources.forEach(function(d){var p=n.sourceContentFor(d);p!=null&&(t!=null&&(d=Y.join(t,d)),o.setSourceContent(d,p))}),o;function h(d,p){if(d===null||d.source===void 0)o.add(p);else{var M=t?Y.join(t,d.source):d.source;o.add(new C(d.originalLine,d.originalColumn,M,p,d.name))}}};C.prototype.add=function(r){if(Array.isArray(r))r.forEach(function(n){this.add(n)},this);else if(r[D]||typeof r=="string")r&&this.children.push(r);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+r);return this};C.prototype.prepend=function(r){if(Array.isArray(r))for(var n=r.length-1;n>=0;n--)this.prepend(r[n]);else if(r[D]||typeof r=="string")this.children.unshift(r);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+r);return this};C.prototype.walk=function(r){for(var n,t=0,o=this.children.length;t<o;t++)n=this.children[t],n[D]?n.walk(r):n!==""&&r(n,{source:this.source,line:this.line,column:this.column,name:this.name})};C.prototype.join=function(r){var n,t,o=this.children.length;if(o>0){for(n=[],t=0;t<o-1;t++)n.push(this.children[t]),n.push(r);n.push(this.children[t]),this.children=n}return this};C.prototype.replaceRight=function(r,n){var t=this.children[this.children.length-1];return t[D]?t.replaceRight(r,n):typeof t=="string"?this.children[this.children.length-1]=t.replace(r,n):this.children.push("".replace(r,n)),this};C.prototype.setSourceContent=function(r,n){this.sourceContents[Y.toSetString(r)]=n};C.prototype.walkSourceContents=function(r){for(var n=0,t=this.children.length;n<t;n++)this.children[n][D]&&this.children[n].walkSourceContents(r);for(var o=Object.keys(this.sourceContents),n=0,t=o.length;n<t;n++)r(Y.fromSetString(o[n]),this.sourceContents[o[n]])};C.prototype.toString=function(){var r="";return this.walk(function(n){r+=n}),r};C.prototype.toStringWithSourceMap=function(r){var n={code:"",line:1,column:0},t=new Ir(r),o=!1,i=null,s=null,a=null,u=null;return this.walk(function(l,c){n.code+=l,c.source!==null&&c.line!==null&&c.column!==null?((i!==c.source||s!==c.line||a!==c.column||u!==c.name)&&t.addMapping({source:c.source,original:{line:c.line,column:c.column},generated:{line:n.line,column:n.column},name:c.name}),i=c.source,s=c.line,a=c.column,u=c.name,o=!0):o&&(t.addMapping({generated:{line:n.line,column:n.column}}),i=null,o=!1);for(var h=0,d=l.length;h<d;h++)l.charCodeAt(h)===Tr?(n.line++,n.column=0,h+1===d?(i=null,o=!1):o&&t.addMapping({source:c.source,original:{line:c.line,column:c.column},generated:{line:n.line,column:n.column},name:c.name})):n.column++}),this.walkSourceContents(function(l,c){t.setSourceContent(l,c)}),{code:n.code,map:t}};Xe.SourceNode=C});var Ye=w(H=>{H.SourceMapGenerator=fe().SourceMapGenerator;H.SourceMapConsumer=Je().SourceMapConsumer;H.SourceNode=Ze().SourceNode});var er=w((On,He)=>{var Br=Object.prototype.toString,ve=typeof Buffer<"u"&&typeof Buffer.alloc=="function"&&typeof Buffer.allocUnsafe=="function"&&typeof Buffer.from=="function";function Gr(e){return Br.call(e).slice(8,-1)==="ArrayBuffer"}function jr(e,r,n){r>>>=0;var t=e.byteLength-r;if(t<0)throw new RangeError("'offset' is out of bounds");if(n===void 0)n=t;else if(n>>>=0,n>t)throw new RangeError("'length' is out of bounds");return ve?Buffer.from(e.slice(r,r+n)):new Buffer(new Uint8Array(e.slice(r,r+n)))}function Ur(e,r){if((typeof r!="string"||r==="")&&(r="utf8"),!Buffer.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');return ve?Buffer.from(e,r):new Buffer(e,r)}function Fr(e,r,n){if(typeof e=="number")throw new TypeError('"value" argument must not be a number');return Gr(e)?jr(e,r,n):typeof e=="string"?Ur(e,r):ve?Buffer.from(e):new Buffer(e)}He.exports=Fr});var ar=w((T,Se)=>{var Dr=Ye().SourceMapConsumer,me=Oe("path"),L;try{L=Oe("fs"),(!L.existsSync||!L.readFileSync)&&(L=null)}catch{}var qr=er();function rr(e,r){return e.require(r)}var nr=!1,tr=!1,_e=!1,V="auto",P={},$={},kr=/^data:application\/json[^,]+base64,/,O=[],R=[];function we(){return V==="browser"?!0:V==="node"?!1:typeof window<"u"&&typeof XMLHttpRequest=="function"&&!(window.require&&window.module&&window.process&&window.process.type==="renderer")}function zr(){return typeof process=="object"&&process!==null&&typeof process.on=="function"}function Kr(){return typeof process=="object"&&process!==null?process.version:""}function Vr(){if(typeof process=="object"&&process!==null)return process.stderr}function $r(e){if(typeof process=="object"&&process!==null&&typeof process.exit=="function")return process.exit(e)}function ee(e){return function(r){for(var n=0;n<e.length;n++){var t=e[n](r);if(t)return t}return null}}var Ce=ee(O);O.push(function(e){if(e=e.trim(),/^file:/.test(e)&&(e=e.replace(/file:\/\/\/(\w:)?/,function(t,o){return o?"":"/"})),e in P)return P[e];var r="";try{if(L)L.existsSync(e)&&(r=L.readFileSync(e,"utf8"));else{var n=new XMLHttpRequest;n.open("GET",e,!1),n.send(null),n.readyState===4&&n.status===200&&(r=n.responseText)}}catch{}return P[e]=r});function ye(e,r){if(!e)return r;var n=me.dirname(e),t=/^\w+:\/\/[^\/]*/.exec(n),o=t?t[0]:"",i=n.slice(o.length);return o&&/^\/\w\:/.test(i)?(o+="/",o+me.resolve(n.slice(o.length),r).replace(/\\/g,"/")):o+me.resolve(n.slice(o.length),r)}function Wr(e){var r;if(we())try{var n=new XMLHttpRequest;n.open("GET",e,!1),n.send(null),r=n.readyState===4?n.responseText:null;var t=n.getResponseHeader("SourceMap")||n.getResponseHeader("X-SourceMap");if(t)return t}catch{}r=Ce(e);for(var o=/(?:\/\/[@#][\s]*sourceMappingURL=([^\s'"]+)[\s]*$)|(?:\/\*[@#][\s]*sourceMappingURL=([^\s*'"]+)[\s]*(?:\*\/)[\s]*$)/mg,i,s;s=o.exec(r);)i=s;return i?i[1]:null}var Me=ee(R);R.push(function(e){var r=Wr(e);if(!r)return null;var n;if(kr.test(r)){var t=r.slice(r.indexOf(",")+1);n=qr(t,"base64").toString(),r=e}else r=ye(e,r),n=Ce(r);return n?{url:r,map:n}:null});function Ee(e){var r=$[e.source];if(!r){var n=Me(e.source);n?(r=$[e.source]={url:n.url,map:new Dr(n.map)},r.map.sourcesContent&&r.map.sources.forEach(function(o,i){var s=r.map.sourcesContent[i];if(s){var a=ye(r.url,o);P[a]=s}})):r=$[e.source]={url:null,map:null}}if(r&&r.map&&typeof r.map.originalPositionFor=="function"){var t=r.map.originalPositionFor(e);if(t.source!==null)return t.source=ye(r.url,t.source),t}return e}function ir(e){var r=/^eval at ([^(]+) \((.+):(\d+):(\d+)\)$/.exec(e);if(r){var n=Ee({source:r[2],line:+r[3],column:r[4]-1});return"eval at "+r[1]+" ("+n.source+":"+n.line+":"+(n.column+1)+")"}return r=/^eval at ([^(]+) \((.+)\)$/.exec(e),r?"eval at "+r[1]+" ("+ir(r[2])+")":e}function Qr(){var e,r="";if(this.isNative())r="native";else{e=this.getScriptNameOrSourceURL(),!e&&this.isEval()&&(r=this.getEvalOrigin(),r+=", "),e?r+=e:r+="<anonymous>";var n=this.getLineNumber();if(n!=null){r+=":"+n;var t=this.getColumnNumber();t&&(r+=":"+t)}}var o="",i=this.getFunctionName(),s=!0,a=this.isConstructor(),u=!(this.isToplevel()||a);if(u){var l=this.getTypeName();l==="[object Object]"&&(l="null");var c=this.getMethodName();i?(l&&i.indexOf(l)!=0&&(o+=l+"."),o+=i,c&&i.indexOf("."+c)!=i.length-c.length-1&&(o+=" [as "+c+"]")):o+=l+"."+(c||"<anonymous>")}else a?o+="new "+(i||"<anonymous>"):i?o+=i:(o+=r,s=!1);return s&&(o+=" ("+r+")"),o}function or(e){var r={};return Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(function(n){r[n]=/^(?:is|get)/.test(n)?function(){return e[n].call(e)}:e[n]}),r.toString=Qr,r}function sr(e,r){if(r===void 0&&(r={nextPosition:null,curPosition:null}),e.isNative())return r.curPosition=null,e;var n=e.getFileName()||e.getScriptNameOrSourceURL();if(n){var t=e.getLineNumber(),o=e.getColumnNumber()-1,i=/^v(10\.1[6-9]|10\.[2-9][0-9]|10\.[0-9]{3,}|1[2-9]\d*|[2-9]\d|\d{3,}|11\.11)/,s=i.test(Kr())?0:62;t===1&&o>s&&!we()&&!e.isEval()&&(o-=s);var a=Ee({source:n,line:t,column:o});r.curPosition=a,e=or(e);var u=e.getFunctionName;return e.getFunctionName=function(){return r.nextPosition==null?u():r.nextPosition.name||u()},e.getFileName=function(){return a.source},e.getLineNumber=function(){return a.line},e.getColumnNumber=function(){return a.column+1},e.getScriptNameOrSourceURL=function(){return a.source},e}var l=e.isEval()&&e.getEvalOrigin();return l&&(l=ir(l),e=or(e),e.getEvalOrigin=function(){return l}),e}function Jr(e,r){_e&&(P={},$={});for(var n=e.name||"Error",t=e.message||"",o=n+": "+t,i={nextPosition:null,curPosition:null},s=[],a=r.length-1;a>=0;a--)s.push(`
    at `+sr(r[a],i)),i.nextPosition=i.curPosition;return i.curPosition=i.nextPosition=null,o+s.reverse().join("")}function ur(e){var r=/\n    at [^(]+ \((.*):(\d+):(\d+)\)/.exec(e.stack);if(r){var n=r[1],t=+r[2],o=+r[3],i=P[n];if(!i&&L&&L.existsSync(n))try{i=L.readFileSync(n,"utf8")}catch{i=""}if(i){var s=i.split(/(?:\r\n|\r|\n)/)[t-1];if(s)return n+":"+t+`
`+s+`
`+new Array(o).join(" ")+"^"}}return null}function Xr(e){var r=ur(e),n=Vr();n&&n._handle&&n._handle.setBlocking&&n._handle.setBlocking(!0),r&&(console.error(),console.error(r)),console.error(e.stack),$r(1)}function Zr(){var e=process.emit;process.emit=function(r){if(r==="uncaughtException"){var n=arguments[1]&&arguments[1].stack,t=this.listeners(r).length>0;if(n&&!t)return Xr(arguments[1])}return e.apply(this,arguments)}}var Yr=O.slice(0),Hr=R.slice(0);T.wrapCallSite=sr;T.getErrorSource=ur;T.mapSourcePosition=Ee;T.retrieveSourceMap=Me;T.install=function(e){if(e=e||{},e.environment&&(V=e.environment,["node","browser","auto"].indexOf(V)===-1))throw new Error("environment "+V+" was unknown. Available options are {auto, browser, node}");if(e.retrieveFile&&(e.overrideRetrieveFile&&(O.length=0),O.unshift(e.retrieveFile)),e.retrieveSourceMap&&(e.overrideRetrieveSourceMap&&(R.length=0),R.unshift(e.retrieveSourceMap)),e.hookRequire&&!we()){var r=rr(Se,"module"),n=r.prototype._compile;n.__sourceMapSupport||(r.prototype._compile=function(i,s){return P[s]=i,$[s]=void 0,n.call(this,i,s)},r.prototype._compile.__sourceMapSupport=!0)}if(_e||(_e="emptyCacheBetweenOperations"in e?e.emptyCacheBetweenOperations:!1),nr||(nr=!0,Error.prepareStackTrace=Jr),!tr){var t="handleUncaughtExceptions"in e?e.handleUncaughtExceptions:!0;try{var o=rr(Se,"worker_threads");o.isMainThread===!1&&(t=!1)}catch{}t&&zr()&&(tr=!0,Zr())}};T.resetRetrieveHandlers=function(){O.length=0,R.length=0,O=Yr.slice(0),R=Hr.slice(0),Me=ee(R),Ce=ee(O)}});ar().install();import{DynamoDBClient as an}from"@aws-sdk/client-dynamodb";import{DynamoDBDocumentClient as ln,TransactWriteCommand as cn}from"@aws-sdk/lib-dynamodb";import{setTimeout as en}from"node:timers/promises";var lr=()=>{},rn={timeoutEarlyInMillis:5,timeoutEarlyResponse:()=>{throw new Error("Timeout")}},nn=(e=lr,r={})=>{typeof e!="function"&&(r=e,e=lr),r={...rn,...r},r.timeoutEarly=r.timeoutEarlyInMillis>0,r.beforePrefetch?.();let n=[],t=[],o=[],i=(s={},a={})=>{r.requestStart?.();let u={event:s,context:a,response:void 0,error:void 0,internal:r.internal??{}};return tn(u,[...n],e,[...t],[...o],r)};return i.use=s=>{Array.isArray(s)||(s=[s]);for(let a of s){let{before:u,after:l,onError:c}=a;if(!u&&!l&&!c)throw new Error('Middleware must be an object containing at least one key among "before", "after", "onError"');u&&i.before(u),l&&i.after(l),c&&i.onError(c)}return i},i.before=s=>(n.push(s),i),i.after=s=>(t.unshift(s),i),i.onError=s=>(o.unshift(s),i),i.handler=s=>(e=s,i),i},tn=async(e,r,n,t,o,i)=>{let s,a=i.timeoutEarly&&e.context.getRemainingTimeInMillis;try{if(await be(e,r,i),typeof e.response>"u"){i.beforeHandler?.();let u=new AbortController;a&&(s=new AbortController),e.response=await Promise.race([n(e.event,e.context,{signal:u.signal}),a?en(e.context.getRemainingTimeInMillis()-i.timeoutEarlyInMillis,void 0,{signal:s.signal}).then(()=>(u.abort(),i.timeoutEarlyResponse())):Promise.race([])]),s?.abort(),i.afterHandler?.(),await be(e,t,i)}}catch(u){s?.abort(),e.response=void 0,e.error=u;try{await be(e,o,i)}catch(l){throw l.originalError=e.error,e.error=l,e.error}if(typeof e.response>"u")throw e.error}finally{await i.requestEnd?.(e)}return e.response},be=async(e,r,n)=>{for(let t of r){n.beforeMiddleware?.(t.name);let o=await t(e);if(n.afterMiddleware?.(t.name),typeof o<"u"){e.response=o;return}}},cr=nn;var N=(e,r)=>{if(typeof e!="string")return e;let n=e[0];if(n!=="{"&&n!=="["&&n!=='"')return e;try{return JSON.parse(e,r)}catch{}return e};var on={wrapNumbers:void 0},hr,sn=(e={})=>{let{wrapNumbers:r}={...on,...e};return hr=r,{before:async t=>{re(t.event)}}},re=e=>{let r=e.eventSource??e.deliveryStreamArn,n=e.Records??e.records??e.messages??e.tasks;if(!Array.isArray(n)){r??=(e.configRuleId&&"aws:config")??(e.awslogs&&"aws:cloudwatch")??(e["CodePipeline.job"]&&"aws:codepipeline"),r&&ne[r]?.(e);return}r??=n[0].eventSource??n[0].EventSource??(n[0].s3Key&&"aws:s3:batch");for(let t of n)ne[r]?.(t)},un=/\+/g,ne={"aws:amq":e=>{e.data=W(e.data)},"aws:cloudwatch":e=>{e.awslogs.data=W(e.awslogs.data)},"aws:codepipeline":e=>{e["CodePipeline.job"].data.actionConfiguration.configuration.UserParameters=N(e["CodePipeline.job"].data.actionConfiguration.configuration.UserParameters)},"aws:config":e=>{e.invokingEvent=N(e.invokingEvent),e.ruleParameters=N(e.ruleParameters)},"aws:dynamodb":e=>{e.dynamodb.Keys=Le(e.dynamodb.Keys),e.dynamodb.NewImage=Le(e.dynamodb.NewImage),e.dynamodb.OldImage=Le(e.dynamodb.OldImage)},"aws:kafka":e=>{for(let r in e.records)for(let n of e.records[r])n.value&&=W(n.value)},"aws:kinesis":e=>{e.kinesis.data=W(e.kinesis.data)},"aws:lambda:events":e=>{e.data=W(e.data)},"aws:s3":e=>{e.s3.object.key=fr(e.s3.object.key)},"aws:s3:batch":e=>{e.s3Key=fr(e.s3Key)},SelfManagedKafka:e=>{ne["aws:kafka"](e)},"aws:sns":e=>{e.Sns.Message=N(e.Sns.Message),re(e.Sns.Message)},"aws:sns:sqs":e=>{e.Message=N(e.Message),re(e.Message)},"aws:sqs":e=>{e.body=N(e.body),e.body.Type==="Notification"?ne["aws:sns:sqs"](e.body):re(e.body)}},W=e=>N(Buffer.from(e,"base64").toString("utf-8")),fr=e=>decodeURIComponent(e.replace(un," ")),Le=e=>q.M(e??{}),q={NULL:()=>null,BOOL:Boolean,N:e=>{if(hr)return{value:e};let r=Number(e);if((Number.MAX_SAFE_INTEGER<r||r<Number.MIN_SAFE_INTEGER)&&r!==Number.NEGATIVE_INFINITY&&r!==Number.POSITIVE_INFINITY)try{return BigInt(e)}catch{throw new Error(`${e} can't be converted to BigInt. Set options.wrapNumbers to get string value.`)}return r},B:e=>e,S:e=>e,L:e=>e.map(r=>dr(r)),M:e=>Object.entries(e).reduce((r,[n,t])=>({...r,[n]:dr(t)}),{}),NS:e=>new Set(e.map(q.N)),BS:e=>new Set(e.map(q.B)),SS:e=>new Set(e.map(q.S))},dr=e=>{for(let[r,n]of Object.entries(e)){if(!q[r])throw new Error(`Unsupported type passed: ${r}`);if(!(typeof n>"u"))return q[r](n)}},pr=sn;var fn=process.env.AWS_REGION,gr=process.env.TABLE_NAME,dn=new an({region:fn}),hn={marshallOptions:{convertEmptyValues:!1,removeUndefinedValues:!1,convertClassInstanceToMap:!1},unmarshallOptions:{wrapNumbers:!1}},pn=async e=>ln.from(dn,hn).send(new cn(e)),gn=async e=>{console.log({event:e,tableName:gr});let r=[];Object.values(e.records).flatMap(n=>n).map(n=>{n.value&&r.push(n.value)}),await Promise.all(r.map(async n=>{console.log({obj:n});try{await pn({TransactItems:[{Update:{TableName:gr,Key:{PK:"B#B",SK:"A#A"},UpdateExpression:"SET something = :something",ExpressionAttributeValues:{":something":n}}}]}),console.log({write:"success"})}catch(t){console.log({write:"failure"}),console.error(t)}}))},Dn=cr(gn).use(pr());export{Dn as handler};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3NvdXJjZS1tYXAvbGliL2Jhc2U2NC5qcyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvc291cmNlLW1hcC9saWIvYmFzZTY0LXZscS5qcyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvc291cmNlLW1hcC9saWIvdXRpbC5qcyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvc291cmNlLW1hcC9saWIvYXJyYXktc2V0LmpzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9zb3VyY2UtbWFwL2xpYi9tYXBwaW5nLWxpc3QuanMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3NvdXJjZS1tYXAvbGliL3NvdXJjZS1tYXAtZ2VuZXJhdG9yLmpzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9zb3VyY2UtbWFwL2xpYi9iaW5hcnktc2VhcmNoLmpzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9zb3VyY2UtbWFwL2xpYi9xdWljay1zb3J0LmpzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9zb3VyY2UtbWFwL2xpYi9zb3VyY2UtbWFwLWNvbnN1bWVyLmpzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9zb3VyY2UtbWFwL2xpYi9zb3VyY2Utbm9kZS5qcyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvc291cmNlLW1hcC9zb3VyY2UtbWFwLmpzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9idWZmZXItZnJvbS9pbmRleC5qcyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvc291cmNlLW1hcC1zdXBwb3J0L3NvdXJjZS1tYXAtc3VwcG9ydC5qcyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvc291cmNlLW1hcC1zdXBwb3J0L3JlZ2lzdGVyLmpzIiwgIi4uLy4uLy4uL3NyYy9mdW5jdGlvbnMvdHJpZ2dlci9pbmRleC50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQG1pZGR5L2NvcmUvaW5kZXguanMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BtaWRkeS91dGlsL2luZGV4LmpzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbWlkZHkvZXZlbnQtbm9ybWFsaXplci9pbmRleC5qcyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiLyogLSotIE1vZGU6IGpzOyBqcy1pbmRlbnQtbGV2ZWw6IDI7IC0qLSAqL1xuLypcbiAqIENvcHlyaWdodCAyMDExIE1vemlsbGEgRm91bmRhdGlvbiBhbmQgY29udHJpYnV0b3JzXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTmV3IEJTRCBsaWNlbnNlLiBTZWUgTElDRU5TRSBvcjpcbiAqIGh0dHA6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9CU0QtMy1DbGF1c2VcbiAqL1xuXG52YXIgaW50VG9DaGFyTWFwID0gJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky8nLnNwbGl0KCcnKTtcblxuLyoqXG4gKiBFbmNvZGUgYW4gaW50ZWdlciBpbiB0aGUgcmFuZ2Ugb2YgMCB0byA2MyB0byBhIHNpbmdsZSBiYXNlIDY0IGRpZ2l0LlxuICovXG5leHBvcnRzLmVuY29kZSA9IGZ1bmN0aW9uIChudW1iZXIpIHtcbiAgaWYgKDAgPD0gbnVtYmVyICYmIG51bWJlciA8IGludFRvQ2hhck1hcC5sZW5ndGgpIHtcbiAgICByZXR1cm4gaW50VG9DaGFyTWFwW251bWJlcl07XG4gIH1cbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIk11c3QgYmUgYmV0d2VlbiAwIGFuZCA2MzogXCIgKyBudW1iZXIpO1xufTtcblxuLyoqXG4gKiBEZWNvZGUgYSBzaW5nbGUgYmFzZSA2NCBjaGFyYWN0ZXIgY29kZSBkaWdpdCB0byBhbiBpbnRlZ2VyLiBSZXR1cm5zIC0xIG9uXG4gKiBmYWlsdXJlLlxuICovXG5leHBvcnRzLmRlY29kZSA9IGZ1bmN0aW9uIChjaGFyQ29kZSkge1xuICB2YXIgYmlnQSA9IDY1OyAgICAgLy8gJ0EnXG4gIHZhciBiaWdaID0gOTA7ICAgICAvLyAnWidcblxuICB2YXIgbGl0dGxlQSA9IDk3OyAgLy8gJ2EnXG4gIHZhciBsaXR0bGVaID0gMTIyOyAvLyAneidcblxuICB2YXIgemVybyA9IDQ4OyAgICAgLy8gJzAnXG4gIHZhciBuaW5lID0gNTc7ICAgICAvLyAnOSdcblxuICB2YXIgcGx1cyA9IDQzOyAgICAgLy8gJysnXG4gIHZhciBzbGFzaCA9IDQ3OyAgICAvLyAnLydcblxuICB2YXIgbGl0dGxlT2Zmc2V0ID0gMjY7XG4gIHZhciBudW1iZXJPZmZzZXQgPSA1MjtcblxuICAvLyAwIC0gMjU6IEFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaXG4gIGlmIChiaWdBIDw9IGNoYXJDb2RlICYmIGNoYXJDb2RlIDw9IGJpZ1opIHtcbiAgICByZXR1cm4gKGNoYXJDb2RlIC0gYmlnQSk7XG4gIH1cblxuICAvLyAyNiAtIDUxOiBhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5elxuICBpZiAobGl0dGxlQSA8PSBjaGFyQ29kZSAmJiBjaGFyQ29kZSA8PSBsaXR0bGVaKSB7XG4gICAgcmV0dXJuIChjaGFyQ29kZSAtIGxpdHRsZUEgKyBsaXR0bGVPZmZzZXQpO1xuICB9XG5cbiAgLy8gNTIgLSA2MTogMDEyMzQ1Njc4OVxuICBpZiAoemVybyA8PSBjaGFyQ29kZSAmJiBjaGFyQ29kZSA8PSBuaW5lKSB7XG4gICAgcmV0dXJuIChjaGFyQ29kZSAtIHplcm8gKyBudW1iZXJPZmZzZXQpO1xuICB9XG5cbiAgLy8gNjI6ICtcbiAgaWYgKGNoYXJDb2RlID09IHBsdXMpIHtcbiAgICByZXR1cm4gNjI7XG4gIH1cblxuICAvLyA2MzogL1xuICBpZiAoY2hhckNvZGUgPT0gc2xhc2gpIHtcbiAgICByZXR1cm4gNjM7XG4gIH1cblxuICAvLyBJbnZhbGlkIGJhc2U2NCBkaWdpdC5cbiAgcmV0dXJuIC0xO1xufTtcbiIsICIvKiAtKi0gTW9kZToganM7IGpzLWluZGVudC1sZXZlbDogMjsgLSotICovXG4vKlxuICogQ29weXJpZ2h0IDIwMTEgTW96aWxsYSBGb3VuZGF0aW9uIGFuZCBjb250cmlidXRvcnNcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBOZXcgQlNEIGxpY2Vuc2UuIFNlZSBMSUNFTlNFIG9yOlxuICogaHR0cDovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL0JTRC0zLUNsYXVzZVxuICpcbiAqIEJhc2VkIG9uIHRoZSBCYXNlIDY0IFZMUSBpbXBsZW1lbnRhdGlvbiBpbiBDbG9zdXJlIENvbXBpbGVyOlxuICogaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9jbG9zdXJlLWNvbXBpbGVyL3NvdXJjZS9icm93c2UvdHJ1bmsvc3JjL2NvbS9nb29nbGUvZGVidWdnaW5nL3NvdXJjZW1hcC9CYXNlNjRWTFEuamF2YVxuICpcbiAqIENvcHlyaWdodCAyMDExIFRoZSBDbG9zdXJlIENvbXBpbGVyIEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBSZWRpc3RyaWJ1dGlvbiBhbmQgdXNlIGluIHNvdXJjZSBhbmQgYmluYXJ5IGZvcm1zLCB3aXRoIG9yIHdpdGhvdXRcbiAqIG1vZGlmaWNhdGlvbiwgYXJlIHBlcm1pdHRlZCBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucyBhcmVcbiAqIG1ldDpcbiAqXG4gKiAgKiBSZWRpc3RyaWJ1dGlvbnMgb2Ygc291cmNlIGNvZGUgbXVzdCByZXRhaW4gdGhlIGFib3ZlIGNvcHlyaWdodFxuICogICAgbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyLlxuICogICogUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZVxuICogICAgY29weXJpZ2h0IG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmdcbiAqICAgIGRpc2NsYWltZXIgaW4gdGhlIGRvY3VtZW50YXRpb24gYW5kL29yIG90aGVyIG1hdGVyaWFscyBwcm92aWRlZFxuICogICAgd2l0aCB0aGUgZGlzdHJpYnV0aW9uLlxuICogICogTmVpdGhlciB0aGUgbmFtZSBvZiBHb29nbGUgSW5jLiBub3IgdGhlIG5hbWVzIG9mIGl0c1xuICogICAgY29udHJpYnV0b3JzIG1heSBiZSB1c2VkIHRvIGVuZG9yc2Ugb3IgcHJvbW90ZSBwcm9kdWN0cyBkZXJpdmVkXG4gKiAgICBmcm9tIHRoaXMgc29mdHdhcmUgd2l0aG91dCBzcGVjaWZpYyBwcmlvciB3cml0dGVuIHBlcm1pc3Npb24uXG4gKlxuICogVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUlMgQU5EIENPTlRSSUJVVE9SU1xuICogXCJBUyBJU1wiIEFORCBBTlkgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVFxuICogTElNSVRFRCBUTywgVEhFIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MgRk9SXG4gKiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBUkUgRElTQ0xBSU1FRC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIENPUFlSSUdIVFxuICogT1dORVIgT1IgQ09OVFJJQlVUT1JTIEJFIExJQUJMRSBGT1IgQU5ZIERJUkVDVCwgSU5ESVJFQ1QsIElOQ0lERU5UQUwsXG4gKiBTUEVDSUFMLCBFWEVNUExBUlksIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyAoSU5DTFVESU5HLCBCVVQgTk9UXG4gKiBMSU1JVEVEIFRPLCBQUk9DVVJFTUVOVCBPRiBTVUJTVElUVVRFIEdPT0RTIE9SIFNFUlZJQ0VTOyBMT1NTIE9GIFVTRSxcbiAqIERBVEEsIE9SIFBST0ZJVFM7IE9SIEJVU0lORVNTIElOVEVSUlVQVElPTikgSE9XRVZFUiBDQVVTRUQgQU5EIE9OIEFOWVxuICogVEhFT1JZIE9GIExJQUJJTElUWSwgV0hFVEhFUiBJTiBDT05UUkFDVCwgU1RSSUNUIExJQUJJTElUWSwgT1IgVE9SVFxuICogKElOQ0xVRElORyBORUdMSUdFTkNFIE9SIE9USEVSV0lTRSkgQVJJU0lORyBJTiBBTlkgV0FZIE9VVCBPRiBUSEUgVVNFXG4gKiBPRiBUSElTIFNPRlRXQVJFLCBFVkVOIElGIEFEVklTRUQgT0YgVEhFIFBPU1NJQklMSVRZIE9GIFNVQ0ggREFNQUdFLlxuICovXG5cbnZhciBiYXNlNjQgPSByZXF1aXJlKCcuL2Jhc2U2NCcpO1xuXG4vLyBBIHNpbmdsZSBiYXNlIDY0IGRpZ2l0IGNhbiBjb250YWluIDYgYml0cyBvZiBkYXRhLiBGb3IgdGhlIGJhc2UgNjQgdmFyaWFibGVcbi8vIGxlbmd0aCBxdWFudGl0aWVzIHdlIHVzZSBpbiB0aGUgc291cmNlIG1hcCBzcGVjLCB0aGUgZmlyc3QgYml0IGlzIHRoZSBzaWduLFxuLy8gdGhlIG5leHQgZm91ciBiaXRzIGFyZSB0aGUgYWN0dWFsIHZhbHVlLCBhbmQgdGhlIDZ0aCBiaXQgaXMgdGhlXG4vLyBjb250aW51YXRpb24gYml0LiBUaGUgY29udGludWF0aW9uIGJpdCB0ZWxscyB1cyB3aGV0aGVyIHRoZXJlIGFyZSBtb3JlXG4vLyBkaWdpdHMgaW4gdGhpcyB2YWx1ZSBmb2xsb3dpbmcgdGhpcyBkaWdpdC5cbi8vXG4vLyAgIENvbnRpbnVhdGlvblxuLy8gICB8ICAgIFNpZ25cbi8vICAgfCAgICB8XG4vLyAgIFYgICAgVlxuLy8gICAxMDEwMTFcblxudmFyIFZMUV9CQVNFX1NISUZUID0gNTtcblxuLy8gYmluYXJ5OiAxMDAwMDBcbnZhciBWTFFfQkFTRSA9IDEgPDwgVkxRX0JBU0VfU0hJRlQ7XG5cbi8vIGJpbmFyeTogMDExMTExXG52YXIgVkxRX0JBU0VfTUFTSyA9IFZMUV9CQVNFIC0gMTtcblxuLy8gYmluYXJ5OiAxMDAwMDBcbnZhciBWTFFfQ09OVElOVUFUSU9OX0JJVCA9IFZMUV9CQVNFO1xuXG4vKipcbiAqIENvbnZlcnRzIGZyb20gYSB0d28tY29tcGxlbWVudCB2YWx1ZSB0byBhIHZhbHVlIHdoZXJlIHRoZSBzaWduIGJpdCBpc1xuICogcGxhY2VkIGluIHRoZSBsZWFzdCBzaWduaWZpY2FudCBiaXQuICBGb3IgZXhhbXBsZSwgYXMgZGVjaW1hbHM6XG4gKiAgIDEgYmVjb21lcyAyICgxMCBiaW5hcnkpLCAtMSBiZWNvbWVzIDMgKDExIGJpbmFyeSlcbiAqICAgMiBiZWNvbWVzIDQgKDEwMCBiaW5hcnkpLCAtMiBiZWNvbWVzIDUgKDEwMSBiaW5hcnkpXG4gKi9cbmZ1bmN0aW9uIHRvVkxRU2lnbmVkKGFWYWx1ZSkge1xuICByZXR1cm4gYVZhbHVlIDwgMFxuICAgID8gKCgtYVZhbHVlKSA8PCAxKSArIDFcbiAgICA6IChhVmFsdWUgPDwgMSkgKyAwO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIHRvIGEgdHdvLWNvbXBsZW1lbnQgdmFsdWUgZnJvbSBhIHZhbHVlIHdoZXJlIHRoZSBzaWduIGJpdCBpc1xuICogcGxhY2VkIGluIHRoZSBsZWFzdCBzaWduaWZpY2FudCBiaXQuICBGb3IgZXhhbXBsZSwgYXMgZGVjaW1hbHM6XG4gKiAgIDIgKDEwIGJpbmFyeSkgYmVjb21lcyAxLCAzICgxMSBiaW5hcnkpIGJlY29tZXMgLTFcbiAqICAgNCAoMTAwIGJpbmFyeSkgYmVjb21lcyAyLCA1ICgxMDEgYmluYXJ5KSBiZWNvbWVzIC0yXG4gKi9cbmZ1bmN0aW9uIGZyb21WTFFTaWduZWQoYVZhbHVlKSB7XG4gIHZhciBpc05lZ2F0aXZlID0gKGFWYWx1ZSAmIDEpID09PSAxO1xuICB2YXIgc2hpZnRlZCA9IGFWYWx1ZSA+PiAxO1xuICByZXR1cm4gaXNOZWdhdGl2ZVxuICAgID8gLXNoaWZ0ZWRcbiAgICA6IHNoaWZ0ZWQ7XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgYmFzZSA2NCBWTFEgZW5jb2RlZCB2YWx1ZS5cbiAqL1xuZXhwb3J0cy5lbmNvZGUgPSBmdW5jdGlvbiBiYXNlNjRWTFFfZW5jb2RlKGFWYWx1ZSkge1xuICB2YXIgZW5jb2RlZCA9IFwiXCI7XG4gIHZhciBkaWdpdDtcblxuICB2YXIgdmxxID0gdG9WTFFTaWduZWQoYVZhbHVlKTtcblxuICBkbyB7XG4gICAgZGlnaXQgPSB2bHEgJiBWTFFfQkFTRV9NQVNLO1xuICAgIHZscSA+Pj49IFZMUV9CQVNFX1NISUZUO1xuICAgIGlmICh2bHEgPiAwKSB7XG4gICAgICAvLyBUaGVyZSBhcmUgc3RpbGwgbW9yZSBkaWdpdHMgaW4gdGhpcyB2YWx1ZSwgc28gd2UgbXVzdCBtYWtlIHN1cmUgdGhlXG4gICAgICAvLyBjb250aW51YXRpb24gYml0IGlzIG1hcmtlZC5cbiAgICAgIGRpZ2l0IHw9IFZMUV9DT05USU5VQVRJT05fQklUO1xuICAgIH1cbiAgICBlbmNvZGVkICs9IGJhc2U2NC5lbmNvZGUoZGlnaXQpO1xuICB9IHdoaWxlICh2bHEgPiAwKTtcblxuICByZXR1cm4gZW5jb2RlZDtcbn07XG5cbi8qKlxuICogRGVjb2RlcyB0aGUgbmV4dCBiYXNlIDY0IFZMUSB2YWx1ZSBmcm9tIHRoZSBnaXZlbiBzdHJpbmcgYW5kIHJldHVybnMgdGhlXG4gKiB2YWx1ZSBhbmQgdGhlIHJlc3Qgb2YgdGhlIHN0cmluZyB2aWEgdGhlIG91dCBwYXJhbWV0ZXIuXG4gKi9cbmV4cG9ydHMuZGVjb2RlID0gZnVuY3Rpb24gYmFzZTY0VkxRX2RlY29kZShhU3RyLCBhSW5kZXgsIGFPdXRQYXJhbSkge1xuICB2YXIgc3RyTGVuID0gYVN0ci5sZW5ndGg7XG4gIHZhciByZXN1bHQgPSAwO1xuICB2YXIgc2hpZnQgPSAwO1xuICB2YXIgY29udGludWF0aW9uLCBkaWdpdDtcblxuICBkbyB7XG4gICAgaWYgKGFJbmRleCA+PSBzdHJMZW4pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkV4cGVjdGVkIG1vcmUgZGlnaXRzIGluIGJhc2UgNjQgVkxRIHZhbHVlLlwiKTtcbiAgICB9XG5cbiAgICBkaWdpdCA9IGJhc2U2NC5kZWNvZGUoYVN0ci5jaGFyQ29kZUF0KGFJbmRleCsrKSk7XG4gICAgaWYgKGRpZ2l0ID09PSAtMSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBiYXNlNjQgZGlnaXQ6IFwiICsgYVN0ci5jaGFyQXQoYUluZGV4IC0gMSkpO1xuICAgIH1cblxuICAgIGNvbnRpbnVhdGlvbiA9ICEhKGRpZ2l0ICYgVkxRX0NPTlRJTlVBVElPTl9CSVQpO1xuICAgIGRpZ2l0ICY9IFZMUV9CQVNFX01BU0s7XG4gICAgcmVzdWx0ID0gcmVzdWx0ICsgKGRpZ2l0IDw8IHNoaWZ0KTtcbiAgICBzaGlmdCArPSBWTFFfQkFTRV9TSElGVDtcbiAgfSB3aGlsZSAoY29udGludWF0aW9uKTtcblxuICBhT3V0UGFyYW0udmFsdWUgPSBmcm9tVkxRU2lnbmVkKHJlc3VsdCk7XG4gIGFPdXRQYXJhbS5yZXN0ID0gYUluZGV4O1xufTtcbiIsICIvKiAtKi0gTW9kZToganM7IGpzLWluZGVudC1sZXZlbDogMjsgLSotICovXG4vKlxuICogQ29weXJpZ2h0IDIwMTEgTW96aWxsYSBGb3VuZGF0aW9uIGFuZCBjb250cmlidXRvcnNcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBOZXcgQlNEIGxpY2Vuc2UuIFNlZSBMSUNFTlNFIG9yOlxuICogaHR0cDovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL0JTRC0zLUNsYXVzZVxuICovXG5cbi8qKlxuICogVGhpcyBpcyBhIGhlbHBlciBmdW5jdGlvbiBmb3IgZ2V0dGluZyB2YWx1ZXMgZnJvbSBwYXJhbWV0ZXIvb3B0aW9uc1xuICogb2JqZWN0cy5cbiAqXG4gKiBAcGFyYW0gYXJncyBUaGUgb2JqZWN0IHdlIGFyZSBleHRyYWN0aW5nIHZhbHVlcyBmcm9tXG4gKiBAcGFyYW0gbmFtZSBUaGUgbmFtZSBvZiB0aGUgcHJvcGVydHkgd2UgYXJlIGdldHRpbmcuXG4gKiBAcGFyYW0gZGVmYXVsdFZhbHVlIEFuIG9wdGlvbmFsIHZhbHVlIHRvIHJldHVybiBpZiB0aGUgcHJvcGVydHkgaXMgbWlzc2luZ1xuICogZnJvbSB0aGUgb2JqZWN0LiBJZiB0aGlzIGlzIG5vdCBzcGVjaWZpZWQgYW5kIHRoZSBwcm9wZXJ0eSBpcyBtaXNzaW5nLCBhblxuICogZXJyb3Igd2lsbCBiZSB0aHJvd24uXG4gKi9cbmZ1bmN0aW9uIGdldEFyZyhhQXJncywgYU5hbWUsIGFEZWZhdWx0VmFsdWUpIHtcbiAgaWYgKGFOYW1lIGluIGFBcmdzKSB7XG4gICAgcmV0dXJuIGFBcmdzW2FOYW1lXTtcbiAgfSBlbHNlIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAzKSB7XG4gICAgcmV0dXJuIGFEZWZhdWx0VmFsdWU7XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdcIicgKyBhTmFtZSArICdcIiBpcyBhIHJlcXVpcmVkIGFyZ3VtZW50LicpO1xuICB9XG59XG5leHBvcnRzLmdldEFyZyA9IGdldEFyZztcblxudmFyIHVybFJlZ2V4cCA9IC9eKD86KFtcXHcrXFwtLl0rKTopP1xcL1xcLyg/OihcXHcrOlxcdyspQCk/KFtcXHcuLV0qKSg/OjooXFxkKykpPyguKikkLztcbnZhciBkYXRhVXJsUmVnZXhwID0gL15kYXRhOi4rXFwsLiskLztcblxuZnVuY3Rpb24gdXJsUGFyc2UoYVVybCkge1xuICB2YXIgbWF0Y2ggPSBhVXJsLm1hdGNoKHVybFJlZ2V4cCk7XG4gIGlmICghbWF0Y2gpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICByZXR1cm4ge1xuICAgIHNjaGVtZTogbWF0Y2hbMV0sXG4gICAgYXV0aDogbWF0Y2hbMl0sXG4gICAgaG9zdDogbWF0Y2hbM10sXG4gICAgcG9ydDogbWF0Y2hbNF0sXG4gICAgcGF0aDogbWF0Y2hbNV1cbiAgfTtcbn1cbmV4cG9ydHMudXJsUGFyc2UgPSB1cmxQYXJzZTtcblxuZnVuY3Rpb24gdXJsR2VuZXJhdGUoYVBhcnNlZFVybCkge1xuICB2YXIgdXJsID0gJyc7XG4gIGlmIChhUGFyc2VkVXJsLnNjaGVtZSkge1xuICAgIHVybCArPSBhUGFyc2VkVXJsLnNjaGVtZSArICc6JztcbiAgfVxuICB1cmwgKz0gJy8vJztcbiAgaWYgKGFQYXJzZWRVcmwuYXV0aCkge1xuICAgIHVybCArPSBhUGFyc2VkVXJsLmF1dGggKyAnQCc7XG4gIH1cbiAgaWYgKGFQYXJzZWRVcmwuaG9zdCkge1xuICAgIHVybCArPSBhUGFyc2VkVXJsLmhvc3Q7XG4gIH1cbiAgaWYgKGFQYXJzZWRVcmwucG9ydCkge1xuICAgIHVybCArPSBcIjpcIiArIGFQYXJzZWRVcmwucG9ydFxuICB9XG4gIGlmIChhUGFyc2VkVXJsLnBhdGgpIHtcbiAgICB1cmwgKz0gYVBhcnNlZFVybC5wYXRoO1xuICB9XG4gIHJldHVybiB1cmw7XG59XG5leHBvcnRzLnVybEdlbmVyYXRlID0gdXJsR2VuZXJhdGU7XG5cbi8qKlxuICogTm9ybWFsaXplcyBhIHBhdGgsIG9yIHRoZSBwYXRoIHBvcnRpb24gb2YgYSBVUkw6XG4gKlxuICogLSBSZXBsYWNlcyBjb25zZWN1dGl2ZSBzbGFzaGVzIHdpdGggb25lIHNsYXNoLlxuICogLSBSZW1vdmVzIHVubmVjZXNzYXJ5ICcuJyBwYXJ0cy5cbiAqIC0gUmVtb3ZlcyB1bm5lY2Vzc2FyeSAnPGRpcj4vLi4nIHBhcnRzLlxuICpcbiAqIEJhc2VkIG9uIGNvZGUgaW4gdGhlIE5vZGUuanMgJ3BhdGgnIGNvcmUgbW9kdWxlLlxuICpcbiAqIEBwYXJhbSBhUGF0aCBUaGUgcGF0aCBvciB1cmwgdG8gbm9ybWFsaXplLlxuICovXG5mdW5jdGlvbiBub3JtYWxpemUoYVBhdGgpIHtcbiAgdmFyIHBhdGggPSBhUGF0aDtcbiAgdmFyIHVybCA9IHVybFBhcnNlKGFQYXRoKTtcbiAgaWYgKHVybCkge1xuICAgIGlmICghdXJsLnBhdGgpIHtcbiAgICAgIHJldHVybiBhUGF0aDtcbiAgICB9XG4gICAgcGF0aCA9IHVybC5wYXRoO1xuICB9XG4gIHZhciBpc0Fic29sdXRlID0gZXhwb3J0cy5pc0Fic29sdXRlKHBhdGgpO1xuXG4gIHZhciBwYXJ0cyA9IHBhdGguc3BsaXQoL1xcLysvKTtcbiAgZm9yICh2YXIgcGFydCwgdXAgPSAwLCBpID0gcGFydHMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICBwYXJ0ID0gcGFydHNbaV07XG4gICAgaWYgKHBhcnQgPT09ICcuJykge1xuICAgICAgcGFydHMuc3BsaWNlKGksIDEpO1xuICAgIH0gZWxzZSBpZiAocGFydCA9PT0gJy4uJykge1xuICAgICAgdXArKztcbiAgICB9IGVsc2UgaWYgKHVwID4gMCkge1xuICAgICAgaWYgKHBhcnQgPT09ICcnKSB7XG4gICAgICAgIC8vIFRoZSBmaXJzdCBwYXJ0IGlzIGJsYW5rIGlmIHRoZSBwYXRoIGlzIGFic29sdXRlLiBUcnlpbmcgdG8gZ29cbiAgICAgICAgLy8gYWJvdmUgdGhlIHJvb3QgaXMgYSBuby1vcC4gVGhlcmVmb3JlIHdlIGNhbiByZW1vdmUgYWxsICcuLicgcGFydHNcbiAgICAgICAgLy8gZGlyZWN0bHkgYWZ0ZXIgdGhlIHJvb3QuXG4gICAgICAgIHBhcnRzLnNwbGljZShpICsgMSwgdXApO1xuICAgICAgICB1cCA9IDA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYXJ0cy5zcGxpY2UoaSwgMik7XG4gICAgICAgIHVwLS07XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHBhdGggPSBwYXJ0cy5qb2luKCcvJyk7XG5cbiAgaWYgKHBhdGggPT09ICcnKSB7XG4gICAgcGF0aCA9IGlzQWJzb2x1dGUgPyAnLycgOiAnLic7XG4gIH1cblxuICBpZiAodXJsKSB7XG4gICAgdXJsLnBhdGggPSBwYXRoO1xuICAgIHJldHVybiB1cmxHZW5lcmF0ZSh1cmwpO1xuICB9XG4gIHJldHVybiBwYXRoO1xufVxuZXhwb3J0cy5ub3JtYWxpemUgPSBub3JtYWxpemU7XG5cbi8qKlxuICogSm9pbnMgdHdvIHBhdGhzL1VSTHMuXG4gKlxuICogQHBhcmFtIGFSb290IFRoZSByb290IHBhdGggb3IgVVJMLlxuICogQHBhcmFtIGFQYXRoIFRoZSBwYXRoIG9yIFVSTCB0byBiZSBqb2luZWQgd2l0aCB0aGUgcm9vdC5cbiAqXG4gKiAtIElmIGFQYXRoIGlzIGEgVVJMIG9yIGEgZGF0YSBVUkksIGFQYXRoIGlzIHJldHVybmVkLCB1bmxlc3MgYVBhdGggaXMgYVxuICogICBzY2hlbWUtcmVsYXRpdmUgVVJMOiBUaGVuIHRoZSBzY2hlbWUgb2YgYVJvb3QsIGlmIGFueSwgaXMgcHJlcGVuZGVkXG4gKiAgIGZpcnN0LlxuICogLSBPdGhlcndpc2UgYVBhdGggaXMgYSBwYXRoLiBJZiBhUm9vdCBpcyBhIFVSTCwgdGhlbiBpdHMgcGF0aCBwb3J0aW9uXG4gKiAgIGlzIHVwZGF0ZWQgd2l0aCB0aGUgcmVzdWx0IGFuZCBhUm9vdCBpcyByZXR1cm5lZC4gT3RoZXJ3aXNlIHRoZSByZXN1bHRcbiAqICAgaXMgcmV0dXJuZWQuXG4gKiAgIC0gSWYgYVBhdGggaXMgYWJzb2x1dGUsIHRoZSByZXN1bHQgaXMgYVBhdGguXG4gKiAgIC0gT3RoZXJ3aXNlIHRoZSB0d28gcGF0aHMgYXJlIGpvaW5lZCB3aXRoIGEgc2xhc2guXG4gKiAtIEpvaW5pbmcgZm9yIGV4YW1wbGUgJ2h0dHA6Ly8nIGFuZCAnd3d3LmV4YW1wbGUuY29tJyBpcyBhbHNvIHN1cHBvcnRlZC5cbiAqL1xuZnVuY3Rpb24gam9pbihhUm9vdCwgYVBhdGgpIHtcbiAgaWYgKGFSb290ID09PSBcIlwiKSB7XG4gICAgYVJvb3QgPSBcIi5cIjtcbiAgfVxuICBpZiAoYVBhdGggPT09IFwiXCIpIHtcbiAgICBhUGF0aCA9IFwiLlwiO1xuICB9XG4gIHZhciBhUGF0aFVybCA9IHVybFBhcnNlKGFQYXRoKTtcbiAgdmFyIGFSb290VXJsID0gdXJsUGFyc2UoYVJvb3QpO1xuICBpZiAoYVJvb3RVcmwpIHtcbiAgICBhUm9vdCA9IGFSb290VXJsLnBhdGggfHwgJy8nO1xuICB9XG5cbiAgLy8gYGpvaW4oZm9vLCAnLy93d3cuZXhhbXBsZS5vcmcnKWBcbiAgaWYgKGFQYXRoVXJsICYmICFhUGF0aFVybC5zY2hlbWUpIHtcbiAgICBpZiAoYVJvb3RVcmwpIHtcbiAgICAgIGFQYXRoVXJsLnNjaGVtZSA9IGFSb290VXJsLnNjaGVtZTtcbiAgICB9XG4gICAgcmV0dXJuIHVybEdlbmVyYXRlKGFQYXRoVXJsKTtcbiAgfVxuXG4gIGlmIChhUGF0aFVybCB8fCBhUGF0aC5tYXRjaChkYXRhVXJsUmVnZXhwKSkge1xuICAgIHJldHVybiBhUGF0aDtcbiAgfVxuXG4gIC8vIGBqb2luKCdodHRwOi8vJywgJ3d3dy5leGFtcGxlLmNvbScpYFxuICBpZiAoYVJvb3RVcmwgJiYgIWFSb290VXJsLmhvc3QgJiYgIWFSb290VXJsLnBhdGgpIHtcbiAgICBhUm9vdFVybC5ob3N0ID0gYVBhdGg7XG4gICAgcmV0dXJuIHVybEdlbmVyYXRlKGFSb290VXJsKTtcbiAgfVxuXG4gIHZhciBqb2luZWQgPSBhUGF0aC5jaGFyQXQoMCkgPT09ICcvJ1xuICAgID8gYVBhdGhcbiAgICA6IG5vcm1hbGl6ZShhUm9vdC5yZXBsYWNlKC9cXC8rJC8sICcnKSArICcvJyArIGFQYXRoKTtcblxuICBpZiAoYVJvb3RVcmwpIHtcbiAgICBhUm9vdFVybC5wYXRoID0gam9pbmVkO1xuICAgIHJldHVybiB1cmxHZW5lcmF0ZShhUm9vdFVybCk7XG4gIH1cbiAgcmV0dXJuIGpvaW5lZDtcbn1cbmV4cG9ydHMuam9pbiA9IGpvaW47XG5cbmV4cG9ydHMuaXNBYnNvbHV0ZSA9IGZ1bmN0aW9uIChhUGF0aCkge1xuICByZXR1cm4gYVBhdGguY2hhckF0KDApID09PSAnLycgfHwgdXJsUmVnZXhwLnRlc3QoYVBhdGgpO1xufTtcblxuLyoqXG4gKiBNYWtlIGEgcGF0aCByZWxhdGl2ZSB0byBhIFVSTCBvciBhbm90aGVyIHBhdGguXG4gKlxuICogQHBhcmFtIGFSb290IFRoZSByb290IHBhdGggb3IgVVJMLlxuICogQHBhcmFtIGFQYXRoIFRoZSBwYXRoIG9yIFVSTCB0byBiZSBtYWRlIHJlbGF0aXZlIHRvIGFSb290LlxuICovXG5mdW5jdGlvbiByZWxhdGl2ZShhUm9vdCwgYVBhdGgpIHtcbiAgaWYgKGFSb290ID09PSBcIlwiKSB7XG4gICAgYVJvb3QgPSBcIi5cIjtcbiAgfVxuXG4gIGFSb290ID0gYVJvb3QucmVwbGFjZSgvXFwvJC8sICcnKTtcblxuICAvLyBJdCBpcyBwb3NzaWJsZSBmb3IgdGhlIHBhdGggdG8gYmUgYWJvdmUgdGhlIHJvb3QuIEluIHRoaXMgY2FzZSwgc2ltcGx5XG4gIC8vIGNoZWNraW5nIHdoZXRoZXIgdGhlIHJvb3QgaXMgYSBwcmVmaXggb2YgdGhlIHBhdGggd29uJ3Qgd29yay4gSW5zdGVhZCwgd2VcbiAgLy8gbmVlZCB0byByZW1vdmUgY29tcG9uZW50cyBmcm9tIHRoZSByb290IG9uZSBieSBvbmUsIHVudGlsIGVpdGhlciB3ZSBmaW5kXG4gIC8vIGEgcHJlZml4IHRoYXQgZml0cywgb3Igd2UgcnVuIG91dCBvZiBjb21wb25lbnRzIHRvIHJlbW92ZS5cbiAgdmFyIGxldmVsID0gMDtcbiAgd2hpbGUgKGFQYXRoLmluZGV4T2YoYVJvb3QgKyAnLycpICE9PSAwKSB7XG4gICAgdmFyIGluZGV4ID0gYVJvb3QubGFzdEluZGV4T2YoXCIvXCIpO1xuICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgIHJldHVybiBhUGF0aDtcbiAgICB9XG5cbiAgICAvLyBJZiB0aGUgb25seSBwYXJ0IG9mIHRoZSByb290IHRoYXQgaXMgbGVmdCBpcyB0aGUgc2NoZW1lIChpLmUuIGh0dHA6Ly8sXG4gICAgLy8gZmlsZTovLy8sIGV0Yy4pLCBvbmUgb3IgbW9yZSBzbGFzaGVzICgvKSwgb3Igc2ltcGx5IG5vdGhpbmcgYXQgYWxsLCB3ZVxuICAgIC8vIGhhdmUgZXhoYXVzdGVkIGFsbCBjb21wb25lbnRzLCBzbyB0aGUgcGF0aCBpcyBub3QgcmVsYXRpdmUgdG8gdGhlIHJvb3QuXG4gICAgYVJvb3QgPSBhUm9vdC5zbGljZSgwLCBpbmRleCk7XG4gICAgaWYgKGFSb290Lm1hdGNoKC9eKFteXFwvXSs6XFwvKT9cXC8qJC8pKSB7XG4gICAgICByZXR1cm4gYVBhdGg7XG4gICAgfVxuXG4gICAgKytsZXZlbDtcbiAgfVxuXG4gIC8vIE1ha2Ugc3VyZSB3ZSBhZGQgYSBcIi4uL1wiIGZvciBlYWNoIGNvbXBvbmVudCB3ZSByZW1vdmVkIGZyb20gdGhlIHJvb3QuXG4gIHJldHVybiBBcnJheShsZXZlbCArIDEpLmpvaW4oXCIuLi9cIikgKyBhUGF0aC5zdWJzdHIoYVJvb3QubGVuZ3RoICsgMSk7XG59XG5leHBvcnRzLnJlbGF0aXZlID0gcmVsYXRpdmU7XG5cbnZhciBzdXBwb3J0c051bGxQcm90byA9IChmdW5jdGlvbiAoKSB7XG4gIHZhciBvYmogPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICByZXR1cm4gISgnX19wcm90b19fJyBpbiBvYmopO1xufSgpKTtcblxuZnVuY3Rpb24gaWRlbnRpdHkgKHMpIHtcbiAgcmV0dXJuIHM7XG59XG5cbi8qKlxuICogQmVjYXVzZSBiZWhhdmlvciBnb2VzIHdhY2t5IHdoZW4geW91IHNldCBgX19wcm90b19fYCBvbiBvYmplY3RzLCB3ZVxuICogaGF2ZSB0byBwcmVmaXggYWxsIHRoZSBzdHJpbmdzIGluIG91ciBzZXQgd2l0aCBhbiBhcmJpdHJhcnkgY2hhcmFjdGVyLlxuICpcbiAqIFNlZSBodHRwczovL2dpdGh1Yi5jb20vbW96aWxsYS9zb3VyY2UtbWFwL3B1bGwvMzEgYW5kXG4gKiBodHRwczovL2dpdGh1Yi5jb20vbW96aWxsYS9zb3VyY2UtbWFwL2lzc3Vlcy8zMFxuICpcbiAqIEBwYXJhbSBTdHJpbmcgYVN0clxuICovXG5mdW5jdGlvbiB0b1NldFN0cmluZyhhU3RyKSB7XG4gIGlmIChpc1Byb3RvU3RyaW5nKGFTdHIpKSB7XG4gICAgcmV0dXJuICckJyArIGFTdHI7XG4gIH1cblxuICByZXR1cm4gYVN0cjtcbn1cbmV4cG9ydHMudG9TZXRTdHJpbmcgPSBzdXBwb3J0c051bGxQcm90byA/IGlkZW50aXR5IDogdG9TZXRTdHJpbmc7XG5cbmZ1bmN0aW9uIGZyb21TZXRTdHJpbmcoYVN0cikge1xuICBpZiAoaXNQcm90b1N0cmluZyhhU3RyKSkge1xuICAgIHJldHVybiBhU3RyLnNsaWNlKDEpO1xuICB9XG5cbiAgcmV0dXJuIGFTdHI7XG59XG5leHBvcnRzLmZyb21TZXRTdHJpbmcgPSBzdXBwb3J0c051bGxQcm90byA/IGlkZW50aXR5IDogZnJvbVNldFN0cmluZztcblxuZnVuY3Rpb24gaXNQcm90b1N0cmluZyhzKSB7XG4gIGlmICghcykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHZhciBsZW5ndGggPSBzLmxlbmd0aDtcblxuICBpZiAobGVuZ3RoIDwgOSAvKiBcIl9fcHJvdG9fX1wiLmxlbmd0aCAqLykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmIChzLmNoYXJDb2RlQXQobGVuZ3RoIC0gMSkgIT09IDk1ICAvKiAnXycgKi8gfHxcbiAgICAgIHMuY2hhckNvZGVBdChsZW5ndGggLSAyKSAhPT0gOTUgIC8qICdfJyAqLyB8fFxuICAgICAgcy5jaGFyQ29kZUF0KGxlbmd0aCAtIDMpICE9PSAxMTEgLyogJ28nICovIHx8XG4gICAgICBzLmNoYXJDb2RlQXQobGVuZ3RoIC0gNCkgIT09IDExNiAvKiAndCcgKi8gfHxcbiAgICAgIHMuY2hhckNvZGVBdChsZW5ndGggLSA1KSAhPT0gMTExIC8qICdvJyAqLyB8fFxuICAgICAgcy5jaGFyQ29kZUF0KGxlbmd0aCAtIDYpICE9PSAxMTQgLyogJ3InICovIHx8XG4gICAgICBzLmNoYXJDb2RlQXQobGVuZ3RoIC0gNykgIT09IDExMiAvKiAncCcgKi8gfHxcbiAgICAgIHMuY2hhckNvZGVBdChsZW5ndGggLSA4KSAhPT0gOTUgIC8qICdfJyAqLyB8fFxuICAgICAgcy5jaGFyQ29kZUF0KGxlbmd0aCAtIDkpICE9PSA5NSAgLyogJ18nICovKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgZm9yICh2YXIgaSA9IGxlbmd0aCAtIDEwOyBpID49IDA7IGktLSkge1xuICAgIGlmIChzLmNoYXJDb2RlQXQoaSkgIT09IDM2IC8qICckJyAqLykge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufVxuXG4vKipcbiAqIENvbXBhcmF0b3IgYmV0d2VlbiB0d28gbWFwcGluZ3Mgd2hlcmUgdGhlIG9yaWdpbmFsIHBvc2l0aW9ucyBhcmUgY29tcGFyZWQuXG4gKlxuICogT3B0aW9uYWxseSBwYXNzIGluIGB0cnVlYCBhcyBgb25seUNvbXBhcmVHZW5lcmF0ZWRgIHRvIGNvbnNpZGVyIHR3b1xuICogbWFwcGluZ3Mgd2l0aCB0aGUgc2FtZSBvcmlnaW5hbCBzb3VyY2UvbGluZS9jb2x1bW4sIGJ1dCBkaWZmZXJlbnQgZ2VuZXJhdGVkXG4gKiBsaW5lIGFuZCBjb2x1bW4gdGhlIHNhbWUuIFVzZWZ1bCB3aGVuIHNlYXJjaGluZyBmb3IgYSBtYXBwaW5nIHdpdGggYVxuICogc3R1YmJlZCBvdXQgbWFwcGluZy5cbiAqL1xuZnVuY3Rpb24gY29tcGFyZUJ5T3JpZ2luYWxQb3NpdGlvbnMobWFwcGluZ0EsIG1hcHBpbmdCLCBvbmx5Q29tcGFyZU9yaWdpbmFsKSB7XG4gIHZhciBjbXAgPSBzdHJjbXAobWFwcGluZ0Euc291cmNlLCBtYXBwaW5nQi5zb3VyY2UpO1xuICBpZiAoY21wICE9PSAwKSB7XG4gICAgcmV0dXJuIGNtcDtcbiAgfVxuXG4gIGNtcCA9IG1hcHBpbmdBLm9yaWdpbmFsTGluZSAtIG1hcHBpbmdCLm9yaWdpbmFsTGluZTtcbiAgaWYgKGNtcCAhPT0gMCkge1xuICAgIHJldHVybiBjbXA7XG4gIH1cblxuICBjbXAgPSBtYXBwaW5nQS5vcmlnaW5hbENvbHVtbiAtIG1hcHBpbmdCLm9yaWdpbmFsQ29sdW1uO1xuICBpZiAoY21wICE9PSAwIHx8IG9ubHlDb21wYXJlT3JpZ2luYWwpIHtcbiAgICByZXR1cm4gY21wO1xuICB9XG5cbiAgY21wID0gbWFwcGluZ0EuZ2VuZXJhdGVkQ29sdW1uIC0gbWFwcGluZ0IuZ2VuZXJhdGVkQ29sdW1uO1xuICBpZiAoY21wICE9PSAwKSB7XG4gICAgcmV0dXJuIGNtcDtcbiAgfVxuXG4gIGNtcCA9IG1hcHBpbmdBLmdlbmVyYXRlZExpbmUgLSBtYXBwaW5nQi5nZW5lcmF0ZWRMaW5lO1xuICBpZiAoY21wICE9PSAwKSB7XG4gICAgcmV0dXJuIGNtcDtcbiAgfVxuXG4gIHJldHVybiBzdHJjbXAobWFwcGluZ0EubmFtZSwgbWFwcGluZ0IubmFtZSk7XG59XG5leHBvcnRzLmNvbXBhcmVCeU9yaWdpbmFsUG9zaXRpb25zID0gY29tcGFyZUJ5T3JpZ2luYWxQb3NpdGlvbnM7XG5cbi8qKlxuICogQ29tcGFyYXRvciBiZXR3ZWVuIHR3byBtYXBwaW5ncyB3aXRoIGRlZmxhdGVkIHNvdXJjZSBhbmQgbmFtZSBpbmRpY2VzIHdoZXJlXG4gKiB0aGUgZ2VuZXJhdGVkIHBvc2l0aW9ucyBhcmUgY29tcGFyZWQuXG4gKlxuICogT3B0aW9uYWxseSBwYXNzIGluIGB0cnVlYCBhcyBgb25seUNvbXBhcmVHZW5lcmF0ZWRgIHRvIGNvbnNpZGVyIHR3b1xuICogbWFwcGluZ3Mgd2l0aCB0aGUgc2FtZSBnZW5lcmF0ZWQgbGluZSBhbmQgY29sdW1uLCBidXQgZGlmZmVyZW50XG4gKiBzb3VyY2UvbmFtZS9vcmlnaW5hbCBsaW5lIGFuZCBjb2x1bW4gdGhlIHNhbWUuIFVzZWZ1bCB3aGVuIHNlYXJjaGluZyBmb3IgYVxuICogbWFwcGluZyB3aXRoIGEgc3R1YmJlZCBvdXQgbWFwcGluZy5cbiAqL1xuZnVuY3Rpb24gY29tcGFyZUJ5R2VuZXJhdGVkUG9zaXRpb25zRGVmbGF0ZWQobWFwcGluZ0EsIG1hcHBpbmdCLCBvbmx5Q29tcGFyZUdlbmVyYXRlZCkge1xuICB2YXIgY21wID0gbWFwcGluZ0EuZ2VuZXJhdGVkTGluZSAtIG1hcHBpbmdCLmdlbmVyYXRlZExpbmU7XG4gIGlmIChjbXAgIT09IDApIHtcbiAgICByZXR1cm4gY21wO1xuICB9XG5cbiAgY21wID0gbWFwcGluZ0EuZ2VuZXJhdGVkQ29sdW1uIC0gbWFwcGluZ0IuZ2VuZXJhdGVkQ29sdW1uO1xuICBpZiAoY21wICE9PSAwIHx8IG9ubHlDb21wYXJlR2VuZXJhdGVkKSB7XG4gICAgcmV0dXJuIGNtcDtcbiAgfVxuXG4gIGNtcCA9IHN0cmNtcChtYXBwaW5nQS5zb3VyY2UsIG1hcHBpbmdCLnNvdXJjZSk7XG4gIGlmIChjbXAgIT09IDApIHtcbiAgICByZXR1cm4gY21wO1xuICB9XG5cbiAgY21wID0gbWFwcGluZ0Eub3JpZ2luYWxMaW5lIC0gbWFwcGluZ0Iub3JpZ2luYWxMaW5lO1xuICBpZiAoY21wICE9PSAwKSB7XG4gICAgcmV0dXJuIGNtcDtcbiAgfVxuXG4gIGNtcCA9IG1hcHBpbmdBLm9yaWdpbmFsQ29sdW1uIC0gbWFwcGluZ0Iub3JpZ2luYWxDb2x1bW47XG4gIGlmIChjbXAgIT09IDApIHtcbiAgICByZXR1cm4gY21wO1xuICB9XG5cbiAgcmV0dXJuIHN0cmNtcChtYXBwaW5nQS5uYW1lLCBtYXBwaW5nQi5uYW1lKTtcbn1cbmV4cG9ydHMuY29tcGFyZUJ5R2VuZXJhdGVkUG9zaXRpb25zRGVmbGF0ZWQgPSBjb21wYXJlQnlHZW5lcmF0ZWRQb3NpdGlvbnNEZWZsYXRlZDtcblxuZnVuY3Rpb24gc3RyY21wKGFTdHIxLCBhU3RyMikge1xuICBpZiAoYVN0cjEgPT09IGFTdHIyKSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cblxuICBpZiAoYVN0cjEgPT09IG51bGwpIHtcbiAgICByZXR1cm4gMTsgLy8gYVN0cjIgIT09IG51bGxcbiAgfVxuXG4gIGlmIChhU3RyMiA9PT0gbnVsbCkge1xuICAgIHJldHVybiAtMTsgLy8gYVN0cjEgIT09IG51bGxcbiAgfVxuXG4gIGlmIChhU3RyMSA+IGFTdHIyKSB7XG4gICAgcmV0dXJuIDE7XG4gIH1cblxuICByZXR1cm4gLTE7XG59XG5cbi8qKlxuICogQ29tcGFyYXRvciBiZXR3ZWVuIHR3byBtYXBwaW5ncyB3aXRoIGluZmxhdGVkIHNvdXJjZSBhbmQgbmFtZSBzdHJpbmdzIHdoZXJlXG4gKiB0aGUgZ2VuZXJhdGVkIHBvc2l0aW9ucyBhcmUgY29tcGFyZWQuXG4gKi9cbmZ1bmN0aW9uIGNvbXBhcmVCeUdlbmVyYXRlZFBvc2l0aW9uc0luZmxhdGVkKG1hcHBpbmdBLCBtYXBwaW5nQikge1xuICB2YXIgY21wID0gbWFwcGluZ0EuZ2VuZXJhdGVkTGluZSAtIG1hcHBpbmdCLmdlbmVyYXRlZExpbmU7XG4gIGlmIChjbXAgIT09IDApIHtcbiAgICByZXR1cm4gY21wO1xuICB9XG5cbiAgY21wID0gbWFwcGluZ0EuZ2VuZXJhdGVkQ29sdW1uIC0gbWFwcGluZ0IuZ2VuZXJhdGVkQ29sdW1uO1xuICBpZiAoY21wICE9PSAwKSB7XG4gICAgcmV0dXJuIGNtcDtcbiAgfVxuXG4gIGNtcCA9IHN0cmNtcChtYXBwaW5nQS5zb3VyY2UsIG1hcHBpbmdCLnNvdXJjZSk7XG4gIGlmIChjbXAgIT09IDApIHtcbiAgICByZXR1cm4gY21wO1xuICB9XG5cbiAgY21wID0gbWFwcGluZ0Eub3JpZ2luYWxMaW5lIC0gbWFwcGluZ0Iub3JpZ2luYWxMaW5lO1xuICBpZiAoY21wICE9PSAwKSB7XG4gICAgcmV0dXJuIGNtcDtcbiAgfVxuXG4gIGNtcCA9IG1hcHBpbmdBLm9yaWdpbmFsQ29sdW1uIC0gbWFwcGluZ0Iub3JpZ2luYWxDb2x1bW47XG4gIGlmIChjbXAgIT09IDApIHtcbiAgICByZXR1cm4gY21wO1xuICB9XG5cbiAgcmV0dXJuIHN0cmNtcChtYXBwaW5nQS5uYW1lLCBtYXBwaW5nQi5uYW1lKTtcbn1cbmV4cG9ydHMuY29tcGFyZUJ5R2VuZXJhdGVkUG9zaXRpb25zSW5mbGF0ZWQgPSBjb21wYXJlQnlHZW5lcmF0ZWRQb3NpdGlvbnNJbmZsYXRlZDtcblxuLyoqXG4gKiBTdHJpcCBhbnkgSlNPTiBYU1NJIGF2b2lkYW5jZSBwcmVmaXggZnJvbSB0aGUgc3RyaW5nIChhcyBkb2N1bWVudGVkXG4gKiBpbiB0aGUgc291cmNlIG1hcHMgc3BlY2lmaWNhdGlvbiksIGFuZCB0aGVuIHBhcnNlIHRoZSBzdHJpbmcgYXNcbiAqIEpTT04uXG4gKi9cbmZ1bmN0aW9uIHBhcnNlU291cmNlTWFwSW5wdXQoc3RyKSB7XG4gIHJldHVybiBKU09OLnBhcnNlKHN0ci5yZXBsYWNlKC9eXFwpXX0nW15cXG5dKlxcbi8sICcnKSk7XG59XG5leHBvcnRzLnBhcnNlU291cmNlTWFwSW5wdXQgPSBwYXJzZVNvdXJjZU1hcElucHV0O1xuXG4vKipcbiAqIENvbXB1dGUgdGhlIFVSTCBvZiBhIHNvdXJjZSBnaXZlbiB0aGUgdGhlIHNvdXJjZSByb290LCB0aGUgc291cmNlJ3NcbiAqIFVSTCwgYW5kIHRoZSBzb3VyY2UgbWFwJ3MgVVJMLlxuICovXG5mdW5jdGlvbiBjb21wdXRlU291cmNlVVJMKHNvdXJjZVJvb3QsIHNvdXJjZVVSTCwgc291cmNlTWFwVVJMKSB7XG4gIHNvdXJjZVVSTCA9IHNvdXJjZVVSTCB8fCAnJztcblxuICBpZiAoc291cmNlUm9vdCkge1xuICAgIC8vIFRoaXMgZm9sbG93cyB3aGF0IENocm9tZSBkb2VzLlxuICAgIGlmIChzb3VyY2VSb290W3NvdXJjZVJvb3QubGVuZ3RoIC0gMV0gIT09ICcvJyAmJiBzb3VyY2VVUkxbMF0gIT09ICcvJykge1xuICAgICAgc291cmNlUm9vdCArPSAnLyc7XG4gICAgfVxuICAgIC8vIFRoZSBzcGVjIHNheXM6XG4gICAgLy8gICBMaW5lIDQ6IEFuIG9wdGlvbmFsIHNvdXJjZSByb290LCB1c2VmdWwgZm9yIHJlbG9jYXRpbmcgc291cmNlXG4gICAgLy8gICBmaWxlcyBvbiBhIHNlcnZlciBvciByZW1vdmluZyByZXBlYXRlZCB2YWx1ZXMgaW4gdGhlXG4gICAgLy8gICBcdTIwMUNzb3VyY2VzXHUyMDFEIGVudHJ5LiAgVGhpcyB2YWx1ZSBpcyBwcmVwZW5kZWQgdG8gdGhlIGluZGl2aWR1YWxcbiAgICAvLyAgIGVudHJpZXMgaW4gdGhlIFx1MjAxQ3NvdXJjZVx1MjAxRCBmaWVsZC5cbiAgICBzb3VyY2VVUkwgPSBzb3VyY2VSb290ICsgc291cmNlVVJMO1xuICB9XG5cbiAgLy8gSGlzdG9yaWNhbGx5LCBTb3VyY2VNYXBDb25zdW1lciBkaWQgbm90IHRha2UgdGhlIHNvdXJjZU1hcFVSTCBhc1xuICAvLyBhIHBhcmFtZXRlci4gIFRoaXMgbW9kZSBpcyBzdGlsbCBzb21ld2hhdCBzdXBwb3J0ZWQsIHdoaWNoIGlzIHdoeVxuICAvLyB0aGlzIGNvZGUgYmxvY2sgaXMgY29uZGl0aW9uYWwuICBIb3dldmVyLCBpdCdzIHByZWZlcmFibGUgdG8gcGFzc1xuICAvLyB0aGUgc291cmNlIG1hcCBVUkwgdG8gU291cmNlTWFwQ29uc3VtZXIsIHNvIHRoYXQgdGhpcyBmdW5jdGlvblxuICAvLyBjYW4gaW1wbGVtZW50IHRoZSBzb3VyY2UgVVJMIHJlc29sdXRpb24gYWxnb3JpdGhtIGFzIG91dGxpbmVkIGluXG4gIC8vIHRoZSBzcGVjLiAgVGhpcyBibG9jayBpcyBiYXNpY2FsbHkgdGhlIGVxdWl2YWxlbnQgb2Y6XG4gIC8vICAgIG5ldyBVUkwoc291cmNlVVJMLCBzb3VyY2VNYXBVUkwpLnRvU3RyaW5nKClcbiAgLy8gLi4uIGV4Y2VwdCBpdCBhdm9pZHMgdXNpbmcgVVJMLCB3aGljaCB3YXNuJ3QgYXZhaWxhYmxlIGluIHRoZVxuICAvLyBvbGRlciByZWxlYXNlcyBvZiBub2RlIHN0aWxsIHN1cHBvcnRlZCBieSB0aGlzIGxpYnJhcnkuXG4gIC8vXG4gIC8vIFRoZSBzcGVjIHNheXM6XG4gIC8vICAgSWYgdGhlIHNvdXJjZXMgYXJlIG5vdCBhYnNvbHV0ZSBVUkxzIGFmdGVyIHByZXBlbmRpbmcgb2YgdGhlXG4gIC8vICAgXHUyMDFDc291cmNlUm9vdFx1MjAxRCwgdGhlIHNvdXJjZXMgYXJlIHJlc29sdmVkIHJlbGF0aXZlIHRvIHRoZVxuICAvLyAgIFNvdXJjZU1hcCAobGlrZSByZXNvbHZpbmcgc2NyaXB0IHNyYyBpbiBhIGh0bWwgZG9jdW1lbnQpLlxuICBpZiAoc291cmNlTWFwVVJMKSB7XG4gICAgdmFyIHBhcnNlZCA9IHVybFBhcnNlKHNvdXJjZU1hcFVSTCk7XG4gICAgaWYgKCFwYXJzZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcInNvdXJjZU1hcFVSTCBjb3VsZCBub3QgYmUgcGFyc2VkXCIpO1xuICAgIH1cbiAgICBpZiAocGFyc2VkLnBhdGgpIHtcbiAgICAgIC8vIFN0cmlwIHRoZSBsYXN0IHBhdGggY29tcG9uZW50LCBidXQga2VlcCB0aGUgXCIvXCIuXG4gICAgICB2YXIgaW5kZXggPSBwYXJzZWQucGF0aC5sYXN0SW5kZXhPZignLycpO1xuICAgICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgcGFyc2VkLnBhdGggPSBwYXJzZWQucGF0aC5zdWJzdHJpbmcoMCwgaW5kZXggKyAxKTtcbiAgICAgIH1cbiAgICB9XG4gICAgc291cmNlVVJMID0gam9pbih1cmxHZW5lcmF0ZShwYXJzZWQpLCBzb3VyY2VVUkwpO1xuICB9XG5cbiAgcmV0dXJuIG5vcm1hbGl6ZShzb3VyY2VVUkwpO1xufVxuZXhwb3J0cy5jb21wdXRlU291cmNlVVJMID0gY29tcHV0ZVNvdXJjZVVSTDtcbiIsICIvKiAtKi0gTW9kZToganM7IGpzLWluZGVudC1sZXZlbDogMjsgLSotICovXG4vKlxuICogQ29weXJpZ2h0IDIwMTEgTW96aWxsYSBGb3VuZGF0aW9uIGFuZCBjb250cmlidXRvcnNcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBOZXcgQlNEIGxpY2Vuc2UuIFNlZSBMSUNFTlNFIG9yOlxuICogaHR0cDovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL0JTRC0zLUNsYXVzZVxuICovXG5cbnZhciB1dGlsID0gcmVxdWlyZSgnLi91dGlsJyk7XG52YXIgaGFzID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbnZhciBoYXNOYXRpdmVNYXAgPSB0eXBlb2YgTWFwICE9PSBcInVuZGVmaW5lZFwiO1xuXG4vKipcbiAqIEEgZGF0YSBzdHJ1Y3R1cmUgd2hpY2ggaXMgYSBjb21iaW5hdGlvbiBvZiBhbiBhcnJheSBhbmQgYSBzZXQuIEFkZGluZyBhIG5ld1xuICogbWVtYmVyIGlzIE8oMSksIHRlc3RpbmcgZm9yIG1lbWJlcnNoaXAgaXMgTygxKSwgYW5kIGZpbmRpbmcgdGhlIGluZGV4IG9mIGFuXG4gKiBlbGVtZW50IGlzIE8oMSkuIFJlbW92aW5nIGVsZW1lbnRzIGZyb20gdGhlIHNldCBpcyBub3Qgc3VwcG9ydGVkLiBPbmx5XG4gKiBzdHJpbmdzIGFyZSBzdXBwb3J0ZWQgZm9yIG1lbWJlcnNoaXAuXG4gKi9cbmZ1bmN0aW9uIEFycmF5U2V0KCkge1xuICB0aGlzLl9hcnJheSA9IFtdO1xuICB0aGlzLl9zZXQgPSBoYXNOYXRpdmVNYXAgPyBuZXcgTWFwKCkgOiBPYmplY3QuY3JlYXRlKG51bGwpO1xufVxuXG4vKipcbiAqIFN0YXRpYyBtZXRob2QgZm9yIGNyZWF0aW5nIEFycmF5U2V0IGluc3RhbmNlcyBmcm9tIGFuIGV4aXN0aW5nIGFycmF5LlxuICovXG5BcnJheVNldC5mcm9tQXJyYXkgPSBmdW5jdGlvbiBBcnJheVNldF9mcm9tQXJyYXkoYUFycmF5LCBhQWxsb3dEdXBsaWNhdGVzKSB7XG4gIHZhciBzZXQgPSBuZXcgQXJyYXlTZXQoKTtcbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGFBcnJheS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIHNldC5hZGQoYUFycmF5W2ldLCBhQWxsb3dEdXBsaWNhdGVzKTtcbiAgfVxuICByZXR1cm4gc2V0O1xufTtcblxuLyoqXG4gKiBSZXR1cm4gaG93IG1hbnkgdW5pcXVlIGl0ZW1zIGFyZSBpbiB0aGlzIEFycmF5U2V0LiBJZiBkdXBsaWNhdGVzIGhhdmUgYmVlblxuICogYWRkZWQsIHRoYW4gdGhvc2UgZG8gbm90IGNvdW50IHRvd2FyZHMgdGhlIHNpemUuXG4gKlxuICogQHJldHVybnMgTnVtYmVyXG4gKi9cbkFycmF5U2V0LnByb3RvdHlwZS5zaXplID0gZnVuY3Rpb24gQXJyYXlTZXRfc2l6ZSgpIHtcbiAgcmV0dXJuIGhhc05hdGl2ZU1hcCA/IHRoaXMuX3NldC5zaXplIDogT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGhpcy5fc2V0KS5sZW5ndGg7XG59O1xuXG4vKipcbiAqIEFkZCB0aGUgZ2l2ZW4gc3RyaW5nIHRvIHRoaXMgc2V0LlxuICpcbiAqIEBwYXJhbSBTdHJpbmcgYVN0clxuICovXG5BcnJheVNldC5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gQXJyYXlTZXRfYWRkKGFTdHIsIGFBbGxvd0R1cGxpY2F0ZXMpIHtcbiAgdmFyIHNTdHIgPSBoYXNOYXRpdmVNYXAgPyBhU3RyIDogdXRpbC50b1NldFN0cmluZyhhU3RyKTtcbiAgdmFyIGlzRHVwbGljYXRlID0gaGFzTmF0aXZlTWFwID8gdGhpcy5oYXMoYVN0cikgOiBoYXMuY2FsbCh0aGlzLl9zZXQsIHNTdHIpO1xuICB2YXIgaWR4ID0gdGhpcy5fYXJyYXkubGVuZ3RoO1xuICBpZiAoIWlzRHVwbGljYXRlIHx8IGFBbGxvd0R1cGxpY2F0ZXMpIHtcbiAgICB0aGlzLl9hcnJheS5wdXNoKGFTdHIpO1xuICB9XG4gIGlmICghaXNEdXBsaWNhdGUpIHtcbiAgICBpZiAoaGFzTmF0aXZlTWFwKSB7XG4gICAgICB0aGlzLl9zZXQuc2V0KGFTdHIsIGlkeCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3NldFtzU3RyXSA9IGlkeDtcbiAgICB9XG4gIH1cbn07XG5cbi8qKlxuICogSXMgdGhlIGdpdmVuIHN0cmluZyBhIG1lbWJlciBvZiB0aGlzIHNldD9cbiAqXG4gKiBAcGFyYW0gU3RyaW5nIGFTdHJcbiAqL1xuQXJyYXlTZXQucHJvdG90eXBlLmhhcyA9IGZ1bmN0aW9uIEFycmF5U2V0X2hhcyhhU3RyKSB7XG4gIGlmIChoYXNOYXRpdmVNYXApIHtcbiAgICByZXR1cm4gdGhpcy5fc2V0LmhhcyhhU3RyKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgc1N0ciA9IHV0aWwudG9TZXRTdHJpbmcoYVN0cik7XG4gICAgcmV0dXJuIGhhcy5jYWxsKHRoaXMuX3NldCwgc1N0cik7XG4gIH1cbn07XG5cbi8qKlxuICogV2hhdCBpcyB0aGUgaW5kZXggb2YgdGhlIGdpdmVuIHN0cmluZyBpbiB0aGUgYXJyYXk/XG4gKlxuICogQHBhcmFtIFN0cmluZyBhU3RyXG4gKi9cbkFycmF5U2V0LnByb3RvdHlwZS5pbmRleE9mID0gZnVuY3Rpb24gQXJyYXlTZXRfaW5kZXhPZihhU3RyKSB7XG4gIGlmIChoYXNOYXRpdmVNYXApIHtcbiAgICB2YXIgaWR4ID0gdGhpcy5fc2V0LmdldChhU3RyKTtcbiAgICBpZiAoaWR4ID49IDApIHtcbiAgICAgICAgcmV0dXJuIGlkeDtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdmFyIHNTdHIgPSB1dGlsLnRvU2V0U3RyaW5nKGFTdHIpO1xuICAgIGlmIChoYXMuY2FsbCh0aGlzLl9zZXQsIHNTdHIpKSB7XG4gICAgICByZXR1cm4gdGhpcy5fc2V0W3NTdHJdO1xuICAgIH1cbiAgfVxuXG4gIHRocm93IG5ldyBFcnJvcignXCInICsgYVN0ciArICdcIiBpcyBub3QgaW4gdGhlIHNldC4nKTtcbn07XG5cbi8qKlxuICogV2hhdCBpcyB0aGUgZWxlbWVudCBhdCB0aGUgZ2l2ZW4gaW5kZXg/XG4gKlxuICogQHBhcmFtIE51bWJlciBhSWR4XG4gKi9cbkFycmF5U2V0LnByb3RvdHlwZS5hdCA9IGZ1bmN0aW9uIEFycmF5U2V0X2F0KGFJZHgpIHtcbiAgaWYgKGFJZHggPj0gMCAmJiBhSWR4IDwgdGhpcy5fYXJyYXkubGVuZ3RoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2FycmF5W2FJZHhdO1xuICB9XG4gIHRocm93IG5ldyBFcnJvcignTm8gZWxlbWVudCBpbmRleGVkIGJ5ICcgKyBhSWR4KTtcbn07XG5cbi8qKlxuICogUmV0dXJucyB0aGUgYXJyYXkgcmVwcmVzZW50YXRpb24gb2YgdGhpcyBzZXQgKHdoaWNoIGhhcyB0aGUgcHJvcGVyIGluZGljZXNcbiAqIGluZGljYXRlZCBieSBpbmRleE9mKS4gTm90ZSB0aGF0IHRoaXMgaXMgYSBjb3B5IG9mIHRoZSBpbnRlcm5hbCBhcnJheSB1c2VkXG4gKiBmb3Igc3RvcmluZyB0aGUgbWVtYmVycyBzbyB0aGF0IG5vIG9uZSBjYW4gbWVzcyB3aXRoIGludGVybmFsIHN0YXRlLlxuICovXG5BcnJheVNldC5wcm90b3R5cGUudG9BcnJheSA9IGZ1bmN0aW9uIEFycmF5U2V0X3RvQXJyYXkoKSB7XG4gIHJldHVybiB0aGlzLl9hcnJheS5zbGljZSgpO1xufTtcblxuZXhwb3J0cy5BcnJheVNldCA9IEFycmF5U2V0O1xuIiwgIi8qIC0qLSBNb2RlOiBqczsganMtaW5kZW50LWxldmVsOiAyOyAtKi0gKi9cbi8qXG4gKiBDb3B5cmlnaHQgMjAxNCBNb3ppbGxhIEZvdW5kYXRpb24gYW5kIGNvbnRyaWJ1dG9yc1xuICogTGljZW5zZWQgdW5kZXIgdGhlIE5ldyBCU0QgbGljZW5zZS4gU2VlIExJQ0VOU0Ugb3I6XG4gKiBodHRwOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvQlNELTMtQ2xhdXNlXG4gKi9cblxudmFyIHV0aWwgPSByZXF1aXJlKCcuL3V0aWwnKTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgd2hldGhlciBtYXBwaW5nQiBpcyBhZnRlciBtYXBwaW5nQSB3aXRoIHJlc3BlY3QgdG8gZ2VuZXJhdGVkXG4gKiBwb3NpdGlvbi5cbiAqL1xuZnVuY3Rpb24gZ2VuZXJhdGVkUG9zaXRpb25BZnRlcihtYXBwaW5nQSwgbWFwcGluZ0IpIHtcbiAgLy8gT3B0aW1pemVkIGZvciBtb3N0IGNvbW1vbiBjYXNlXG4gIHZhciBsaW5lQSA9IG1hcHBpbmdBLmdlbmVyYXRlZExpbmU7XG4gIHZhciBsaW5lQiA9IG1hcHBpbmdCLmdlbmVyYXRlZExpbmU7XG4gIHZhciBjb2x1bW5BID0gbWFwcGluZ0EuZ2VuZXJhdGVkQ29sdW1uO1xuICB2YXIgY29sdW1uQiA9IG1hcHBpbmdCLmdlbmVyYXRlZENvbHVtbjtcbiAgcmV0dXJuIGxpbmVCID4gbGluZUEgfHwgbGluZUIgPT0gbGluZUEgJiYgY29sdW1uQiA+PSBjb2x1bW5BIHx8XG4gICAgICAgICB1dGlsLmNvbXBhcmVCeUdlbmVyYXRlZFBvc2l0aW9uc0luZmxhdGVkKG1hcHBpbmdBLCBtYXBwaW5nQikgPD0gMDtcbn1cblxuLyoqXG4gKiBBIGRhdGEgc3RydWN0dXJlIHRvIHByb3ZpZGUgYSBzb3J0ZWQgdmlldyBvZiBhY2N1bXVsYXRlZCBtYXBwaW5ncyBpbiBhXG4gKiBwZXJmb3JtYW5jZSBjb25zY2lvdXMgbWFubmVyLiBJdCB0cmFkZXMgYSBuZWdsaWJhYmxlIG92ZXJoZWFkIGluIGdlbmVyYWxcbiAqIGNhc2UgZm9yIGEgbGFyZ2Ugc3BlZWR1cCBpbiBjYXNlIG9mIG1hcHBpbmdzIGJlaW5nIGFkZGVkIGluIG9yZGVyLlxuICovXG5mdW5jdGlvbiBNYXBwaW5nTGlzdCgpIHtcbiAgdGhpcy5fYXJyYXkgPSBbXTtcbiAgdGhpcy5fc29ydGVkID0gdHJ1ZTtcbiAgLy8gU2VydmVzIGFzIGluZmltdW1cbiAgdGhpcy5fbGFzdCA9IHtnZW5lcmF0ZWRMaW5lOiAtMSwgZ2VuZXJhdGVkQ29sdW1uOiAwfTtcbn1cblxuLyoqXG4gKiBJdGVyYXRlIHRocm91Z2ggaW50ZXJuYWwgaXRlbXMuIFRoaXMgbWV0aG9kIHRha2VzIHRoZSBzYW1lIGFyZ3VtZW50cyB0aGF0XG4gKiBgQXJyYXkucHJvdG90eXBlLmZvckVhY2hgIHRha2VzLlxuICpcbiAqIE5PVEU6IFRoZSBvcmRlciBvZiB0aGUgbWFwcGluZ3MgaXMgTk9UIGd1YXJhbnRlZWQuXG4gKi9cbk1hcHBpbmdMaXN0LnByb3RvdHlwZS51bnNvcnRlZEZvckVhY2ggPVxuICBmdW5jdGlvbiBNYXBwaW5nTGlzdF9mb3JFYWNoKGFDYWxsYmFjaywgYVRoaXNBcmcpIHtcbiAgICB0aGlzLl9hcnJheS5mb3JFYWNoKGFDYWxsYmFjaywgYVRoaXNBcmcpO1xuICB9O1xuXG4vKipcbiAqIEFkZCB0aGUgZ2l2ZW4gc291cmNlIG1hcHBpbmcuXG4gKlxuICogQHBhcmFtIE9iamVjdCBhTWFwcGluZ1xuICovXG5NYXBwaW5nTGlzdC5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gTWFwcGluZ0xpc3RfYWRkKGFNYXBwaW5nKSB7XG4gIGlmIChnZW5lcmF0ZWRQb3NpdGlvbkFmdGVyKHRoaXMuX2xhc3QsIGFNYXBwaW5nKSkge1xuICAgIHRoaXMuX2xhc3QgPSBhTWFwcGluZztcbiAgICB0aGlzLl9hcnJheS5wdXNoKGFNYXBwaW5nKTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLl9zb3J0ZWQgPSBmYWxzZTtcbiAgICB0aGlzLl9hcnJheS5wdXNoKGFNYXBwaW5nKTtcbiAgfVxufTtcblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBmbGF0LCBzb3J0ZWQgYXJyYXkgb2YgbWFwcGluZ3MuIFRoZSBtYXBwaW5ncyBhcmUgc29ydGVkIGJ5XG4gKiBnZW5lcmF0ZWQgcG9zaXRpb24uXG4gKlxuICogV0FSTklORzogVGhpcyBtZXRob2QgcmV0dXJucyBpbnRlcm5hbCBkYXRhIHdpdGhvdXQgY29weWluZywgZm9yXG4gKiBwZXJmb3JtYW5jZS4gVGhlIHJldHVybiB2YWx1ZSBtdXN0IE5PVCBiZSBtdXRhdGVkLCBhbmQgc2hvdWxkIGJlIHRyZWF0ZWQgYXNcbiAqIGFuIGltbXV0YWJsZSBib3Jyb3cuIElmIHlvdSB3YW50IHRvIHRha2Ugb3duZXJzaGlwLCB5b3UgbXVzdCBtYWtlIHlvdXIgb3duXG4gKiBjb3B5LlxuICovXG5NYXBwaW5nTGlzdC5wcm90b3R5cGUudG9BcnJheSA9IGZ1bmN0aW9uIE1hcHBpbmdMaXN0X3RvQXJyYXkoKSB7XG4gIGlmICghdGhpcy5fc29ydGVkKSB7XG4gICAgdGhpcy5fYXJyYXkuc29ydCh1dGlsLmNvbXBhcmVCeUdlbmVyYXRlZFBvc2l0aW9uc0luZmxhdGVkKTtcbiAgICB0aGlzLl9zb3J0ZWQgPSB0cnVlO1xuICB9XG4gIHJldHVybiB0aGlzLl9hcnJheTtcbn07XG5cbmV4cG9ydHMuTWFwcGluZ0xpc3QgPSBNYXBwaW5nTGlzdDtcbiIsICIvKiAtKi0gTW9kZToganM7IGpzLWluZGVudC1sZXZlbDogMjsgLSotICovXG4vKlxuICogQ29weXJpZ2h0IDIwMTEgTW96aWxsYSBGb3VuZGF0aW9uIGFuZCBjb250cmlidXRvcnNcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBOZXcgQlNEIGxpY2Vuc2UuIFNlZSBMSUNFTlNFIG9yOlxuICogaHR0cDovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL0JTRC0zLUNsYXVzZVxuICovXG5cbnZhciBiYXNlNjRWTFEgPSByZXF1aXJlKCcuL2Jhc2U2NC12bHEnKTtcbnZhciB1dGlsID0gcmVxdWlyZSgnLi91dGlsJyk7XG52YXIgQXJyYXlTZXQgPSByZXF1aXJlKCcuL2FycmF5LXNldCcpLkFycmF5U2V0O1xudmFyIE1hcHBpbmdMaXN0ID0gcmVxdWlyZSgnLi9tYXBwaW5nLWxpc3QnKS5NYXBwaW5nTGlzdDtcblxuLyoqXG4gKiBBbiBpbnN0YW5jZSBvZiB0aGUgU291cmNlTWFwR2VuZXJhdG9yIHJlcHJlc2VudHMgYSBzb3VyY2UgbWFwIHdoaWNoIGlzXG4gKiBiZWluZyBidWlsdCBpbmNyZW1lbnRhbGx5LiBZb3UgbWF5IHBhc3MgYW4gb2JqZWN0IHdpdGggdGhlIGZvbGxvd2luZ1xuICogcHJvcGVydGllczpcbiAqXG4gKiAgIC0gZmlsZTogVGhlIGZpbGVuYW1lIG9mIHRoZSBnZW5lcmF0ZWQgc291cmNlLlxuICogICAtIHNvdXJjZVJvb3Q6IEEgcm9vdCBmb3IgYWxsIHJlbGF0aXZlIFVSTHMgaW4gdGhpcyBzb3VyY2UgbWFwLlxuICovXG5mdW5jdGlvbiBTb3VyY2VNYXBHZW5lcmF0b3IoYUFyZ3MpIHtcbiAgaWYgKCFhQXJncykge1xuICAgIGFBcmdzID0ge307XG4gIH1cbiAgdGhpcy5fZmlsZSA9IHV0aWwuZ2V0QXJnKGFBcmdzLCAnZmlsZScsIG51bGwpO1xuICB0aGlzLl9zb3VyY2VSb290ID0gdXRpbC5nZXRBcmcoYUFyZ3MsICdzb3VyY2VSb290JywgbnVsbCk7XG4gIHRoaXMuX3NraXBWYWxpZGF0aW9uID0gdXRpbC5nZXRBcmcoYUFyZ3MsICdza2lwVmFsaWRhdGlvbicsIGZhbHNlKTtcbiAgdGhpcy5fc291cmNlcyA9IG5ldyBBcnJheVNldCgpO1xuICB0aGlzLl9uYW1lcyA9IG5ldyBBcnJheVNldCgpO1xuICB0aGlzLl9tYXBwaW5ncyA9IG5ldyBNYXBwaW5nTGlzdCgpO1xuICB0aGlzLl9zb3VyY2VzQ29udGVudHMgPSBudWxsO1xufVxuXG5Tb3VyY2VNYXBHZW5lcmF0b3IucHJvdG90eXBlLl92ZXJzaW9uID0gMztcblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IFNvdXJjZU1hcEdlbmVyYXRvciBiYXNlZCBvbiBhIFNvdXJjZU1hcENvbnN1bWVyXG4gKlxuICogQHBhcmFtIGFTb3VyY2VNYXBDb25zdW1lciBUaGUgU291cmNlTWFwLlxuICovXG5Tb3VyY2VNYXBHZW5lcmF0b3IuZnJvbVNvdXJjZU1hcCA9XG4gIGZ1bmN0aW9uIFNvdXJjZU1hcEdlbmVyYXRvcl9mcm9tU291cmNlTWFwKGFTb3VyY2VNYXBDb25zdW1lcikge1xuICAgIHZhciBzb3VyY2VSb290ID0gYVNvdXJjZU1hcENvbnN1bWVyLnNvdXJjZVJvb3Q7XG4gICAgdmFyIGdlbmVyYXRvciA9IG5ldyBTb3VyY2VNYXBHZW5lcmF0b3Ioe1xuICAgICAgZmlsZTogYVNvdXJjZU1hcENvbnN1bWVyLmZpbGUsXG4gICAgICBzb3VyY2VSb290OiBzb3VyY2VSb290XG4gICAgfSk7XG4gICAgYVNvdXJjZU1hcENvbnN1bWVyLmVhY2hNYXBwaW5nKGZ1bmN0aW9uIChtYXBwaW5nKSB7XG4gICAgICB2YXIgbmV3TWFwcGluZyA9IHtcbiAgICAgICAgZ2VuZXJhdGVkOiB7XG4gICAgICAgICAgbGluZTogbWFwcGluZy5nZW5lcmF0ZWRMaW5lLFxuICAgICAgICAgIGNvbHVtbjogbWFwcGluZy5nZW5lcmF0ZWRDb2x1bW5cbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgaWYgKG1hcHBpbmcuc291cmNlICE9IG51bGwpIHtcbiAgICAgICAgbmV3TWFwcGluZy5zb3VyY2UgPSBtYXBwaW5nLnNvdXJjZTtcbiAgICAgICAgaWYgKHNvdXJjZVJvb3QgIT0gbnVsbCkge1xuICAgICAgICAgIG5ld01hcHBpbmcuc291cmNlID0gdXRpbC5yZWxhdGl2ZShzb3VyY2VSb290LCBuZXdNYXBwaW5nLnNvdXJjZSk7XG4gICAgICAgIH1cblxuICAgICAgICBuZXdNYXBwaW5nLm9yaWdpbmFsID0ge1xuICAgICAgICAgIGxpbmU6IG1hcHBpbmcub3JpZ2luYWxMaW5lLFxuICAgICAgICAgIGNvbHVtbjogbWFwcGluZy5vcmlnaW5hbENvbHVtblxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChtYXBwaW5nLm5hbWUgIT0gbnVsbCkge1xuICAgICAgICAgIG5ld01hcHBpbmcubmFtZSA9IG1hcHBpbmcubmFtZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBnZW5lcmF0b3IuYWRkTWFwcGluZyhuZXdNYXBwaW5nKTtcbiAgICB9KTtcbiAgICBhU291cmNlTWFwQ29uc3VtZXIuc291cmNlcy5mb3JFYWNoKGZ1bmN0aW9uIChzb3VyY2VGaWxlKSB7XG4gICAgICB2YXIgc291cmNlUmVsYXRpdmUgPSBzb3VyY2VGaWxlO1xuICAgICAgaWYgKHNvdXJjZVJvb3QgIT09IG51bGwpIHtcbiAgICAgICAgc291cmNlUmVsYXRpdmUgPSB1dGlsLnJlbGF0aXZlKHNvdXJjZVJvb3QsIHNvdXJjZUZpbGUpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWdlbmVyYXRvci5fc291cmNlcy5oYXMoc291cmNlUmVsYXRpdmUpKSB7XG4gICAgICAgIGdlbmVyYXRvci5fc291cmNlcy5hZGQoc291cmNlUmVsYXRpdmUpO1xuICAgICAgfVxuXG4gICAgICB2YXIgY29udGVudCA9IGFTb3VyY2VNYXBDb25zdW1lci5zb3VyY2VDb250ZW50Rm9yKHNvdXJjZUZpbGUpO1xuICAgICAgaWYgKGNvbnRlbnQgIT0gbnVsbCkge1xuICAgICAgICBnZW5lcmF0b3Iuc2V0U291cmNlQ29udGVudChzb3VyY2VGaWxlLCBjb250ZW50KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gZ2VuZXJhdG9yO1xuICB9O1xuXG4vKipcbiAqIEFkZCBhIHNpbmdsZSBtYXBwaW5nIGZyb20gb3JpZ2luYWwgc291cmNlIGxpbmUgYW5kIGNvbHVtbiB0byB0aGUgZ2VuZXJhdGVkXG4gKiBzb3VyY2UncyBsaW5lIGFuZCBjb2x1bW4gZm9yIHRoaXMgc291cmNlIG1hcCBiZWluZyBjcmVhdGVkLiBUaGUgbWFwcGluZ1xuICogb2JqZWN0IHNob3VsZCBoYXZlIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcbiAqXG4gKiAgIC0gZ2VuZXJhdGVkOiBBbiBvYmplY3Qgd2l0aCB0aGUgZ2VuZXJhdGVkIGxpbmUgYW5kIGNvbHVtbiBwb3NpdGlvbnMuXG4gKiAgIC0gb3JpZ2luYWw6IEFuIG9iamVjdCB3aXRoIHRoZSBvcmlnaW5hbCBsaW5lIGFuZCBjb2x1bW4gcG9zaXRpb25zLlxuICogICAtIHNvdXJjZTogVGhlIG9yaWdpbmFsIHNvdXJjZSBmaWxlIChyZWxhdGl2ZSB0byB0aGUgc291cmNlUm9vdCkuXG4gKiAgIC0gbmFtZTogQW4gb3B0aW9uYWwgb3JpZ2luYWwgdG9rZW4gbmFtZSBmb3IgdGhpcyBtYXBwaW5nLlxuICovXG5Tb3VyY2VNYXBHZW5lcmF0b3IucHJvdG90eXBlLmFkZE1hcHBpbmcgPVxuICBmdW5jdGlvbiBTb3VyY2VNYXBHZW5lcmF0b3JfYWRkTWFwcGluZyhhQXJncykge1xuICAgIHZhciBnZW5lcmF0ZWQgPSB1dGlsLmdldEFyZyhhQXJncywgJ2dlbmVyYXRlZCcpO1xuICAgIHZhciBvcmlnaW5hbCA9IHV0aWwuZ2V0QXJnKGFBcmdzLCAnb3JpZ2luYWwnLCBudWxsKTtcbiAgICB2YXIgc291cmNlID0gdXRpbC5nZXRBcmcoYUFyZ3MsICdzb3VyY2UnLCBudWxsKTtcbiAgICB2YXIgbmFtZSA9IHV0aWwuZ2V0QXJnKGFBcmdzLCAnbmFtZScsIG51bGwpO1xuXG4gICAgaWYgKCF0aGlzLl9za2lwVmFsaWRhdGlvbikge1xuICAgICAgdGhpcy5fdmFsaWRhdGVNYXBwaW5nKGdlbmVyYXRlZCwgb3JpZ2luYWwsIHNvdXJjZSwgbmFtZSk7XG4gICAgfVxuXG4gICAgaWYgKHNvdXJjZSAhPSBudWxsKSB7XG4gICAgICBzb3VyY2UgPSBTdHJpbmcoc291cmNlKTtcbiAgICAgIGlmICghdGhpcy5fc291cmNlcy5oYXMoc291cmNlKSkge1xuICAgICAgICB0aGlzLl9zb3VyY2VzLmFkZChzb3VyY2UpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChuYW1lICE9IG51bGwpIHtcbiAgICAgIG5hbWUgPSBTdHJpbmcobmFtZSk7XG4gICAgICBpZiAoIXRoaXMuX25hbWVzLmhhcyhuYW1lKSkge1xuICAgICAgICB0aGlzLl9uYW1lcy5hZGQobmFtZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5fbWFwcGluZ3MuYWRkKHtcbiAgICAgIGdlbmVyYXRlZExpbmU6IGdlbmVyYXRlZC5saW5lLFxuICAgICAgZ2VuZXJhdGVkQ29sdW1uOiBnZW5lcmF0ZWQuY29sdW1uLFxuICAgICAgb3JpZ2luYWxMaW5lOiBvcmlnaW5hbCAhPSBudWxsICYmIG9yaWdpbmFsLmxpbmUsXG4gICAgICBvcmlnaW5hbENvbHVtbjogb3JpZ2luYWwgIT0gbnVsbCAmJiBvcmlnaW5hbC5jb2x1bW4sXG4gICAgICBzb3VyY2U6IHNvdXJjZSxcbiAgICAgIG5hbWU6IG5hbWVcbiAgICB9KTtcbiAgfTtcblxuLyoqXG4gKiBTZXQgdGhlIHNvdXJjZSBjb250ZW50IGZvciBhIHNvdXJjZSBmaWxlLlxuICovXG5Tb3VyY2VNYXBHZW5lcmF0b3IucHJvdG90eXBlLnNldFNvdXJjZUNvbnRlbnQgPVxuICBmdW5jdGlvbiBTb3VyY2VNYXBHZW5lcmF0b3Jfc2V0U291cmNlQ29udGVudChhU291cmNlRmlsZSwgYVNvdXJjZUNvbnRlbnQpIHtcbiAgICB2YXIgc291cmNlID0gYVNvdXJjZUZpbGU7XG4gICAgaWYgKHRoaXMuX3NvdXJjZVJvb3QgIT0gbnVsbCkge1xuICAgICAgc291cmNlID0gdXRpbC5yZWxhdGl2ZSh0aGlzLl9zb3VyY2VSb290LCBzb3VyY2UpO1xuICAgIH1cblxuICAgIGlmIChhU291cmNlQ29udGVudCAhPSBudWxsKSB7XG4gICAgICAvLyBBZGQgdGhlIHNvdXJjZSBjb250ZW50IHRvIHRoZSBfc291cmNlc0NvbnRlbnRzIG1hcC5cbiAgICAgIC8vIENyZWF0ZSBhIG5ldyBfc291cmNlc0NvbnRlbnRzIG1hcCBpZiB0aGUgcHJvcGVydHkgaXMgbnVsbC5cbiAgICAgIGlmICghdGhpcy5fc291cmNlc0NvbnRlbnRzKSB7XG4gICAgICAgIHRoaXMuX3NvdXJjZXNDb250ZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICB9XG4gICAgICB0aGlzLl9zb3VyY2VzQ29udGVudHNbdXRpbC50b1NldFN0cmluZyhzb3VyY2UpXSA9IGFTb3VyY2VDb250ZW50O1xuICAgIH0gZWxzZSBpZiAodGhpcy5fc291cmNlc0NvbnRlbnRzKSB7XG4gICAgICAvLyBSZW1vdmUgdGhlIHNvdXJjZSBmaWxlIGZyb20gdGhlIF9zb3VyY2VzQ29udGVudHMgbWFwLlxuICAgICAgLy8gSWYgdGhlIF9zb3VyY2VzQ29udGVudHMgbWFwIGlzIGVtcHR5LCBzZXQgdGhlIHByb3BlcnR5IHRvIG51bGwuXG4gICAgICBkZWxldGUgdGhpcy5fc291cmNlc0NvbnRlbnRzW3V0aWwudG9TZXRTdHJpbmcoc291cmNlKV07XG4gICAgICBpZiAoT2JqZWN0LmtleXModGhpcy5fc291cmNlc0NvbnRlbnRzKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdGhpcy5fc291cmNlc0NvbnRlbnRzID0gbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbi8qKlxuICogQXBwbGllcyB0aGUgbWFwcGluZ3Mgb2YgYSBzdWItc291cmNlLW1hcCBmb3IgYSBzcGVjaWZpYyBzb3VyY2UgZmlsZSB0byB0aGVcbiAqIHNvdXJjZSBtYXAgYmVpbmcgZ2VuZXJhdGVkLiBFYWNoIG1hcHBpbmcgdG8gdGhlIHN1cHBsaWVkIHNvdXJjZSBmaWxlIGlzXG4gKiByZXdyaXR0ZW4gdXNpbmcgdGhlIHN1cHBsaWVkIHNvdXJjZSBtYXAuIE5vdGU6IFRoZSByZXNvbHV0aW9uIGZvciB0aGVcbiAqIHJlc3VsdGluZyBtYXBwaW5ncyBpcyB0aGUgbWluaW1pdW0gb2YgdGhpcyBtYXAgYW5kIHRoZSBzdXBwbGllZCBtYXAuXG4gKlxuICogQHBhcmFtIGFTb3VyY2VNYXBDb25zdW1lciBUaGUgc291cmNlIG1hcCB0byBiZSBhcHBsaWVkLlxuICogQHBhcmFtIGFTb3VyY2VGaWxlIE9wdGlvbmFsLiBUaGUgZmlsZW5hbWUgb2YgdGhlIHNvdXJjZSBmaWxlLlxuICogICAgICAgIElmIG9taXR0ZWQsIFNvdXJjZU1hcENvbnN1bWVyJ3MgZmlsZSBwcm9wZXJ0eSB3aWxsIGJlIHVzZWQuXG4gKiBAcGFyYW0gYVNvdXJjZU1hcFBhdGggT3B0aW9uYWwuIFRoZSBkaXJuYW1lIG9mIHRoZSBwYXRoIHRvIHRoZSBzb3VyY2UgbWFwXG4gKiAgICAgICAgdG8gYmUgYXBwbGllZC4gSWYgcmVsYXRpdmUsIGl0IGlzIHJlbGF0aXZlIHRvIHRoZSBTb3VyY2VNYXBDb25zdW1lci5cbiAqICAgICAgICBUaGlzIHBhcmFtZXRlciBpcyBuZWVkZWQgd2hlbiB0aGUgdHdvIHNvdXJjZSBtYXBzIGFyZW4ndCBpbiB0aGUgc2FtZVxuICogICAgICAgIGRpcmVjdG9yeSwgYW5kIHRoZSBzb3VyY2UgbWFwIHRvIGJlIGFwcGxpZWQgY29udGFpbnMgcmVsYXRpdmUgc291cmNlXG4gKiAgICAgICAgcGF0aHMuIElmIHNvLCB0aG9zZSByZWxhdGl2ZSBzb3VyY2UgcGF0aHMgbmVlZCB0byBiZSByZXdyaXR0ZW5cbiAqICAgICAgICByZWxhdGl2ZSB0byB0aGUgU291cmNlTWFwR2VuZXJhdG9yLlxuICovXG5Tb3VyY2VNYXBHZW5lcmF0b3IucHJvdG90eXBlLmFwcGx5U291cmNlTWFwID1cbiAgZnVuY3Rpb24gU291cmNlTWFwR2VuZXJhdG9yX2FwcGx5U291cmNlTWFwKGFTb3VyY2VNYXBDb25zdW1lciwgYVNvdXJjZUZpbGUsIGFTb3VyY2VNYXBQYXRoKSB7XG4gICAgdmFyIHNvdXJjZUZpbGUgPSBhU291cmNlRmlsZTtcbiAgICAvLyBJZiBhU291cmNlRmlsZSBpcyBvbWl0dGVkLCB3ZSB3aWxsIHVzZSB0aGUgZmlsZSBwcm9wZXJ0eSBvZiB0aGUgU291cmNlTWFwXG4gICAgaWYgKGFTb3VyY2VGaWxlID09IG51bGwpIHtcbiAgICAgIGlmIChhU291cmNlTWFwQ29uc3VtZXIuZmlsZSA9PSBudWxsKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAnU291cmNlTWFwR2VuZXJhdG9yLnByb3RvdHlwZS5hcHBseVNvdXJjZU1hcCByZXF1aXJlcyBlaXRoZXIgYW4gZXhwbGljaXQgc291cmNlIGZpbGUsICcgK1xuICAgICAgICAgICdvciB0aGUgc291cmNlIG1hcFxcJ3MgXCJmaWxlXCIgcHJvcGVydHkuIEJvdGggd2VyZSBvbWl0dGVkLidcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHNvdXJjZUZpbGUgPSBhU291cmNlTWFwQ29uc3VtZXIuZmlsZTtcbiAgICB9XG4gICAgdmFyIHNvdXJjZVJvb3QgPSB0aGlzLl9zb3VyY2VSb290O1xuICAgIC8vIE1ha2UgXCJzb3VyY2VGaWxlXCIgcmVsYXRpdmUgaWYgYW4gYWJzb2x1dGUgVXJsIGlzIHBhc3NlZC5cbiAgICBpZiAoc291cmNlUm9vdCAhPSBudWxsKSB7XG4gICAgICBzb3VyY2VGaWxlID0gdXRpbC5yZWxhdGl2ZShzb3VyY2VSb290LCBzb3VyY2VGaWxlKTtcbiAgICB9XG4gICAgLy8gQXBwbHlpbmcgdGhlIFNvdXJjZU1hcCBjYW4gYWRkIGFuZCByZW1vdmUgaXRlbXMgZnJvbSB0aGUgc291cmNlcyBhbmRcbiAgICAvLyB0aGUgbmFtZXMgYXJyYXkuXG4gICAgdmFyIG5ld1NvdXJjZXMgPSBuZXcgQXJyYXlTZXQoKTtcbiAgICB2YXIgbmV3TmFtZXMgPSBuZXcgQXJyYXlTZXQoKTtcblxuICAgIC8vIEZpbmQgbWFwcGluZ3MgZm9yIHRoZSBcInNvdXJjZUZpbGVcIlxuICAgIHRoaXMuX21hcHBpbmdzLnVuc29ydGVkRm9yRWFjaChmdW5jdGlvbiAobWFwcGluZykge1xuICAgICAgaWYgKG1hcHBpbmcuc291cmNlID09PSBzb3VyY2VGaWxlICYmIG1hcHBpbmcub3JpZ2luYWxMaW5lICE9IG51bGwpIHtcbiAgICAgICAgLy8gQ2hlY2sgaWYgaXQgY2FuIGJlIG1hcHBlZCBieSB0aGUgc291cmNlIG1hcCwgdGhlbiB1cGRhdGUgdGhlIG1hcHBpbmcuXG4gICAgICAgIHZhciBvcmlnaW5hbCA9IGFTb3VyY2VNYXBDb25zdW1lci5vcmlnaW5hbFBvc2l0aW9uRm9yKHtcbiAgICAgICAgICBsaW5lOiBtYXBwaW5nLm9yaWdpbmFsTGluZSxcbiAgICAgICAgICBjb2x1bW46IG1hcHBpbmcub3JpZ2luYWxDb2x1bW5cbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChvcmlnaW5hbC5zb3VyY2UgIT0gbnVsbCkge1xuICAgICAgICAgIC8vIENvcHkgbWFwcGluZ1xuICAgICAgICAgIG1hcHBpbmcuc291cmNlID0gb3JpZ2luYWwuc291cmNlO1xuICAgICAgICAgIGlmIChhU291cmNlTWFwUGF0aCAhPSBudWxsKSB7XG4gICAgICAgICAgICBtYXBwaW5nLnNvdXJjZSA9IHV0aWwuam9pbihhU291cmNlTWFwUGF0aCwgbWFwcGluZy5zb3VyY2UpXG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzb3VyY2VSb290ICE9IG51bGwpIHtcbiAgICAgICAgICAgIG1hcHBpbmcuc291cmNlID0gdXRpbC5yZWxhdGl2ZShzb3VyY2VSb290LCBtYXBwaW5nLnNvdXJjZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1hcHBpbmcub3JpZ2luYWxMaW5lID0gb3JpZ2luYWwubGluZTtcbiAgICAgICAgICBtYXBwaW5nLm9yaWdpbmFsQ29sdW1uID0gb3JpZ2luYWwuY29sdW1uO1xuICAgICAgICAgIGlmIChvcmlnaW5hbC5uYW1lICE9IG51bGwpIHtcbiAgICAgICAgICAgIG1hcHBpbmcubmFtZSA9IG9yaWdpbmFsLm5hbWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHZhciBzb3VyY2UgPSBtYXBwaW5nLnNvdXJjZTtcbiAgICAgIGlmIChzb3VyY2UgIT0gbnVsbCAmJiAhbmV3U291cmNlcy5oYXMoc291cmNlKSkge1xuICAgICAgICBuZXdTb3VyY2VzLmFkZChzb3VyY2UpO1xuICAgICAgfVxuXG4gICAgICB2YXIgbmFtZSA9IG1hcHBpbmcubmFtZTtcbiAgICAgIGlmIChuYW1lICE9IG51bGwgJiYgIW5ld05hbWVzLmhhcyhuYW1lKSkge1xuICAgICAgICBuZXdOYW1lcy5hZGQobmFtZSk7XG4gICAgICB9XG5cbiAgICB9LCB0aGlzKTtcbiAgICB0aGlzLl9zb3VyY2VzID0gbmV3U291cmNlcztcbiAgICB0aGlzLl9uYW1lcyA9IG5ld05hbWVzO1xuXG4gICAgLy8gQ29weSBzb3VyY2VzQ29udGVudHMgb2YgYXBwbGllZCBtYXAuXG4gICAgYVNvdXJjZU1hcENvbnN1bWVyLnNvdXJjZXMuZm9yRWFjaChmdW5jdGlvbiAoc291cmNlRmlsZSkge1xuICAgICAgdmFyIGNvbnRlbnQgPSBhU291cmNlTWFwQ29uc3VtZXIuc291cmNlQ29udGVudEZvcihzb3VyY2VGaWxlKTtcbiAgICAgIGlmIChjb250ZW50ICE9IG51bGwpIHtcbiAgICAgICAgaWYgKGFTb3VyY2VNYXBQYXRoICE9IG51bGwpIHtcbiAgICAgICAgICBzb3VyY2VGaWxlID0gdXRpbC5qb2luKGFTb3VyY2VNYXBQYXRoLCBzb3VyY2VGaWxlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc291cmNlUm9vdCAhPSBudWxsKSB7XG4gICAgICAgICAgc291cmNlRmlsZSA9IHV0aWwucmVsYXRpdmUoc291cmNlUm9vdCwgc291cmNlRmlsZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZXRTb3VyY2VDb250ZW50KHNvdXJjZUZpbGUsIGNvbnRlbnQpO1xuICAgICAgfVxuICAgIH0sIHRoaXMpO1xuICB9O1xuXG4vKipcbiAqIEEgbWFwcGluZyBjYW4gaGF2ZSBvbmUgb2YgdGhlIHRocmVlIGxldmVscyBvZiBkYXRhOlxuICpcbiAqICAgMS4gSnVzdCB0aGUgZ2VuZXJhdGVkIHBvc2l0aW9uLlxuICogICAyLiBUaGUgR2VuZXJhdGVkIHBvc2l0aW9uLCBvcmlnaW5hbCBwb3NpdGlvbiwgYW5kIG9yaWdpbmFsIHNvdXJjZS5cbiAqICAgMy4gR2VuZXJhdGVkIGFuZCBvcmlnaW5hbCBwb3NpdGlvbiwgb3JpZ2luYWwgc291cmNlLCBhcyB3ZWxsIGFzIGEgbmFtZVxuICogICAgICB0b2tlbi5cbiAqXG4gKiBUbyBtYWludGFpbiBjb25zaXN0ZW5jeSwgd2UgdmFsaWRhdGUgdGhhdCBhbnkgbmV3IG1hcHBpbmcgYmVpbmcgYWRkZWQgZmFsbHNcbiAqIGluIHRvIG9uZSBvZiB0aGVzZSBjYXRlZ29yaWVzLlxuICovXG5Tb3VyY2VNYXBHZW5lcmF0b3IucHJvdG90eXBlLl92YWxpZGF0ZU1hcHBpbmcgPVxuICBmdW5jdGlvbiBTb3VyY2VNYXBHZW5lcmF0b3JfdmFsaWRhdGVNYXBwaW5nKGFHZW5lcmF0ZWQsIGFPcmlnaW5hbCwgYVNvdXJjZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhTmFtZSkge1xuICAgIC8vIFdoZW4gYU9yaWdpbmFsIGlzIHRydXRoeSBidXQgaGFzIGVtcHR5IHZhbHVlcyBmb3IgLmxpbmUgYW5kIC5jb2x1bW4sXG4gICAgLy8gaXQgaXMgbW9zdCBsaWtlbHkgYSBwcm9ncmFtbWVyIGVycm9yLiBJbiB0aGlzIGNhc2Ugd2UgdGhyb3cgYSB2ZXJ5XG4gICAgLy8gc3BlY2lmaWMgZXJyb3IgbWVzc2FnZSB0byB0cnkgdG8gZ3VpZGUgdGhlbSB0aGUgcmlnaHQgd2F5LlxuICAgIC8vIEZvciBleGFtcGxlOiBodHRwczovL2dpdGh1Yi5jb20vUG9seW1lci9wb2x5bWVyLWJ1bmRsZXIvcHVsbC81MTlcbiAgICBpZiAoYU9yaWdpbmFsICYmIHR5cGVvZiBhT3JpZ2luYWwubGluZSAhPT0gJ251bWJlcicgJiYgdHlwZW9mIGFPcmlnaW5hbC5jb2x1bW4gIT09ICdudW1iZXInKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgICdvcmlnaW5hbC5saW5lIGFuZCBvcmlnaW5hbC5jb2x1bW4gYXJlIG5vdCBudW1iZXJzIC0tIHlvdSBwcm9iYWJseSBtZWFudCB0byBvbWl0ICcgK1xuICAgICAgICAgICAgJ3RoZSBvcmlnaW5hbCBtYXBwaW5nIGVudGlyZWx5IGFuZCBvbmx5IG1hcCB0aGUgZ2VuZXJhdGVkIHBvc2l0aW9uLiBJZiBzbywgcGFzcyAnICtcbiAgICAgICAgICAgICdudWxsIGZvciB0aGUgb3JpZ2luYWwgbWFwcGluZyBpbnN0ZWFkIG9mIGFuIG9iamVjdCB3aXRoIGVtcHR5IG9yIG51bGwgdmFsdWVzLidcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAoYUdlbmVyYXRlZCAmJiAnbGluZScgaW4gYUdlbmVyYXRlZCAmJiAnY29sdW1uJyBpbiBhR2VuZXJhdGVkXG4gICAgICAgICYmIGFHZW5lcmF0ZWQubGluZSA+IDAgJiYgYUdlbmVyYXRlZC5jb2x1bW4gPj0gMFxuICAgICAgICAmJiAhYU9yaWdpbmFsICYmICFhU291cmNlICYmICFhTmFtZSkge1xuICAgICAgLy8gQ2FzZSAxLlxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBlbHNlIGlmIChhR2VuZXJhdGVkICYmICdsaW5lJyBpbiBhR2VuZXJhdGVkICYmICdjb2x1bW4nIGluIGFHZW5lcmF0ZWRcbiAgICAgICAgICAgICAmJiBhT3JpZ2luYWwgJiYgJ2xpbmUnIGluIGFPcmlnaW5hbCAmJiAnY29sdW1uJyBpbiBhT3JpZ2luYWxcbiAgICAgICAgICAgICAmJiBhR2VuZXJhdGVkLmxpbmUgPiAwICYmIGFHZW5lcmF0ZWQuY29sdW1uID49IDBcbiAgICAgICAgICAgICAmJiBhT3JpZ2luYWwubGluZSA+IDAgJiYgYU9yaWdpbmFsLmNvbHVtbiA+PSAwXG4gICAgICAgICAgICAgJiYgYVNvdXJjZSkge1xuICAgICAgLy8gQ2FzZXMgMiBhbmQgMy5cbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgbWFwcGluZzogJyArIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgZ2VuZXJhdGVkOiBhR2VuZXJhdGVkLFxuICAgICAgICBzb3VyY2U6IGFTb3VyY2UsXG4gICAgICAgIG9yaWdpbmFsOiBhT3JpZ2luYWwsXG4gICAgICAgIG5hbWU6IGFOYW1lXG4gICAgICB9KSk7XG4gICAgfVxuICB9O1xuXG4vKipcbiAqIFNlcmlhbGl6ZSB0aGUgYWNjdW11bGF0ZWQgbWFwcGluZ3MgaW4gdG8gdGhlIHN0cmVhbSBvZiBiYXNlIDY0IFZMUXNcbiAqIHNwZWNpZmllZCBieSB0aGUgc291cmNlIG1hcCBmb3JtYXQuXG4gKi9cblNvdXJjZU1hcEdlbmVyYXRvci5wcm90b3R5cGUuX3NlcmlhbGl6ZU1hcHBpbmdzID1cbiAgZnVuY3Rpb24gU291cmNlTWFwR2VuZXJhdG9yX3NlcmlhbGl6ZU1hcHBpbmdzKCkge1xuICAgIHZhciBwcmV2aW91c0dlbmVyYXRlZENvbHVtbiA9IDA7XG4gICAgdmFyIHByZXZpb3VzR2VuZXJhdGVkTGluZSA9IDE7XG4gICAgdmFyIHByZXZpb3VzT3JpZ2luYWxDb2x1bW4gPSAwO1xuICAgIHZhciBwcmV2aW91c09yaWdpbmFsTGluZSA9IDA7XG4gICAgdmFyIHByZXZpb3VzTmFtZSA9IDA7XG4gICAgdmFyIHByZXZpb3VzU291cmNlID0gMDtcbiAgICB2YXIgcmVzdWx0ID0gJyc7XG4gICAgdmFyIG5leHQ7XG4gICAgdmFyIG1hcHBpbmc7XG4gICAgdmFyIG5hbWVJZHg7XG4gICAgdmFyIHNvdXJjZUlkeDtcblxuICAgIHZhciBtYXBwaW5ncyA9IHRoaXMuX21hcHBpbmdzLnRvQXJyYXkoKTtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gbWFwcGluZ3MubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIG1hcHBpbmcgPSBtYXBwaW5nc1tpXTtcbiAgICAgIG5leHQgPSAnJ1xuXG4gICAgICBpZiAobWFwcGluZy5nZW5lcmF0ZWRMaW5lICE9PSBwcmV2aW91c0dlbmVyYXRlZExpbmUpIHtcbiAgICAgICAgcHJldmlvdXNHZW5lcmF0ZWRDb2x1bW4gPSAwO1xuICAgICAgICB3aGlsZSAobWFwcGluZy5nZW5lcmF0ZWRMaW5lICE9PSBwcmV2aW91c0dlbmVyYXRlZExpbmUpIHtcbiAgICAgICAgICBuZXh0ICs9ICc7JztcbiAgICAgICAgICBwcmV2aW91c0dlbmVyYXRlZExpbmUrKztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGlmIChpID4gMCkge1xuICAgICAgICAgIGlmICghdXRpbC5jb21wYXJlQnlHZW5lcmF0ZWRQb3NpdGlvbnNJbmZsYXRlZChtYXBwaW5nLCBtYXBwaW5nc1tpIC0gMV0pKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbmV4dCArPSAnLCc7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgbmV4dCArPSBiYXNlNjRWTFEuZW5jb2RlKG1hcHBpbmcuZ2VuZXJhdGVkQ29sdW1uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAtIHByZXZpb3VzR2VuZXJhdGVkQ29sdW1uKTtcbiAgICAgIHByZXZpb3VzR2VuZXJhdGVkQ29sdW1uID0gbWFwcGluZy5nZW5lcmF0ZWRDb2x1bW47XG5cbiAgICAgIGlmIChtYXBwaW5nLnNvdXJjZSAhPSBudWxsKSB7XG4gICAgICAgIHNvdXJjZUlkeCA9IHRoaXMuX3NvdXJjZXMuaW5kZXhPZihtYXBwaW5nLnNvdXJjZSk7XG4gICAgICAgIG5leHQgKz0gYmFzZTY0VkxRLmVuY29kZShzb3VyY2VJZHggLSBwcmV2aW91c1NvdXJjZSk7XG4gICAgICAgIHByZXZpb3VzU291cmNlID0gc291cmNlSWR4O1xuXG4gICAgICAgIC8vIGxpbmVzIGFyZSBzdG9yZWQgMC1iYXNlZCBpbiBTb3VyY2VNYXAgc3BlYyB2ZXJzaW9uIDNcbiAgICAgICAgbmV4dCArPSBiYXNlNjRWTFEuZW5jb2RlKG1hcHBpbmcub3JpZ2luYWxMaW5lIC0gMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAtIHByZXZpb3VzT3JpZ2luYWxMaW5lKTtcbiAgICAgICAgcHJldmlvdXNPcmlnaW5hbExpbmUgPSBtYXBwaW5nLm9yaWdpbmFsTGluZSAtIDE7XG5cbiAgICAgICAgbmV4dCArPSBiYXNlNjRWTFEuZW5jb2RlKG1hcHBpbmcub3JpZ2luYWxDb2x1bW5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLSBwcmV2aW91c09yaWdpbmFsQ29sdW1uKTtcbiAgICAgICAgcHJldmlvdXNPcmlnaW5hbENvbHVtbiA9IG1hcHBpbmcub3JpZ2luYWxDb2x1bW47XG5cbiAgICAgICAgaWYgKG1hcHBpbmcubmFtZSAhPSBudWxsKSB7XG4gICAgICAgICAgbmFtZUlkeCA9IHRoaXMuX25hbWVzLmluZGV4T2YobWFwcGluZy5uYW1lKTtcbiAgICAgICAgICBuZXh0ICs9IGJhc2U2NFZMUS5lbmNvZGUobmFtZUlkeCAtIHByZXZpb3VzTmFtZSk7XG4gICAgICAgICAgcHJldmlvdXNOYW1lID0gbmFtZUlkeDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXN1bHQgKz0gbmV4dDtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG5Tb3VyY2VNYXBHZW5lcmF0b3IucHJvdG90eXBlLl9nZW5lcmF0ZVNvdXJjZXNDb250ZW50ID1cbiAgZnVuY3Rpb24gU291cmNlTWFwR2VuZXJhdG9yX2dlbmVyYXRlU291cmNlc0NvbnRlbnQoYVNvdXJjZXMsIGFTb3VyY2VSb290KSB7XG4gICAgcmV0dXJuIGFTb3VyY2VzLm1hcChmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICBpZiAoIXRoaXMuX3NvdXJjZXNDb250ZW50cykge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIGlmIChhU291cmNlUm9vdCAhPSBudWxsKSB7XG4gICAgICAgIHNvdXJjZSA9IHV0aWwucmVsYXRpdmUoYVNvdXJjZVJvb3QsIHNvdXJjZSk7XG4gICAgICB9XG4gICAgICB2YXIga2V5ID0gdXRpbC50b1NldFN0cmluZyhzb3VyY2UpO1xuICAgICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLl9zb3VyY2VzQ29udGVudHMsIGtleSlcbiAgICAgICAgPyB0aGlzLl9zb3VyY2VzQ29udGVudHNba2V5XVxuICAgICAgICA6IG51bGw7XG4gICAgfSwgdGhpcyk7XG4gIH07XG5cbi8qKlxuICogRXh0ZXJuYWxpemUgdGhlIHNvdXJjZSBtYXAuXG4gKi9cblNvdXJjZU1hcEdlbmVyYXRvci5wcm90b3R5cGUudG9KU09OID1cbiAgZnVuY3Rpb24gU291cmNlTWFwR2VuZXJhdG9yX3RvSlNPTigpIHtcbiAgICB2YXIgbWFwID0ge1xuICAgICAgdmVyc2lvbjogdGhpcy5fdmVyc2lvbixcbiAgICAgIHNvdXJjZXM6IHRoaXMuX3NvdXJjZXMudG9BcnJheSgpLFxuICAgICAgbmFtZXM6IHRoaXMuX25hbWVzLnRvQXJyYXkoKSxcbiAgICAgIG1hcHBpbmdzOiB0aGlzLl9zZXJpYWxpemVNYXBwaW5ncygpXG4gICAgfTtcbiAgICBpZiAodGhpcy5fZmlsZSAhPSBudWxsKSB7XG4gICAgICBtYXAuZmlsZSA9IHRoaXMuX2ZpbGU7XG4gICAgfVxuICAgIGlmICh0aGlzLl9zb3VyY2VSb290ICE9IG51bGwpIHtcbiAgICAgIG1hcC5zb3VyY2VSb290ID0gdGhpcy5fc291cmNlUm9vdDtcbiAgICB9XG4gICAgaWYgKHRoaXMuX3NvdXJjZXNDb250ZW50cykge1xuICAgICAgbWFwLnNvdXJjZXNDb250ZW50ID0gdGhpcy5fZ2VuZXJhdGVTb3VyY2VzQ29udGVudChtYXAuc291cmNlcywgbWFwLnNvdXJjZVJvb3QpO1xuICAgIH1cblxuICAgIHJldHVybiBtYXA7XG4gIH07XG5cbi8qKlxuICogUmVuZGVyIHRoZSBzb3VyY2UgbWFwIGJlaW5nIGdlbmVyYXRlZCB0byBhIHN0cmluZy5cbiAqL1xuU291cmNlTWFwR2VuZXJhdG9yLnByb3RvdHlwZS50b1N0cmluZyA9XG4gIGZ1bmN0aW9uIFNvdXJjZU1hcEdlbmVyYXRvcl90b1N0cmluZygpIHtcbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkodGhpcy50b0pTT04oKSk7XG4gIH07XG5cbmV4cG9ydHMuU291cmNlTWFwR2VuZXJhdG9yID0gU291cmNlTWFwR2VuZXJhdG9yO1xuIiwgIi8qIC0qLSBNb2RlOiBqczsganMtaW5kZW50LWxldmVsOiAyOyAtKi0gKi9cbi8qXG4gKiBDb3B5cmlnaHQgMjAxMSBNb3ppbGxhIEZvdW5kYXRpb24gYW5kIGNvbnRyaWJ1dG9yc1xuICogTGljZW5zZWQgdW5kZXIgdGhlIE5ldyBCU0QgbGljZW5zZS4gU2VlIExJQ0VOU0Ugb3I6XG4gKiBodHRwOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvQlNELTMtQ2xhdXNlXG4gKi9cblxuZXhwb3J0cy5HUkVBVEVTVF9MT1dFUl9CT1VORCA9IDE7XG5leHBvcnRzLkxFQVNUX1VQUEVSX0JPVU5EID0gMjtcblxuLyoqXG4gKiBSZWN1cnNpdmUgaW1wbGVtZW50YXRpb24gb2YgYmluYXJ5IHNlYXJjaC5cbiAqXG4gKiBAcGFyYW0gYUxvdyBJbmRpY2VzIGhlcmUgYW5kIGxvd2VyIGRvIG5vdCBjb250YWluIHRoZSBuZWVkbGUuXG4gKiBAcGFyYW0gYUhpZ2ggSW5kaWNlcyBoZXJlIGFuZCBoaWdoZXIgZG8gbm90IGNvbnRhaW4gdGhlIG5lZWRsZS5cbiAqIEBwYXJhbSBhTmVlZGxlIFRoZSBlbGVtZW50IGJlaW5nIHNlYXJjaGVkIGZvci5cbiAqIEBwYXJhbSBhSGF5c3RhY2sgVGhlIG5vbi1lbXB0eSBhcnJheSBiZWluZyBzZWFyY2hlZC5cbiAqIEBwYXJhbSBhQ29tcGFyZSBGdW5jdGlvbiB3aGljaCB0YWtlcyB0d28gZWxlbWVudHMgYW5kIHJldHVybnMgLTEsIDAsIG9yIDEuXG4gKiBAcGFyYW0gYUJpYXMgRWl0aGVyICdiaW5hcnlTZWFyY2guR1JFQVRFU1RfTE9XRVJfQk9VTkQnIG9yXG4gKiAgICAgJ2JpbmFyeVNlYXJjaC5MRUFTVF9VUFBFUl9CT1VORCcuIFNwZWNpZmllcyB3aGV0aGVyIHRvIHJldHVybiB0aGVcbiAqICAgICBjbG9zZXN0IGVsZW1lbnQgdGhhdCBpcyBzbWFsbGVyIHRoYW4gb3IgZ3JlYXRlciB0aGFuIHRoZSBvbmUgd2UgYXJlXG4gKiAgICAgc2VhcmNoaW5nIGZvciwgcmVzcGVjdGl2ZWx5LCBpZiB0aGUgZXhhY3QgZWxlbWVudCBjYW5ub3QgYmUgZm91bmQuXG4gKi9cbmZ1bmN0aW9uIHJlY3Vyc2l2ZVNlYXJjaChhTG93LCBhSGlnaCwgYU5lZWRsZSwgYUhheXN0YWNrLCBhQ29tcGFyZSwgYUJpYXMpIHtcbiAgLy8gVGhpcyBmdW5jdGlvbiB0ZXJtaW5hdGVzIHdoZW4gb25lIG9mIHRoZSBmb2xsb3dpbmcgaXMgdHJ1ZTpcbiAgLy9cbiAgLy8gICAxLiBXZSBmaW5kIHRoZSBleGFjdCBlbGVtZW50IHdlIGFyZSBsb29raW5nIGZvci5cbiAgLy9cbiAgLy8gICAyLiBXZSBkaWQgbm90IGZpbmQgdGhlIGV4YWN0IGVsZW1lbnQsIGJ1dCB3ZSBjYW4gcmV0dXJuIHRoZSBpbmRleCBvZlxuICAvLyAgICAgIHRoZSBuZXh0LWNsb3Nlc3QgZWxlbWVudC5cbiAgLy9cbiAgLy8gICAzLiBXZSBkaWQgbm90IGZpbmQgdGhlIGV4YWN0IGVsZW1lbnQsIGFuZCB0aGVyZSBpcyBubyBuZXh0LWNsb3Nlc3RcbiAgLy8gICAgICBlbGVtZW50IHRoYW4gdGhlIG9uZSB3ZSBhcmUgc2VhcmNoaW5nIGZvciwgc28gd2UgcmV0dXJuIC0xLlxuICB2YXIgbWlkID0gTWF0aC5mbG9vcigoYUhpZ2ggLSBhTG93KSAvIDIpICsgYUxvdztcbiAgdmFyIGNtcCA9IGFDb21wYXJlKGFOZWVkbGUsIGFIYXlzdGFja1ttaWRdLCB0cnVlKTtcbiAgaWYgKGNtcCA9PT0gMCkge1xuICAgIC8vIEZvdW5kIHRoZSBlbGVtZW50IHdlIGFyZSBsb29raW5nIGZvci5cbiAgICByZXR1cm4gbWlkO1xuICB9XG4gIGVsc2UgaWYgKGNtcCA+IDApIHtcbiAgICAvLyBPdXIgbmVlZGxlIGlzIGdyZWF0ZXIgdGhhbiBhSGF5c3RhY2tbbWlkXS5cbiAgICBpZiAoYUhpZ2ggLSBtaWQgPiAxKSB7XG4gICAgICAvLyBUaGUgZWxlbWVudCBpcyBpbiB0aGUgdXBwZXIgaGFsZi5cbiAgICAgIHJldHVybiByZWN1cnNpdmVTZWFyY2gobWlkLCBhSGlnaCwgYU5lZWRsZSwgYUhheXN0YWNrLCBhQ29tcGFyZSwgYUJpYXMpO1xuICAgIH1cblxuICAgIC8vIFRoZSBleGFjdCBuZWVkbGUgZWxlbWVudCB3YXMgbm90IGZvdW5kIGluIHRoaXMgaGF5c3RhY2suIERldGVybWluZSBpZlxuICAgIC8vIHdlIGFyZSBpbiB0ZXJtaW5hdGlvbiBjYXNlICgzKSBvciAoMikgYW5kIHJldHVybiB0aGUgYXBwcm9wcmlhdGUgdGhpbmcuXG4gICAgaWYgKGFCaWFzID09IGV4cG9ydHMuTEVBU1RfVVBQRVJfQk9VTkQpIHtcbiAgICAgIHJldHVybiBhSGlnaCA8IGFIYXlzdGFjay5sZW5ndGggPyBhSGlnaCA6IC0xO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbWlkO1xuICAgIH1cbiAgfVxuICBlbHNlIHtcbiAgICAvLyBPdXIgbmVlZGxlIGlzIGxlc3MgdGhhbiBhSGF5c3RhY2tbbWlkXS5cbiAgICBpZiAobWlkIC0gYUxvdyA+IDEpIHtcbiAgICAgIC8vIFRoZSBlbGVtZW50IGlzIGluIHRoZSBsb3dlciBoYWxmLlxuICAgICAgcmV0dXJuIHJlY3Vyc2l2ZVNlYXJjaChhTG93LCBtaWQsIGFOZWVkbGUsIGFIYXlzdGFjaywgYUNvbXBhcmUsIGFCaWFzKTtcbiAgICB9XG5cbiAgICAvLyB3ZSBhcmUgaW4gdGVybWluYXRpb24gY2FzZSAoMykgb3IgKDIpIGFuZCByZXR1cm4gdGhlIGFwcHJvcHJpYXRlIHRoaW5nLlxuICAgIGlmIChhQmlhcyA9PSBleHBvcnRzLkxFQVNUX1VQUEVSX0JPVU5EKSB7XG4gICAgICByZXR1cm4gbWlkO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gYUxvdyA8IDAgPyAtMSA6IGFMb3c7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogVGhpcyBpcyBhbiBpbXBsZW1lbnRhdGlvbiBvZiBiaW5hcnkgc2VhcmNoIHdoaWNoIHdpbGwgYWx3YXlzIHRyeSBhbmQgcmV0dXJuXG4gKiB0aGUgaW5kZXggb2YgdGhlIGNsb3Nlc3QgZWxlbWVudCBpZiB0aGVyZSBpcyBubyBleGFjdCBoaXQuIFRoaXMgaXMgYmVjYXVzZVxuICogbWFwcGluZ3MgYmV0d2VlbiBvcmlnaW5hbCBhbmQgZ2VuZXJhdGVkIGxpbmUvY29sIHBhaXJzIGFyZSBzaW5nbGUgcG9pbnRzLFxuICogYW5kIHRoZXJlIGlzIGFuIGltcGxpY2l0IHJlZ2lvbiBiZXR3ZWVuIGVhY2ggb2YgdGhlbSwgc28gYSBtaXNzIGp1c3QgbWVhbnNcbiAqIHRoYXQgeW91IGFyZW4ndCBvbiB0aGUgdmVyeSBzdGFydCBvZiBhIHJlZ2lvbi5cbiAqXG4gKiBAcGFyYW0gYU5lZWRsZSBUaGUgZWxlbWVudCB5b3UgYXJlIGxvb2tpbmcgZm9yLlxuICogQHBhcmFtIGFIYXlzdGFjayBUaGUgYXJyYXkgdGhhdCBpcyBiZWluZyBzZWFyY2hlZC5cbiAqIEBwYXJhbSBhQ29tcGFyZSBBIGZ1bmN0aW9uIHdoaWNoIHRha2VzIHRoZSBuZWVkbGUgYW5kIGFuIGVsZW1lbnQgaW4gdGhlXG4gKiAgICAgYXJyYXkgYW5kIHJldHVybnMgLTEsIDAsIG9yIDEgZGVwZW5kaW5nIG9uIHdoZXRoZXIgdGhlIG5lZWRsZSBpcyBsZXNzXG4gKiAgICAgdGhhbiwgZXF1YWwgdG8sIG9yIGdyZWF0ZXIgdGhhbiB0aGUgZWxlbWVudCwgcmVzcGVjdGl2ZWx5LlxuICogQHBhcmFtIGFCaWFzIEVpdGhlciAnYmluYXJ5U2VhcmNoLkdSRUFURVNUX0xPV0VSX0JPVU5EJyBvclxuICogICAgICdiaW5hcnlTZWFyY2guTEVBU1RfVVBQRVJfQk9VTkQnLiBTcGVjaWZpZXMgd2hldGhlciB0byByZXR1cm4gdGhlXG4gKiAgICAgY2xvc2VzdCBlbGVtZW50IHRoYXQgaXMgc21hbGxlciB0aGFuIG9yIGdyZWF0ZXIgdGhhbiB0aGUgb25lIHdlIGFyZVxuICogICAgIHNlYXJjaGluZyBmb3IsIHJlc3BlY3RpdmVseSwgaWYgdGhlIGV4YWN0IGVsZW1lbnQgY2Fubm90IGJlIGZvdW5kLlxuICogICAgIERlZmF1bHRzIHRvICdiaW5hcnlTZWFyY2guR1JFQVRFU1RfTE9XRVJfQk9VTkQnLlxuICovXG5leHBvcnRzLnNlYXJjaCA9IGZ1bmN0aW9uIHNlYXJjaChhTmVlZGxlLCBhSGF5c3RhY2ssIGFDb21wYXJlLCBhQmlhcykge1xuICBpZiAoYUhheXN0YWNrLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiAtMTtcbiAgfVxuXG4gIHZhciBpbmRleCA9IHJlY3Vyc2l2ZVNlYXJjaCgtMSwgYUhheXN0YWNrLmxlbmd0aCwgYU5lZWRsZSwgYUhheXN0YWNrLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYUNvbXBhcmUsIGFCaWFzIHx8IGV4cG9ydHMuR1JFQVRFU1RfTE9XRVJfQk9VTkQpO1xuICBpZiAoaW5kZXggPCAwKSB7XG4gICAgcmV0dXJuIC0xO1xuICB9XG5cbiAgLy8gV2UgaGF2ZSBmb3VuZCBlaXRoZXIgdGhlIGV4YWN0IGVsZW1lbnQsIG9yIHRoZSBuZXh0LWNsb3Nlc3QgZWxlbWVudCB0aGFuXG4gIC8vIHRoZSBvbmUgd2UgYXJlIHNlYXJjaGluZyBmb3IuIEhvd2V2ZXIsIHRoZXJlIG1heSBiZSBtb3JlIHRoYW4gb25lIHN1Y2hcbiAgLy8gZWxlbWVudC4gTWFrZSBzdXJlIHdlIGFsd2F5cyByZXR1cm4gdGhlIHNtYWxsZXN0IG9mIHRoZXNlLlxuICB3aGlsZSAoaW5kZXggLSAxID49IDApIHtcbiAgICBpZiAoYUNvbXBhcmUoYUhheXN0YWNrW2luZGV4XSwgYUhheXN0YWNrW2luZGV4IC0gMV0sIHRydWUpICE9PSAwKSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgLS1pbmRleDtcbiAgfVxuXG4gIHJldHVybiBpbmRleDtcbn07XG4iLCAiLyogLSotIE1vZGU6IGpzOyBqcy1pbmRlbnQtbGV2ZWw6IDI7IC0qLSAqL1xuLypcbiAqIENvcHlyaWdodCAyMDExIE1vemlsbGEgRm91bmRhdGlvbiBhbmQgY29udHJpYnV0b3JzXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTmV3IEJTRCBsaWNlbnNlLiBTZWUgTElDRU5TRSBvcjpcbiAqIGh0dHA6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9CU0QtMy1DbGF1c2VcbiAqL1xuXG4vLyBJdCB0dXJucyBvdXQgdGhhdCBzb21lIChtb3N0PykgSmF2YVNjcmlwdCBlbmdpbmVzIGRvbid0IHNlbGYtaG9zdFxuLy8gYEFycmF5LnByb3RvdHlwZS5zb3J0YC4gVGhpcyBtYWtlcyBzZW5zZSBiZWNhdXNlIEMrKyB3aWxsIGxpa2VseSByZW1haW5cbi8vIGZhc3RlciB0aGFuIEpTIHdoZW4gZG9pbmcgcmF3IENQVS1pbnRlbnNpdmUgc29ydGluZy4gSG93ZXZlciwgd2hlbiB1c2luZyBhXG4vLyBjdXN0b20gY29tcGFyYXRvciBmdW5jdGlvbiwgY2FsbGluZyBiYWNrIGFuZCBmb3J0aCBiZXR3ZWVuIHRoZSBWTSdzIEMrKyBhbmRcbi8vIEpJVCdkIEpTIGlzIHJhdGhlciBzbG93ICphbmQqIGxvc2VzIEpJVCB0eXBlIGluZm9ybWF0aW9uLCByZXN1bHRpbmcgaW5cbi8vIHdvcnNlIGdlbmVyYXRlZCBjb2RlIGZvciB0aGUgY29tcGFyYXRvciBmdW5jdGlvbiB0aGFuIHdvdWxkIGJlIG9wdGltYWwuIEluXG4vLyBmYWN0LCB3aGVuIHNvcnRpbmcgd2l0aCBhIGNvbXBhcmF0b3IsIHRoZXNlIGNvc3RzIG91dHdlaWdoIHRoZSBiZW5lZml0cyBvZlxuLy8gc29ydGluZyBpbiBDKysuIEJ5IHVzaW5nIG91ciBvd24gSlMtaW1wbGVtZW50ZWQgUXVpY2sgU29ydCAoYmVsb3cpLCB3ZSBnZXRcbi8vIGEgfjM1MDBtcyBtZWFuIHNwZWVkLXVwIGluIGBiZW5jaC9iZW5jaC5odG1sYC5cblxuLyoqXG4gKiBTd2FwIHRoZSBlbGVtZW50cyBpbmRleGVkIGJ5IGB4YCBhbmQgYHlgIGluIHRoZSBhcnJheSBgYXJ5YC5cbiAqXG4gKiBAcGFyYW0ge0FycmF5fSBhcnlcbiAqICAgICAgICBUaGUgYXJyYXkuXG4gKiBAcGFyYW0ge051bWJlcn0geFxuICogICAgICAgIFRoZSBpbmRleCBvZiB0aGUgZmlyc3QgaXRlbS5cbiAqIEBwYXJhbSB7TnVtYmVyfSB5XG4gKiAgICAgICAgVGhlIGluZGV4IG9mIHRoZSBzZWNvbmQgaXRlbS5cbiAqL1xuZnVuY3Rpb24gc3dhcChhcnksIHgsIHkpIHtcbiAgdmFyIHRlbXAgPSBhcnlbeF07XG4gIGFyeVt4XSA9IGFyeVt5XTtcbiAgYXJ5W3ldID0gdGVtcDtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgcmFuZG9tIGludGVnZXIgd2l0aGluIHRoZSByYW5nZSBgbG93IC4uIGhpZ2hgIGluY2x1c2l2ZS5cbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gbG93XG4gKiAgICAgICAgVGhlIGxvd2VyIGJvdW5kIG9uIHRoZSByYW5nZS5cbiAqIEBwYXJhbSB7TnVtYmVyfSBoaWdoXG4gKiAgICAgICAgVGhlIHVwcGVyIGJvdW5kIG9uIHRoZSByYW5nZS5cbiAqL1xuZnVuY3Rpb24gcmFuZG9tSW50SW5SYW5nZShsb3csIGhpZ2gpIHtcbiAgcmV0dXJuIE1hdGgucm91bmQobG93ICsgKE1hdGgucmFuZG9tKCkgKiAoaGlnaCAtIGxvdykpKTtcbn1cblxuLyoqXG4gKiBUaGUgUXVpY2sgU29ydCBhbGdvcml0aG0uXG4gKlxuICogQHBhcmFtIHtBcnJheX0gYXJ5XG4gKiAgICAgICAgQW4gYXJyYXkgdG8gc29ydC5cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGNvbXBhcmF0b3JcbiAqICAgICAgICBGdW5jdGlvbiB0byB1c2UgdG8gY29tcGFyZSB0d28gaXRlbXMuXG4gKiBAcGFyYW0ge051bWJlcn0gcFxuICogICAgICAgIFN0YXJ0IGluZGV4IG9mIHRoZSBhcnJheVxuICogQHBhcmFtIHtOdW1iZXJ9IHJcbiAqICAgICAgICBFbmQgaW5kZXggb2YgdGhlIGFycmF5XG4gKi9cbmZ1bmN0aW9uIGRvUXVpY2tTb3J0KGFyeSwgY29tcGFyYXRvciwgcCwgcikge1xuICAvLyBJZiBvdXIgbG93ZXIgYm91bmQgaXMgbGVzcyB0aGFuIG91ciB1cHBlciBib3VuZCwgd2UgKDEpIHBhcnRpdGlvbiB0aGVcbiAgLy8gYXJyYXkgaW50byB0d28gcGllY2VzIGFuZCAoMikgcmVjdXJzZSBvbiBlYWNoIGhhbGYuIElmIGl0IGlzIG5vdCwgdGhpcyBpc1xuICAvLyB0aGUgZW1wdHkgYXJyYXkgYW5kIG91ciBiYXNlIGNhc2UuXG5cbiAgaWYgKHAgPCByKSB7XG4gICAgLy8gKDEpIFBhcnRpdGlvbmluZy5cbiAgICAvL1xuICAgIC8vIFRoZSBwYXJ0aXRpb25pbmcgY2hvb3NlcyBhIHBpdm90IGJldHdlZW4gYHBgIGFuZCBgcmAgYW5kIG1vdmVzIGFsbFxuICAgIC8vIGVsZW1lbnRzIHRoYXQgYXJlIGxlc3MgdGhhbiBvciBlcXVhbCB0byB0aGUgcGl2b3QgdG8gdGhlIGJlZm9yZSBpdCwgYW5kXG4gICAgLy8gYWxsIHRoZSBlbGVtZW50cyB0aGF0IGFyZSBncmVhdGVyIHRoYW4gaXQgYWZ0ZXIgaXQuIFRoZSBlZmZlY3QgaXMgdGhhdFxuICAgIC8vIG9uY2UgcGFydGl0aW9uIGlzIGRvbmUsIHRoZSBwaXZvdCBpcyBpbiB0aGUgZXhhY3QgcGxhY2UgaXQgd2lsbCBiZSB3aGVuXG4gICAgLy8gdGhlIGFycmF5IGlzIHB1dCBpbiBzb3J0ZWQgb3JkZXIsIGFuZCBpdCB3aWxsIG5vdCBuZWVkIHRvIGJlIG1vdmVkXG4gICAgLy8gYWdhaW4uIFRoaXMgcnVucyBpbiBPKG4pIHRpbWUuXG5cbiAgICAvLyBBbHdheXMgY2hvb3NlIGEgcmFuZG9tIHBpdm90IHNvIHRoYXQgYW4gaW5wdXQgYXJyYXkgd2hpY2ggaXMgcmV2ZXJzZVxuICAgIC8vIHNvcnRlZCBkb2VzIG5vdCBjYXVzZSBPKG5eMikgcnVubmluZyB0aW1lLlxuICAgIHZhciBwaXZvdEluZGV4ID0gcmFuZG9tSW50SW5SYW5nZShwLCByKTtcbiAgICB2YXIgaSA9IHAgLSAxO1xuXG4gICAgc3dhcChhcnksIHBpdm90SW5kZXgsIHIpO1xuICAgIHZhciBwaXZvdCA9IGFyeVtyXTtcblxuICAgIC8vIEltbWVkaWF0ZWx5IGFmdGVyIGBqYCBpcyBpbmNyZW1lbnRlZCBpbiB0aGlzIGxvb3AsIHRoZSBmb2xsb3dpbmcgaG9sZFxuICAgIC8vIHRydWU6XG4gICAgLy9cbiAgICAvLyAgICogRXZlcnkgZWxlbWVudCBpbiBgYXJ5W3AgLi4gaV1gIGlzIGxlc3MgdGhhbiBvciBlcXVhbCB0byB0aGUgcGl2b3QuXG4gICAgLy9cbiAgICAvLyAgICogRXZlcnkgZWxlbWVudCBpbiBgYXJ5W2krMSAuLiBqLTFdYCBpcyBncmVhdGVyIHRoYW4gdGhlIHBpdm90LlxuICAgIGZvciAodmFyIGogPSBwOyBqIDwgcjsgaisrKSB7XG4gICAgICBpZiAoY29tcGFyYXRvcihhcnlbal0sIHBpdm90KSA8PSAwKSB7XG4gICAgICAgIGkgKz0gMTtcbiAgICAgICAgc3dhcChhcnksIGksIGopO1xuICAgICAgfVxuICAgIH1cblxuICAgIHN3YXAoYXJ5LCBpICsgMSwgaik7XG4gICAgdmFyIHEgPSBpICsgMTtcblxuICAgIC8vICgyKSBSZWN1cnNlIG9uIGVhY2ggaGFsZi5cblxuICAgIGRvUXVpY2tTb3J0KGFyeSwgY29tcGFyYXRvciwgcCwgcSAtIDEpO1xuICAgIGRvUXVpY2tTb3J0KGFyeSwgY29tcGFyYXRvciwgcSArIDEsIHIpO1xuICB9XG59XG5cbi8qKlxuICogU29ydCB0aGUgZ2l2ZW4gYXJyYXkgaW4tcGxhY2Ugd2l0aCB0aGUgZ2l2ZW4gY29tcGFyYXRvciBmdW5jdGlvbi5cbiAqXG4gKiBAcGFyYW0ge0FycmF5fSBhcnlcbiAqICAgICAgICBBbiBhcnJheSB0byBzb3J0LlxuICogQHBhcmFtIHtmdW5jdGlvbn0gY29tcGFyYXRvclxuICogICAgICAgIEZ1bmN0aW9uIHRvIHVzZSB0byBjb21wYXJlIHR3byBpdGVtcy5cbiAqL1xuZXhwb3J0cy5xdWlja1NvcnQgPSBmdW5jdGlvbiAoYXJ5LCBjb21wYXJhdG9yKSB7XG4gIGRvUXVpY2tTb3J0KGFyeSwgY29tcGFyYXRvciwgMCwgYXJ5Lmxlbmd0aCAtIDEpO1xufTtcbiIsICIvKiAtKi0gTW9kZToganM7IGpzLWluZGVudC1sZXZlbDogMjsgLSotICovXG4vKlxuICogQ29weXJpZ2h0IDIwMTEgTW96aWxsYSBGb3VuZGF0aW9uIGFuZCBjb250cmlidXRvcnNcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBOZXcgQlNEIGxpY2Vuc2UuIFNlZSBMSUNFTlNFIG9yOlxuICogaHR0cDovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL0JTRC0zLUNsYXVzZVxuICovXG5cbnZhciB1dGlsID0gcmVxdWlyZSgnLi91dGlsJyk7XG52YXIgYmluYXJ5U2VhcmNoID0gcmVxdWlyZSgnLi9iaW5hcnktc2VhcmNoJyk7XG52YXIgQXJyYXlTZXQgPSByZXF1aXJlKCcuL2FycmF5LXNldCcpLkFycmF5U2V0O1xudmFyIGJhc2U2NFZMUSA9IHJlcXVpcmUoJy4vYmFzZTY0LXZscScpO1xudmFyIHF1aWNrU29ydCA9IHJlcXVpcmUoJy4vcXVpY2stc29ydCcpLnF1aWNrU29ydDtcblxuZnVuY3Rpb24gU291cmNlTWFwQ29uc3VtZXIoYVNvdXJjZU1hcCwgYVNvdXJjZU1hcFVSTCkge1xuICB2YXIgc291cmNlTWFwID0gYVNvdXJjZU1hcDtcbiAgaWYgKHR5cGVvZiBhU291cmNlTWFwID09PSAnc3RyaW5nJykge1xuICAgIHNvdXJjZU1hcCA9IHV0aWwucGFyc2VTb3VyY2VNYXBJbnB1dChhU291cmNlTWFwKTtcbiAgfVxuXG4gIHJldHVybiBzb3VyY2VNYXAuc2VjdGlvbnMgIT0gbnVsbFxuICAgID8gbmV3IEluZGV4ZWRTb3VyY2VNYXBDb25zdW1lcihzb3VyY2VNYXAsIGFTb3VyY2VNYXBVUkwpXG4gICAgOiBuZXcgQmFzaWNTb3VyY2VNYXBDb25zdW1lcihzb3VyY2VNYXAsIGFTb3VyY2VNYXBVUkwpO1xufVxuXG5Tb3VyY2VNYXBDb25zdW1lci5mcm9tU291cmNlTWFwID0gZnVuY3Rpb24oYVNvdXJjZU1hcCwgYVNvdXJjZU1hcFVSTCkge1xuICByZXR1cm4gQmFzaWNTb3VyY2VNYXBDb25zdW1lci5mcm9tU291cmNlTWFwKGFTb3VyY2VNYXAsIGFTb3VyY2VNYXBVUkwpO1xufVxuXG4vKipcbiAqIFRoZSB2ZXJzaW9uIG9mIHRoZSBzb3VyY2UgbWFwcGluZyBzcGVjIHRoYXQgd2UgYXJlIGNvbnN1bWluZy5cbiAqL1xuU291cmNlTWFwQ29uc3VtZXIucHJvdG90eXBlLl92ZXJzaW9uID0gMztcblxuLy8gYF9fZ2VuZXJhdGVkTWFwcGluZ3NgIGFuZCBgX19vcmlnaW5hbE1hcHBpbmdzYCBhcmUgYXJyYXlzIHRoYXQgaG9sZCB0aGVcbi8vIHBhcnNlZCBtYXBwaW5nIGNvb3JkaW5hdGVzIGZyb20gdGhlIHNvdXJjZSBtYXAncyBcIm1hcHBpbmdzXCIgYXR0cmlidXRlLiBUaGV5XG4vLyBhcmUgbGF6aWx5IGluc3RhbnRpYXRlZCwgYWNjZXNzZWQgdmlhIHRoZSBgX2dlbmVyYXRlZE1hcHBpbmdzYCBhbmRcbi8vIGBfb3JpZ2luYWxNYXBwaW5nc2AgZ2V0dGVycyByZXNwZWN0aXZlbHksIGFuZCB3ZSBvbmx5IHBhcnNlIHRoZSBtYXBwaW5nc1xuLy8gYW5kIGNyZWF0ZSB0aGVzZSBhcnJheXMgb25jZSBxdWVyaWVkIGZvciBhIHNvdXJjZSBsb2NhdGlvbi4gV2UganVtcCB0aHJvdWdoXG4vLyB0aGVzZSBob29wcyBiZWNhdXNlIHRoZXJlIGNhbiBiZSBtYW55IHRob3VzYW5kcyBvZiBtYXBwaW5ncywgYW5kIHBhcnNpbmdcbi8vIHRoZW0gaXMgZXhwZW5zaXZlLCBzbyB3ZSBvbmx5IHdhbnQgdG8gZG8gaXQgaWYgd2UgbXVzdC5cbi8vXG4vLyBFYWNoIG9iamVjdCBpbiB0aGUgYXJyYXlzIGlzIG9mIHRoZSBmb3JtOlxuLy9cbi8vICAgICB7XG4vLyAgICAgICBnZW5lcmF0ZWRMaW5lOiBUaGUgbGluZSBudW1iZXIgaW4gdGhlIGdlbmVyYXRlZCBjb2RlLFxuLy8gICAgICAgZ2VuZXJhdGVkQ29sdW1uOiBUaGUgY29sdW1uIG51bWJlciBpbiB0aGUgZ2VuZXJhdGVkIGNvZGUsXG4vLyAgICAgICBzb3VyY2U6IFRoZSBwYXRoIHRvIHRoZSBvcmlnaW5hbCBzb3VyY2UgZmlsZSB0aGF0IGdlbmVyYXRlZCB0aGlzXG4vLyAgICAgICAgICAgICAgIGNodW5rIG9mIGNvZGUsXG4vLyAgICAgICBvcmlnaW5hbExpbmU6IFRoZSBsaW5lIG51bWJlciBpbiB0aGUgb3JpZ2luYWwgc291cmNlIHRoYXRcbi8vICAgICAgICAgICAgICAgICAgICAgY29ycmVzcG9uZHMgdG8gdGhpcyBjaHVuayBvZiBnZW5lcmF0ZWQgY29kZSxcbi8vICAgICAgIG9yaWdpbmFsQ29sdW1uOiBUaGUgY29sdW1uIG51bWJlciBpbiB0aGUgb3JpZ2luYWwgc291cmNlIHRoYXRcbi8vICAgICAgICAgICAgICAgICAgICAgICBjb3JyZXNwb25kcyB0byB0aGlzIGNodW5rIG9mIGdlbmVyYXRlZCBjb2RlLFxuLy8gICAgICAgbmFtZTogVGhlIG5hbWUgb2YgdGhlIG9yaWdpbmFsIHN5bWJvbCB3aGljaCBnZW5lcmF0ZWQgdGhpcyBjaHVuayBvZlxuLy8gICAgICAgICAgICAgY29kZS5cbi8vICAgICB9XG4vL1xuLy8gQWxsIHByb3BlcnRpZXMgZXhjZXB0IGZvciBgZ2VuZXJhdGVkTGluZWAgYW5kIGBnZW5lcmF0ZWRDb2x1bW5gIGNhbiBiZVxuLy8gYG51bGxgLlxuLy9cbi8vIGBfZ2VuZXJhdGVkTWFwcGluZ3NgIGlzIG9yZGVyZWQgYnkgdGhlIGdlbmVyYXRlZCBwb3NpdGlvbnMuXG4vL1xuLy8gYF9vcmlnaW5hbE1hcHBpbmdzYCBpcyBvcmRlcmVkIGJ5IHRoZSBvcmlnaW5hbCBwb3NpdGlvbnMuXG5cblNvdXJjZU1hcENvbnN1bWVyLnByb3RvdHlwZS5fX2dlbmVyYXRlZE1hcHBpbmdzID0gbnVsbDtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShTb3VyY2VNYXBDb25zdW1lci5wcm90b3R5cGUsICdfZ2VuZXJhdGVkTWFwcGluZ3MnLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCF0aGlzLl9fZ2VuZXJhdGVkTWFwcGluZ3MpIHtcbiAgICAgIHRoaXMuX3BhcnNlTWFwcGluZ3ModGhpcy5fbWFwcGluZ3MsIHRoaXMuc291cmNlUm9vdCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuX19nZW5lcmF0ZWRNYXBwaW5ncztcbiAgfVxufSk7XG5cblNvdXJjZU1hcENvbnN1bWVyLnByb3RvdHlwZS5fX29yaWdpbmFsTWFwcGluZ3MgPSBudWxsO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KFNvdXJjZU1hcENvbnN1bWVyLnByb3RvdHlwZSwgJ19vcmlnaW5hbE1hcHBpbmdzJywge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gKCkge1xuICAgIGlmICghdGhpcy5fX29yaWdpbmFsTWFwcGluZ3MpIHtcbiAgICAgIHRoaXMuX3BhcnNlTWFwcGluZ3ModGhpcy5fbWFwcGluZ3MsIHRoaXMuc291cmNlUm9vdCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuX19vcmlnaW5hbE1hcHBpbmdzO1xuICB9XG59KTtcblxuU291cmNlTWFwQ29uc3VtZXIucHJvdG90eXBlLl9jaGFySXNNYXBwaW5nU2VwYXJhdG9yID1cbiAgZnVuY3Rpb24gU291cmNlTWFwQ29uc3VtZXJfY2hhcklzTWFwcGluZ1NlcGFyYXRvcihhU3RyLCBpbmRleCkge1xuICAgIHZhciBjID0gYVN0ci5jaGFyQXQoaW5kZXgpO1xuICAgIHJldHVybiBjID09PSBcIjtcIiB8fCBjID09PSBcIixcIjtcbiAgfTtcblxuLyoqXG4gKiBQYXJzZSB0aGUgbWFwcGluZ3MgaW4gYSBzdHJpbmcgaW4gdG8gYSBkYXRhIHN0cnVjdHVyZSB3aGljaCB3ZSBjYW4gZWFzaWx5XG4gKiBxdWVyeSAodGhlIG9yZGVyZWQgYXJyYXlzIGluIHRoZSBgdGhpcy5fX2dlbmVyYXRlZE1hcHBpbmdzYCBhbmRcbiAqIGB0aGlzLl9fb3JpZ2luYWxNYXBwaW5nc2AgcHJvcGVydGllcykuXG4gKi9cblNvdXJjZU1hcENvbnN1bWVyLnByb3RvdHlwZS5fcGFyc2VNYXBwaW5ncyA9XG4gIGZ1bmN0aW9uIFNvdXJjZU1hcENvbnN1bWVyX3BhcnNlTWFwcGluZ3MoYVN0ciwgYVNvdXJjZVJvb3QpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJTdWJjbGFzc2VzIG11c3QgaW1wbGVtZW50IF9wYXJzZU1hcHBpbmdzXCIpO1xuICB9O1xuXG5Tb3VyY2VNYXBDb25zdW1lci5HRU5FUkFURURfT1JERVIgPSAxO1xuU291cmNlTWFwQ29uc3VtZXIuT1JJR0lOQUxfT1JERVIgPSAyO1xuXG5Tb3VyY2VNYXBDb25zdW1lci5HUkVBVEVTVF9MT1dFUl9CT1VORCA9IDE7XG5Tb3VyY2VNYXBDb25zdW1lci5MRUFTVF9VUFBFUl9CT1VORCA9IDI7XG5cbi8qKlxuICogSXRlcmF0ZSBvdmVyIGVhY2ggbWFwcGluZyBiZXR3ZWVuIGFuIG9yaWdpbmFsIHNvdXJjZS9saW5lL2NvbHVtbiBhbmQgYVxuICogZ2VuZXJhdGVkIGxpbmUvY29sdW1uIGluIHRoaXMgc291cmNlIG1hcC5cbiAqXG4gKiBAcGFyYW0gRnVuY3Rpb24gYUNhbGxiYWNrXG4gKiAgICAgICAgVGhlIGZ1bmN0aW9uIHRoYXQgaXMgY2FsbGVkIHdpdGggZWFjaCBtYXBwaW5nLlxuICogQHBhcmFtIE9iamVjdCBhQ29udGV4dFxuICogICAgICAgIE9wdGlvbmFsLiBJZiBzcGVjaWZpZWQsIHRoaXMgb2JqZWN0IHdpbGwgYmUgdGhlIHZhbHVlIG9mIGB0aGlzYCBldmVyeVxuICogICAgICAgIHRpbWUgdGhhdCBgYUNhbGxiYWNrYCBpcyBjYWxsZWQuXG4gKiBAcGFyYW0gYU9yZGVyXG4gKiAgICAgICAgRWl0aGVyIGBTb3VyY2VNYXBDb25zdW1lci5HRU5FUkFURURfT1JERVJgIG9yXG4gKiAgICAgICAgYFNvdXJjZU1hcENvbnN1bWVyLk9SSUdJTkFMX09SREVSYC4gU3BlY2lmaWVzIHdoZXRoZXIgeW91IHdhbnQgdG9cbiAqICAgICAgICBpdGVyYXRlIG92ZXIgdGhlIG1hcHBpbmdzIHNvcnRlZCBieSB0aGUgZ2VuZXJhdGVkIGZpbGUncyBsaW5lL2NvbHVtblxuICogICAgICAgIG9yZGVyIG9yIHRoZSBvcmlnaW5hbCdzIHNvdXJjZS9saW5lL2NvbHVtbiBvcmRlciwgcmVzcGVjdGl2ZWx5LiBEZWZhdWx0cyB0b1xuICogICAgICAgIGBTb3VyY2VNYXBDb25zdW1lci5HRU5FUkFURURfT1JERVJgLlxuICovXG5Tb3VyY2VNYXBDb25zdW1lci5wcm90b3R5cGUuZWFjaE1hcHBpbmcgPVxuICBmdW5jdGlvbiBTb3VyY2VNYXBDb25zdW1lcl9lYWNoTWFwcGluZyhhQ2FsbGJhY2ssIGFDb250ZXh0LCBhT3JkZXIpIHtcbiAgICB2YXIgY29udGV4dCA9IGFDb250ZXh0IHx8IG51bGw7XG4gICAgdmFyIG9yZGVyID0gYU9yZGVyIHx8IFNvdXJjZU1hcENvbnN1bWVyLkdFTkVSQVRFRF9PUkRFUjtcblxuICAgIHZhciBtYXBwaW5ncztcbiAgICBzd2l0Y2ggKG9yZGVyKSB7XG4gICAgY2FzZSBTb3VyY2VNYXBDb25zdW1lci5HRU5FUkFURURfT1JERVI6XG4gICAgICBtYXBwaW5ncyA9IHRoaXMuX2dlbmVyYXRlZE1hcHBpbmdzO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBTb3VyY2VNYXBDb25zdW1lci5PUklHSU5BTF9PUkRFUjpcbiAgICAgIG1hcHBpbmdzID0gdGhpcy5fb3JpZ2luYWxNYXBwaW5ncztcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIG9yZGVyIG9mIGl0ZXJhdGlvbi5cIik7XG4gICAgfVxuXG4gICAgdmFyIHNvdXJjZVJvb3QgPSB0aGlzLnNvdXJjZVJvb3Q7XG4gICAgbWFwcGluZ3MubWFwKGZ1bmN0aW9uIChtYXBwaW5nKSB7XG4gICAgICB2YXIgc291cmNlID0gbWFwcGluZy5zb3VyY2UgPT09IG51bGwgPyBudWxsIDogdGhpcy5fc291cmNlcy5hdChtYXBwaW5nLnNvdXJjZSk7XG4gICAgICBzb3VyY2UgPSB1dGlsLmNvbXB1dGVTb3VyY2VVUkwoc291cmNlUm9vdCwgc291cmNlLCB0aGlzLl9zb3VyY2VNYXBVUkwpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc291cmNlOiBzb3VyY2UsXG4gICAgICAgIGdlbmVyYXRlZExpbmU6IG1hcHBpbmcuZ2VuZXJhdGVkTGluZSxcbiAgICAgICAgZ2VuZXJhdGVkQ29sdW1uOiBtYXBwaW5nLmdlbmVyYXRlZENvbHVtbixcbiAgICAgICAgb3JpZ2luYWxMaW5lOiBtYXBwaW5nLm9yaWdpbmFsTGluZSxcbiAgICAgICAgb3JpZ2luYWxDb2x1bW46IG1hcHBpbmcub3JpZ2luYWxDb2x1bW4sXG4gICAgICAgIG5hbWU6IG1hcHBpbmcubmFtZSA9PT0gbnVsbCA/IG51bGwgOiB0aGlzLl9uYW1lcy5hdChtYXBwaW5nLm5hbWUpXG4gICAgICB9O1xuICAgIH0sIHRoaXMpLmZvckVhY2goYUNhbGxiYWNrLCBjb250ZXh0KTtcbiAgfTtcblxuLyoqXG4gKiBSZXR1cm5zIGFsbCBnZW5lcmF0ZWQgbGluZSBhbmQgY29sdW1uIGluZm9ybWF0aW9uIGZvciB0aGUgb3JpZ2luYWwgc291cmNlLFxuICogbGluZSwgYW5kIGNvbHVtbiBwcm92aWRlZC4gSWYgbm8gY29sdW1uIGlzIHByb3ZpZGVkLCByZXR1cm5zIGFsbCBtYXBwaW5nc1xuICogY29ycmVzcG9uZGluZyB0byBhIGVpdGhlciB0aGUgbGluZSB3ZSBhcmUgc2VhcmNoaW5nIGZvciBvciB0aGUgbmV4dFxuICogY2xvc2VzdCBsaW5lIHRoYXQgaGFzIGFueSBtYXBwaW5ncy4gT3RoZXJ3aXNlLCByZXR1cm5zIGFsbCBtYXBwaW5nc1xuICogY29ycmVzcG9uZGluZyB0byB0aGUgZ2l2ZW4gbGluZSBhbmQgZWl0aGVyIHRoZSBjb2x1bW4gd2UgYXJlIHNlYXJjaGluZyBmb3JcbiAqIG9yIHRoZSBuZXh0IGNsb3Nlc3QgY29sdW1uIHRoYXQgaGFzIGFueSBvZmZzZXRzLlxuICpcbiAqIFRoZSBvbmx5IGFyZ3VtZW50IGlzIGFuIG9iamVjdCB3aXRoIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcbiAqXG4gKiAgIC0gc291cmNlOiBUaGUgZmlsZW5hbWUgb2YgdGhlIG9yaWdpbmFsIHNvdXJjZS5cbiAqICAgLSBsaW5lOiBUaGUgbGluZSBudW1iZXIgaW4gdGhlIG9yaWdpbmFsIHNvdXJjZS4gIFRoZSBsaW5lIG51bWJlciBpcyAxLWJhc2VkLlxuICogICAtIGNvbHVtbjogT3B0aW9uYWwuIHRoZSBjb2x1bW4gbnVtYmVyIGluIHRoZSBvcmlnaW5hbCBzb3VyY2UuXG4gKiAgICBUaGUgY29sdW1uIG51bWJlciBpcyAwLWJhc2VkLlxuICpcbiAqIGFuZCBhbiBhcnJheSBvZiBvYmplY3RzIGlzIHJldHVybmVkLCBlYWNoIHdpdGggdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuICpcbiAqICAgLSBsaW5lOiBUaGUgbGluZSBudW1iZXIgaW4gdGhlIGdlbmVyYXRlZCBzb3VyY2UsIG9yIG51bGwuICBUaGVcbiAqICAgIGxpbmUgbnVtYmVyIGlzIDEtYmFzZWQuXG4gKiAgIC0gY29sdW1uOiBUaGUgY29sdW1uIG51bWJlciBpbiB0aGUgZ2VuZXJhdGVkIHNvdXJjZSwgb3IgbnVsbC5cbiAqICAgIFRoZSBjb2x1bW4gbnVtYmVyIGlzIDAtYmFzZWQuXG4gKi9cblNvdXJjZU1hcENvbnN1bWVyLnByb3RvdHlwZS5hbGxHZW5lcmF0ZWRQb3NpdGlvbnNGb3IgPVxuICBmdW5jdGlvbiBTb3VyY2VNYXBDb25zdW1lcl9hbGxHZW5lcmF0ZWRQb3NpdGlvbnNGb3IoYUFyZ3MpIHtcbiAgICB2YXIgbGluZSA9IHV0aWwuZ2V0QXJnKGFBcmdzLCAnbGluZScpO1xuXG4gICAgLy8gV2hlbiB0aGVyZSBpcyBubyBleGFjdCBtYXRjaCwgQmFzaWNTb3VyY2VNYXBDb25zdW1lci5wcm90b3R5cGUuX2ZpbmRNYXBwaW5nXG4gICAgLy8gcmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIGNsb3Nlc3QgbWFwcGluZyBsZXNzIHRoYW4gdGhlIG5lZWRsZS4gQnlcbiAgICAvLyBzZXR0aW5nIG5lZWRsZS5vcmlnaW5hbENvbHVtbiB0byAwLCB3ZSB0aHVzIGZpbmQgdGhlIGxhc3QgbWFwcGluZyBmb3JcbiAgICAvLyB0aGUgZ2l2ZW4gbGluZSwgcHJvdmlkZWQgc3VjaCBhIG1hcHBpbmcgZXhpc3RzLlxuICAgIHZhciBuZWVkbGUgPSB7XG4gICAgICBzb3VyY2U6IHV0aWwuZ2V0QXJnKGFBcmdzLCAnc291cmNlJyksXG4gICAgICBvcmlnaW5hbExpbmU6IGxpbmUsXG4gICAgICBvcmlnaW5hbENvbHVtbjogdXRpbC5nZXRBcmcoYUFyZ3MsICdjb2x1bW4nLCAwKVxuICAgIH07XG5cbiAgICBuZWVkbGUuc291cmNlID0gdGhpcy5fZmluZFNvdXJjZUluZGV4KG5lZWRsZS5zb3VyY2UpO1xuICAgIGlmIChuZWVkbGUuc291cmNlIDwgMCkge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cblxuICAgIHZhciBtYXBwaW5ncyA9IFtdO1xuXG4gICAgdmFyIGluZGV4ID0gdGhpcy5fZmluZE1hcHBpbmcobmVlZGxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX29yaWdpbmFsTWFwcGluZ3MsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJvcmlnaW5hbExpbmVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIm9yaWdpbmFsQ29sdW1uXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXRpbC5jb21wYXJlQnlPcmlnaW5hbFBvc2l0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiaW5hcnlTZWFyY2guTEVBU1RfVVBQRVJfQk9VTkQpO1xuICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICB2YXIgbWFwcGluZyA9IHRoaXMuX29yaWdpbmFsTWFwcGluZ3NbaW5kZXhdO1xuXG4gICAgICBpZiAoYUFyZ3MuY29sdW1uID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdmFyIG9yaWdpbmFsTGluZSA9IG1hcHBpbmcub3JpZ2luYWxMaW5lO1xuXG4gICAgICAgIC8vIEl0ZXJhdGUgdW50aWwgZWl0aGVyIHdlIHJ1biBvdXQgb2YgbWFwcGluZ3MsIG9yIHdlIHJ1biBpbnRvXG4gICAgICAgIC8vIGEgbWFwcGluZyBmb3IgYSBkaWZmZXJlbnQgbGluZSB0aGFuIHRoZSBvbmUgd2UgZm91bmQuIFNpbmNlXG4gICAgICAgIC8vIG1hcHBpbmdzIGFyZSBzb3J0ZWQsIHRoaXMgaXMgZ3VhcmFudGVlZCB0byBmaW5kIGFsbCBtYXBwaW5ncyBmb3JcbiAgICAgICAgLy8gdGhlIGxpbmUgd2UgZm91bmQuXG4gICAgICAgIHdoaWxlIChtYXBwaW5nICYmIG1hcHBpbmcub3JpZ2luYWxMaW5lID09PSBvcmlnaW5hbExpbmUpIHtcbiAgICAgICAgICBtYXBwaW5ncy5wdXNoKHtcbiAgICAgICAgICAgIGxpbmU6IHV0aWwuZ2V0QXJnKG1hcHBpbmcsICdnZW5lcmF0ZWRMaW5lJywgbnVsbCksXG4gICAgICAgICAgICBjb2x1bW46IHV0aWwuZ2V0QXJnKG1hcHBpbmcsICdnZW5lcmF0ZWRDb2x1bW4nLCBudWxsKSxcbiAgICAgICAgICAgIGxhc3RDb2x1bW46IHV0aWwuZ2V0QXJnKG1hcHBpbmcsICdsYXN0R2VuZXJhdGVkQ29sdW1uJywgbnVsbClcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIG1hcHBpbmcgPSB0aGlzLl9vcmlnaW5hbE1hcHBpbmdzWysraW5kZXhdO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgb3JpZ2luYWxDb2x1bW4gPSBtYXBwaW5nLm9yaWdpbmFsQ29sdW1uO1xuXG4gICAgICAgIC8vIEl0ZXJhdGUgdW50aWwgZWl0aGVyIHdlIHJ1biBvdXQgb2YgbWFwcGluZ3MsIG9yIHdlIHJ1biBpbnRvXG4gICAgICAgIC8vIGEgbWFwcGluZyBmb3IgYSBkaWZmZXJlbnQgbGluZSB0aGFuIHRoZSBvbmUgd2Ugd2VyZSBzZWFyY2hpbmcgZm9yLlxuICAgICAgICAvLyBTaW5jZSBtYXBwaW5ncyBhcmUgc29ydGVkLCB0aGlzIGlzIGd1YXJhbnRlZWQgdG8gZmluZCBhbGwgbWFwcGluZ3MgZm9yXG4gICAgICAgIC8vIHRoZSBsaW5lIHdlIGFyZSBzZWFyY2hpbmcgZm9yLlxuICAgICAgICB3aGlsZSAobWFwcGluZyAmJlxuICAgICAgICAgICAgICAgbWFwcGluZy5vcmlnaW5hbExpbmUgPT09IGxpbmUgJiZcbiAgICAgICAgICAgICAgIG1hcHBpbmcub3JpZ2luYWxDb2x1bW4gPT0gb3JpZ2luYWxDb2x1bW4pIHtcbiAgICAgICAgICBtYXBwaW5ncy5wdXNoKHtcbiAgICAgICAgICAgIGxpbmU6IHV0aWwuZ2V0QXJnKG1hcHBpbmcsICdnZW5lcmF0ZWRMaW5lJywgbnVsbCksXG4gICAgICAgICAgICBjb2x1bW46IHV0aWwuZ2V0QXJnKG1hcHBpbmcsICdnZW5lcmF0ZWRDb2x1bW4nLCBudWxsKSxcbiAgICAgICAgICAgIGxhc3RDb2x1bW46IHV0aWwuZ2V0QXJnKG1hcHBpbmcsICdsYXN0R2VuZXJhdGVkQ29sdW1uJywgbnVsbClcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIG1hcHBpbmcgPSB0aGlzLl9vcmlnaW5hbE1hcHBpbmdzWysraW5kZXhdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG1hcHBpbmdzO1xuICB9O1xuXG5leHBvcnRzLlNvdXJjZU1hcENvbnN1bWVyID0gU291cmNlTWFwQ29uc3VtZXI7XG5cbi8qKlxuICogQSBCYXNpY1NvdXJjZU1hcENvbnN1bWVyIGluc3RhbmNlIHJlcHJlc2VudHMgYSBwYXJzZWQgc291cmNlIG1hcCB3aGljaCB3ZSBjYW5cbiAqIHF1ZXJ5IGZvciBpbmZvcm1hdGlvbiBhYm91dCB0aGUgb3JpZ2luYWwgZmlsZSBwb3NpdGlvbnMgYnkgZ2l2aW5nIGl0IGEgZmlsZVxuICogcG9zaXRpb24gaW4gdGhlIGdlbmVyYXRlZCBzb3VyY2UuXG4gKlxuICogVGhlIGZpcnN0IHBhcmFtZXRlciBpcyB0aGUgcmF3IHNvdXJjZSBtYXAgKGVpdGhlciBhcyBhIEpTT04gc3RyaW5nLCBvclxuICogYWxyZWFkeSBwYXJzZWQgdG8gYW4gb2JqZWN0KS4gQWNjb3JkaW5nIHRvIHRoZSBzcGVjLCBzb3VyY2UgbWFwcyBoYXZlIHRoZVxuICogZm9sbG93aW5nIGF0dHJpYnV0ZXM6XG4gKlxuICogICAtIHZlcnNpb246IFdoaWNoIHZlcnNpb24gb2YgdGhlIHNvdXJjZSBtYXAgc3BlYyB0aGlzIG1hcCBpcyBmb2xsb3dpbmcuXG4gKiAgIC0gc291cmNlczogQW4gYXJyYXkgb2YgVVJMcyB0byB0aGUgb3JpZ2luYWwgc291cmNlIGZpbGVzLlxuICogICAtIG5hbWVzOiBBbiBhcnJheSBvZiBpZGVudGlmaWVycyB3aGljaCBjYW4gYmUgcmVmZXJyZW5jZWQgYnkgaW5kaXZpZHVhbCBtYXBwaW5ncy5cbiAqICAgLSBzb3VyY2VSb290OiBPcHRpb25hbC4gVGhlIFVSTCByb290IGZyb20gd2hpY2ggYWxsIHNvdXJjZXMgYXJlIHJlbGF0aXZlLlxuICogICAtIHNvdXJjZXNDb250ZW50OiBPcHRpb25hbC4gQW4gYXJyYXkgb2YgY29udGVudHMgb2YgdGhlIG9yaWdpbmFsIHNvdXJjZSBmaWxlcy5cbiAqICAgLSBtYXBwaW5nczogQSBzdHJpbmcgb2YgYmFzZTY0IFZMUXMgd2hpY2ggY29udGFpbiB0aGUgYWN0dWFsIG1hcHBpbmdzLlxuICogICAtIGZpbGU6IE9wdGlvbmFsLiBUaGUgZ2VuZXJhdGVkIGZpbGUgdGhpcyBzb3VyY2UgbWFwIGlzIGFzc29jaWF0ZWQgd2l0aC5cbiAqXG4gKiBIZXJlIGlzIGFuIGV4YW1wbGUgc291cmNlIG1hcCwgdGFrZW4gZnJvbSB0aGUgc291cmNlIG1hcCBzcGVjWzBdOlxuICpcbiAqICAgICB7XG4gKiAgICAgICB2ZXJzaW9uIDogMyxcbiAqICAgICAgIGZpbGU6IFwib3V0LmpzXCIsXG4gKiAgICAgICBzb3VyY2VSb290IDogXCJcIixcbiAqICAgICAgIHNvdXJjZXM6IFtcImZvby5qc1wiLCBcImJhci5qc1wiXSxcbiAqICAgICAgIG5hbWVzOiBbXCJzcmNcIiwgXCJtYXBzXCIsIFwiYXJlXCIsIFwiZnVuXCJdLFxuICogICAgICAgbWFwcGluZ3M6IFwiQUEsQUI7O0FCQ0RFO1wiXG4gKiAgICAgfVxuICpcbiAqIFRoZSBzZWNvbmQgcGFyYW1ldGVyLCBpZiBnaXZlbiwgaXMgYSBzdHJpbmcgd2hvc2UgdmFsdWUgaXMgdGhlIFVSTFxuICogYXQgd2hpY2ggdGhlIHNvdXJjZSBtYXAgd2FzIGZvdW5kLiAgVGhpcyBVUkwgaXMgdXNlZCB0byBjb21wdXRlIHRoZVxuICogc291cmNlcyBhcnJheS5cbiAqXG4gKiBbMF06IGh0dHBzOi8vZG9jcy5nb29nbGUuY29tL2RvY3VtZW50L2QvMVUxUkdBZWhRd1J5cFVUb3ZGMUtSbHBpT0Z6ZTBiLV8yZ2M2ZkFIMEtZMGsvZWRpdD9wbGk9MSNcbiAqL1xuZnVuY3Rpb24gQmFzaWNTb3VyY2VNYXBDb25zdW1lcihhU291cmNlTWFwLCBhU291cmNlTWFwVVJMKSB7XG4gIHZhciBzb3VyY2VNYXAgPSBhU291cmNlTWFwO1xuICBpZiAodHlwZW9mIGFTb3VyY2VNYXAgPT09ICdzdHJpbmcnKSB7XG4gICAgc291cmNlTWFwID0gdXRpbC5wYXJzZVNvdXJjZU1hcElucHV0KGFTb3VyY2VNYXApO1xuICB9XG5cbiAgdmFyIHZlcnNpb24gPSB1dGlsLmdldEFyZyhzb3VyY2VNYXAsICd2ZXJzaW9uJyk7XG4gIHZhciBzb3VyY2VzID0gdXRpbC5nZXRBcmcoc291cmNlTWFwLCAnc291cmNlcycpO1xuICAvLyBTYXNzIDMuMyBsZWF2ZXMgb3V0IHRoZSAnbmFtZXMnIGFycmF5LCBzbyB3ZSBkZXZpYXRlIGZyb20gdGhlIHNwZWMgKHdoaWNoXG4gIC8vIHJlcXVpcmVzIHRoZSBhcnJheSkgdG8gcGxheSBuaWNlIGhlcmUuXG4gIHZhciBuYW1lcyA9IHV0aWwuZ2V0QXJnKHNvdXJjZU1hcCwgJ25hbWVzJywgW10pO1xuICB2YXIgc291cmNlUm9vdCA9IHV0aWwuZ2V0QXJnKHNvdXJjZU1hcCwgJ3NvdXJjZVJvb3QnLCBudWxsKTtcbiAgdmFyIHNvdXJjZXNDb250ZW50ID0gdXRpbC5nZXRBcmcoc291cmNlTWFwLCAnc291cmNlc0NvbnRlbnQnLCBudWxsKTtcbiAgdmFyIG1hcHBpbmdzID0gdXRpbC5nZXRBcmcoc291cmNlTWFwLCAnbWFwcGluZ3MnKTtcbiAgdmFyIGZpbGUgPSB1dGlsLmdldEFyZyhzb3VyY2VNYXAsICdmaWxlJywgbnVsbCk7XG5cbiAgLy8gT25jZSBhZ2FpbiwgU2FzcyBkZXZpYXRlcyBmcm9tIHRoZSBzcGVjIGFuZCBzdXBwbGllcyB0aGUgdmVyc2lvbiBhcyBhXG4gIC8vIHN0cmluZyByYXRoZXIgdGhhbiBhIG51bWJlciwgc28gd2UgdXNlIGxvb3NlIGVxdWFsaXR5IGNoZWNraW5nIGhlcmUuXG4gIGlmICh2ZXJzaW9uICE9IHRoaXMuX3ZlcnNpb24pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1Vuc3VwcG9ydGVkIHZlcnNpb246ICcgKyB2ZXJzaW9uKTtcbiAgfVxuXG4gIGlmIChzb3VyY2VSb290KSB7XG4gICAgc291cmNlUm9vdCA9IHV0aWwubm9ybWFsaXplKHNvdXJjZVJvb3QpO1xuICB9XG5cbiAgc291cmNlcyA9IHNvdXJjZXNcbiAgICAubWFwKFN0cmluZylcbiAgICAvLyBTb21lIHNvdXJjZSBtYXBzIHByb2R1Y2UgcmVsYXRpdmUgc291cmNlIHBhdGhzIGxpa2UgXCIuL2Zvby5qc1wiIGluc3RlYWQgb2ZcbiAgICAvLyBcImZvby5qc1wiLiAgTm9ybWFsaXplIHRoZXNlIGZpcnN0IHNvIHRoYXQgZnV0dXJlIGNvbXBhcmlzb25zIHdpbGwgc3VjY2VlZC5cbiAgICAvLyBTZWUgYnVnemlsLmxhLzEwOTA3NjguXG4gICAgLm1hcCh1dGlsLm5vcm1hbGl6ZSlcbiAgICAvLyBBbHdheXMgZW5zdXJlIHRoYXQgYWJzb2x1dGUgc291cmNlcyBhcmUgaW50ZXJuYWxseSBzdG9yZWQgcmVsYXRpdmUgdG9cbiAgICAvLyB0aGUgc291cmNlIHJvb3QsIGlmIHRoZSBzb3VyY2Ugcm9vdCBpcyBhYnNvbHV0ZS4gTm90IGRvaW5nIHRoaXMgd291bGRcbiAgICAvLyBiZSBwYXJ0aWN1bGFybHkgcHJvYmxlbWF0aWMgd2hlbiB0aGUgc291cmNlIHJvb3QgaXMgYSBwcmVmaXggb2YgdGhlXG4gICAgLy8gc291cmNlICh2YWxpZCwgYnV0IHdoeT8/KS4gU2VlIGdpdGh1YiBpc3N1ZSAjMTk5IGFuZCBidWd6aWwubGEvMTE4ODk4Mi5cbiAgICAubWFwKGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgIHJldHVybiBzb3VyY2VSb290ICYmIHV0aWwuaXNBYnNvbHV0ZShzb3VyY2VSb290KSAmJiB1dGlsLmlzQWJzb2x1dGUoc291cmNlKVxuICAgICAgICA/IHV0aWwucmVsYXRpdmUoc291cmNlUm9vdCwgc291cmNlKVxuICAgICAgICA6IHNvdXJjZTtcbiAgICB9KTtcblxuICAvLyBQYXNzIGB0cnVlYCBiZWxvdyB0byBhbGxvdyBkdXBsaWNhdGUgbmFtZXMgYW5kIHNvdXJjZXMuIFdoaWxlIHNvdXJjZSBtYXBzXG4gIC8vIGFyZSBpbnRlbmRlZCB0byBiZSBjb21wcmVzc2VkIGFuZCBkZWR1cGxpY2F0ZWQsIHRoZSBUeXBlU2NyaXB0IGNvbXBpbGVyXG4gIC8vIHNvbWV0aW1lcyBnZW5lcmF0ZXMgc291cmNlIG1hcHMgd2l0aCBkdXBsaWNhdGVzIGluIHRoZW0uIFNlZSBHaXRodWIgaXNzdWVcbiAgLy8gIzcyIGFuZCBidWd6aWwubGEvODg5NDkyLlxuICB0aGlzLl9uYW1lcyA9IEFycmF5U2V0LmZyb21BcnJheShuYW1lcy5tYXAoU3RyaW5nKSwgdHJ1ZSk7XG4gIHRoaXMuX3NvdXJjZXMgPSBBcnJheVNldC5mcm9tQXJyYXkoc291cmNlcywgdHJ1ZSk7XG5cbiAgdGhpcy5fYWJzb2x1dGVTb3VyY2VzID0gdGhpcy5fc291cmNlcy50b0FycmF5KCkubWFwKGZ1bmN0aW9uIChzKSB7XG4gICAgcmV0dXJuIHV0aWwuY29tcHV0ZVNvdXJjZVVSTChzb3VyY2VSb290LCBzLCBhU291cmNlTWFwVVJMKTtcbiAgfSk7XG5cbiAgdGhpcy5zb3VyY2VSb290ID0gc291cmNlUm9vdDtcbiAgdGhpcy5zb3VyY2VzQ29udGVudCA9IHNvdXJjZXNDb250ZW50O1xuICB0aGlzLl9tYXBwaW5ncyA9IG1hcHBpbmdzO1xuICB0aGlzLl9zb3VyY2VNYXBVUkwgPSBhU291cmNlTWFwVVJMO1xuICB0aGlzLmZpbGUgPSBmaWxlO1xufVxuXG5CYXNpY1NvdXJjZU1hcENvbnN1bWVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoU291cmNlTWFwQ29uc3VtZXIucHJvdG90eXBlKTtcbkJhc2ljU291cmNlTWFwQ29uc3VtZXIucHJvdG90eXBlLmNvbnN1bWVyID0gU291cmNlTWFwQ29uc3VtZXI7XG5cbi8qKlxuICogVXRpbGl0eSBmdW5jdGlvbiB0byBmaW5kIHRoZSBpbmRleCBvZiBhIHNvdXJjZS4gIFJldHVybnMgLTEgaWYgbm90XG4gKiBmb3VuZC5cbiAqL1xuQmFzaWNTb3VyY2VNYXBDb25zdW1lci5wcm90b3R5cGUuX2ZpbmRTb3VyY2VJbmRleCA9IGZ1bmN0aW9uKGFTb3VyY2UpIHtcbiAgdmFyIHJlbGF0aXZlU291cmNlID0gYVNvdXJjZTtcbiAgaWYgKHRoaXMuc291cmNlUm9vdCAhPSBudWxsKSB7XG4gICAgcmVsYXRpdmVTb3VyY2UgPSB1dGlsLnJlbGF0aXZlKHRoaXMuc291cmNlUm9vdCwgcmVsYXRpdmVTb3VyY2UpO1xuICB9XG5cbiAgaWYgKHRoaXMuX3NvdXJjZXMuaGFzKHJlbGF0aXZlU291cmNlKSkge1xuICAgIHJldHVybiB0aGlzLl9zb3VyY2VzLmluZGV4T2YocmVsYXRpdmVTb3VyY2UpO1xuICB9XG5cbiAgLy8gTWF5YmUgYVNvdXJjZSBpcyBhbiBhYnNvbHV0ZSBVUkwgYXMgcmV0dXJuZWQgYnkgfHNvdXJjZXN8LiAgSW5cbiAgLy8gdGhpcyBjYXNlIHdlIGNhbid0IHNpbXBseSB1bmRvIHRoZSB0cmFuc2Zvcm0uXG4gIHZhciBpO1xuICBmb3IgKGkgPSAwOyBpIDwgdGhpcy5fYWJzb2x1dGVTb3VyY2VzLmxlbmd0aDsgKytpKSB7XG4gICAgaWYgKHRoaXMuX2Fic29sdXRlU291cmNlc1tpXSA9PSBhU291cmNlKSB7XG4gICAgICByZXR1cm4gaTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gLTE7XG59O1xuXG4vKipcbiAqIENyZWF0ZSBhIEJhc2ljU291cmNlTWFwQ29uc3VtZXIgZnJvbSBhIFNvdXJjZU1hcEdlbmVyYXRvci5cbiAqXG4gKiBAcGFyYW0gU291cmNlTWFwR2VuZXJhdG9yIGFTb3VyY2VNYXBcbiAqICAgICAgICBUaGUgc291cmNlIG1hcCB0aGF0IHdpbGwgYmUgY29uc3VtZWQuXG4gKiBAcGFyYW0gU3RyaW5nIGFTb3VyY2VNYXBVUkxcbiAqICAgICAgICBUaGUgVVJMIGF0IHdoaWNoIHRoZSBzb3VyY2UgbWFwIGNhbiBiZSBmb3VuZCAob3B0aW9uYWwpXG4gKiBAcmV0dXJucyBCYXNpY1NvdXJjZU1hcENvbnN1bWVyXG4gKi9cbkJhc2ljU291cmNlTWFwQ29uc3VtZXIuZnJvbVNvdXJjZU1hcCA9XG4gIGZ1bmN0aW9uIFNvdXJjZU1hcENvbnN1bWVyX2Zyb21Tb3VyY2VNYXAoYVNvdXJjZU1hcCwgYVNvdXJjZU1hcFVSTCkge1xuICAgIHZhciBzbWMgPSBPYmplY3QuY3JlYXRlKEJhc2ljU291cmNlTWFwQ29uc3VtZXIucHJvdG90eXBlKTtcblxuICAgIHZhciBuYW1lcyA9IHNtYy5fbmFtZXMgPSBBcnJheVNldC5mcm9tQXJyYXkoYVNvdXJjZU1hcC5fbmFtZXMudG9BcnJheSgpLCB0cnVlKTtcbiAgICB2YXIgc291cmNlcyA9IHNtYy5fc291cmNlcyA9IEFycmF5U2V0LmZyb21BcnJheShhU291cmNlTWFwLl9zb3VyY2VzLnRvQXJyYXkoKSwgdHJ1ZSk7XG4gICAgc21jLnNvdXJjZVJvb3QgPSBhU291cmNlTWFwLl9zb3VyY2VSb290O1xuICAgIHNtYy5zb3VyY2VzQ29udGVudCA9IGFTb3VyY2VNYXAuX2dlbmVyYXRlU291cmNlc0NvbnRlbnQoc21jLl9zb3VyY2VzLnRvQXJyYXkoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNtYy5zb3VyY2VSb290KTtcbiAgICBzbWMuZmlsZSA9IGFTb3VyY2VNYXAuX2ZpbGU7XG4gICAgc21jLl9zb3VyY2VNYXBVUkwgPSBhU291cmNlTWFwVVJMO1xuICAgIHNtYy5fYWJzb2x1dGVTb3VyY2VzID0gc21jLl9zb3VyY2VzLnRvQXJyYXkoKS5tYXAoZnVuY3Rpb24gKHMpIHtcbiAgICAgIHJldHVybiB1dGlsLmNvbXB1dGVTb3VyY2VVUkwoc21jLnNvdXJjZVJvb3QsIHMsIGFTb3VyY2VNYXBVUkwpO1xuICAgIH0pO1xuXG4gICAgLy8gQmVjYXVzZSB3ZSBhcmUgbW9kaWZ5aW5nIHRoZSBlbnRyaWVzIChieSBjb252ZXJ0aW5nIHN0cmluZyBzb3VyY2VzIGFuZFxuICAgIC8vIG5hbWVzIHRvIGluZGljZXMgaW50byB0aGUgc291cmNlcyBhbmQgbmFtZXMgQXJyYXlTZXRzKSwgd2UgaGF2ZSB0byBtYWtlXG4gICAgLy8gYSBjb3B5IG9mIHRoZSBlbnRyeSBvciBlbHNlIGJhZCB0aGluZ3MgaGFwcGVuLiBTaGFyZWQgbXV0YWJsZSBzdGF0ZVxuICAgIC8vIHN0cmlrZXMgYWdhaW4hIFNlZSBnaXRodWIgaXNzdWUgIzE5MS5cblxuICAgIHZhciBnZW5lcmF0ZWRNYXBwaW5ncyA9IGFTb3VyY2VNYXAuX21hcHBpbmdzLnRvQXJyYXkoKS5zbGljZSgpO1xuICAgIHZhciBkZXN0R2VuZXJhdGVkTWFwcGluZ3MgPSBzbWMuX19nZW5lcmF0ZWRNYXBwaW5ncyA9IFtdO1xuICAgIHZhciBkZXN0T3JpZ2luYWxNYXBwaW5ncyA9IHNtYy5fX29yaWdpbmFsTWFwcGluZ3MgPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBnZW5lcmF0ZWRNYXBwaW5ncy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHNyY01hcHBpbmcgPSBnZW5lcmF0ZWRNYXBwaW5nc1tpXTtcbiAgICAgIHZhciBkZXN0TWFwcGluZyA9IG5ldyBNYXBwaW5nO1xuICAgICAgZGVzdE1hcHBpbmcuZ2VuZXJhdGVkTGluZSA9IHNyY01hcHBpbmcuZ2VuZXJhdGVkTGluZTtcbiAgICAgIGRlc3RNYXBwaW5nLmdlbmVyYXRlZENvbHVtbiA9IHNyY01hcHBpbmcuZ2VuZXJhdGVkQ29sdW1uO1xuXG4gICAgICBpZiAoc3JjTWFwcGluZy5zb3VyY2UpIHtcbiAgICAgICAgZGVzdE1hcHBpbmcuc291cmNlID0gc291cmNlcy5pbmRleE9mKHNyY01hcHBpbmcuc291cmNlKTtcbiAgICAgICAgZGVzdE1hcHBpbmcub3JpZ2luYWxMaW5lID0gc3JjTWFwcGluZy5vcmlnaW5hbExpbmU7XG4gICAgICAgIGRlc3RNYXBwaW5nLm9yaWdpbmFsQ29sdW1uID0gc3JjTWFwcGluZy5vcmlnaW5hbENvbHVtbjtcblxuICAgICAgICBpZiAoc3JjTWFwcGluZy5uYW1lKSB7XG4gICAgICAgICAgZGVzdE1hcHBpbmcubmFtZSA9IG5hbWVzLmluZGV4T2Yoc3JjTWFwcGluZy5uYW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRlc3RPcmlnaW5hbE1hcHBpbmdzLnB1c2goZGVzdE1hcHBpbmcpO1xuICAgICAgfVxuXG4gICAgICBkZXN0R2VuZXJhdGVkTWFwcGluZ3MucHVzaChkZXN0TWFwcGluZyk7XG4gICAgfVxuXG4gICAgcXVpY2tTb3J0KHNtYy5fX29yaWdpbmFsTWFwcGluZ3MsIHV0aWwuY29tcGFyZUJ5T3JpZ2luYWxQb3NpdGlvbnMpO1xuXG4gICAgcmV0dXJuIHNtYztcbiAgfTtcblxuLyoqXG4gKiBUaGUgdmVyc2lvbiBvZiB0aGUgc291cmNlIG1hcHBpbmcgc3BlYyB0aGF0IHdlIGFyZSBjb25zdW1pbmcuXG4gKi9cbkJhc2ljU291cmNlTWFwQ29uc3VtZXIucHJvdG90eXBlLl92ZXJzaW9uID0gMztcblxuLyoqXG4gKiBUaGUgbGlzdCBvZiBvcmlnaW5hbCBzb3VyY2VzLlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoQmFzaWNTb3VyY2VNYXBDb25zdW1lci5wcm90b3R5cGUsICdzb3VyY2VzJywge1xuICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5fYWJzb2x1dGVTb3VyY2VzLnNsaWNlKCk7XG4gIH1cbn0pO1xuXG4vKipcbiAqIFByb3ZpZGUgdGhlIEpJVCB3aXRoIGEgbmljZSBzaGFwZSAvIGhpZGRlbiBjbGFzcy5cbiAqL1xuZnVuY3Rpb24gTWFwcGluZygpIHtcbiAgdGhpcy5nZW5lcmF0ZWRMaW5lID0gMDtcbiAgdGhpcy5nZW5lcmF0ZWRDb2x1bW4gPSAwO1xuICB0aGlzLnNvdXJjZSA9IG51bGw7XG4gIHRoaXMub3JpZ2luYWxMaW5lID0gbnVsbDtcbiAgdGhpcy5vcmlnaW5hbENvbHVtbiA9IG51bGw7XG4gIHRoaXMubmFtZSA9IG51bGw7XG59XG5cbi8qKlxuICogUGFyc2UgdGhlIG1hcHBpbmdzIGluIGEgc3RyaW5nIGluIHRvIGEgZGF0YSBzdHJ1Y3R1cmUgd2hpY2ggd2UgY2FuIGVhc2lseVxuICogcXVlcnkgKHRoZSBvcmRlcmVkIGFycmF5cyBpbiB0aGUgYHRoaXMuX19nZW5lcmF0ZWRNYXBwaW5nc2AgYW5kXG4gKiBgdGhpcy5fX29yaWdpbmFsTWFwcGluZ3NgIHByb3BlcnRpZXMpLlxuICovXG5CYXNpY1NvdXJjZU1hcENvbnN1bWVyLnByb3RvdHlwZS5fcGFyc2VNYXBwaW5ncyA9XG4gIGZ1bmN0aW9uIFNvdXJjZU1hcENvbnN1bWVyX3BhcnNlTWFwcGluZ3MoYVN0ciwgYVNvdXJjZVJvb3QpIHtcbiAgICB2YXIgZ2VuZXJhdGVkTGluZSA9IDE7XG4gICAgdmFyIHByZXZpb3VzR2VuZXJhdGVkQ29sdW1uID0gMDtcbiAgICB2YXIgcHJldmlvdXNPcmlnaW5hbExpbmUgPSAwO1xuICAgIHZhciBwcmV2aW91c09yaWdpbmFsQ29sdW1uID0gMDtcbiAgICB2YXIgcHJldmlvdXNTb3VyY2UgPSAwO1xuICAgIHZhciBwcmV2aW91c05hbWUgPSAwO1xuICAgIHZhciBsZW5ndGggPSBhU3RyLmxlbmd0aDtcbiAgICB2YXIgaW5kZXggPSAwO1xuICAgIHZhciBjYWNoZWRTZWdtZW50cyA9IHt9O1xuICAgIHZhciB0ZW1wID0ge307XG4gICAgdmFyIG9yaWdpbmFsTWFwcGluZ3MgPSBbXTtcbiAgICB2YXIgZ2VuZXJhdGVkTWFwcGluZ3MgPSBbXTtcbiAgICB2YXIgbWFwcGluZywgc3RyLCBzZWdtZW50LCBlbmQsIHZhbHVlO1xuXG4gICAgd2hpbGUgKGluZGV4IDwgbGVuZ3RoKSB7XG4gICAgICBpZiAoYVN0ci5jaGFyQXQoaW5kZXgpID09PSAnOycpIHtcbiAgICAgICAgZ2VuZXJhdGVkTGluZSsrO1xuICAgICAgICBpbmRleCsrO1xuICAgICAgICBwcmV2aW91c0dlbmVyYXRlZENvbHVtbiA9IDA7XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChhU3RyLmNoYXJBdChpbmRleCkgPT09ICcsJykge1xuICAgICAgICBpbmRleCsrO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIG1hcHBpbmcgPSBuZXcgTWFwcGluZygpO1xuICAgICAgICBtYXBwaW5nLmdlbmVyYXRlZExpbmUgPSBnZW5lcmF0ZWRMaW5lO1xuXG4gICAgICAgIC8vIEJlY2F1c2UgZWFjaCBvZmZzZXQgaXMgZW5jb2RlZCByZWxhdGl2ZSB0byB0aGUgcHJldmlvdXMgb25lLFxuICAgICAgICAvLyBtYW55IHNlZ21lbnRzIG9mdGVuIGhhdmUgdGhlIHNhbWUgZW5jb2RpbmcuIFdlIGNhbiBleHBsb2l0IHRoaXNcbiAgICAgICAgLy8gZmFjdCBieSBjYWNoaW5nIHRoZSBwYXJzZWQgdmFyaWFibGUgbGVuZ3RoIGZpZWxkcyBvZiBlYWNoIHNlZ21lbnQsXG4gICAgICAgIC8vIGFsbG93aW5nIHVzIHRvIGF2b2lkIGEgc2Vjb25kIHBhcnNlIGlmIHdlIGVuY291bnRlciB0aGUgc2FtZVxuICAgICAgICAvLyBzZWdtZW50IGFnYWluLlxuICAgICAgICBmb3IgKGVuZCA9IGluZGV4OyBlbmQgPCBsZW5ndGg7IGVuZCsrKSB7XG4gICAgICAgICAgaWYgKHRoaXMuX2NoYXJJc01hcHBpbmdTZXBhcmF0b3IoYVN0ciwgZW5kKSkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHN0ciA9IGFTdHIuc2xpY2UoaW5kZXgsIGVuZCk7XG5cbiAgICAgICAgc2VnbWVudCA9IGNhY2hlZFNlZ21lbnRzW3N0cl07XG4gICAgICAgIGlmIChzZWdtZW50KSB7XG4gICAgICAgICAgaW5kZXggKz0gc3RyLmxlbmd0aDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZWdtZW50ID0gW107XG4gICAgICAgICAgd2hpbGUgKGluZGV4IDwgZW5kKSB7XG4gICAgICAgICAgICBiYXNlNjRWTFEuZGVjb2RlKGFTdHIsIGluZGV4LCB0ZW1wKTtcbiAgICAgICAgICAgIHZhbHVlID0gdGVtcC52YWx1ZTtcbiAgICAgICAgICAgIGluZGV4ID0gdGVtcC5yZXN0O1xuICAgICAgICAgICAgc2VnbWVudC5wdXNoKHZhbHVlKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoc2VnbWVudC5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRm91bmQgYSBzb3VyY2UsIGJ1dCBubyBsaW5lIGFuZCBjb2x1bW4nKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoc2VnbWVudC5sZW5ndGggPT09IDMpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRm91bmQgYSBzb3VyY2UgYW5kIGxpbmUsIGJ1dCBubyBjb2x1bW4nKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjYWNoZWRTZWdtZW50c1tzdHJdID0gc2VnbWVudDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEdlbmVyYXRlZCBjb2x1bW4uXG4gICAgICAgIG1hcHBpbmcuZ2VuZXJhdGVkQ29sdW1uID0gcHJldmlvdXNHZW5lcmF0ZWRDb2x1bW4gKyBzZWdtZW50WzBdO1xuICAgICAgICBwcmV2aW91c0dlbmVyYXRlZENvbHVtbiA9IG1hcHBpbmcuZ2VuZXJhdGVkQ29sdW1uO1xuXG4gICAgICAgIGlmIChzZWdtZW50Lmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAvLyBPcmlnaW5hbCBzb3VyY2UuXG4gICAgICAgICAgbWFwcGluZy5zb3VyY2UgPSBwcmV2aW91c1NvdXJjZSArIHNlZ21lbnRbMV07XG4gICAgICAgICAgcHJldmlvdXNTb3VyY2UgKz0gc2VnbWVudFsxXTtcblxuICAgICAgICAgIC8vIE9yaWdpbmFsIGxpbmUuXG4gICAgICAgICAgbWFwcGluZy5vcmlnaW5hbExpbmUgPSBwcmV2aW91c09yaWdpbmFsTGluZSArIHNlZ21lbnRbMl07XG4gICAgICAgICAgcHJldmlvdXNPcmlnaW5hbExpbmUgPSBtYXBwaW5nLm9yaWdpbmFsTGluZTtcbiAgICAgICAgICAvLyBMaW5lcyBhcmUgc3RvcmVkIDAtYmFzZWRcbiAgICAgICAgICBtYXBwaW5nLm9yaWdpbmFsTGluZSArPSAxO1xuXG4gICAgICAgICAgLy8gT3JpZ2luYWwgY29sdW1uLlxuICAgICAgICAgIG1hcHBpbmcub3JpZ2luYWxDb2x1bW4gPSBwcmV2aW91c09yaWdpbmFsQ29sdW1uICsgc2VnbWVudFszXTtcbiAgICAgICAgICBwcmV2aW91c09yaWdpbmFsQ29sdW1uID0gbWFwcGluZy5vcmlnaW5hbENvbHVtbjtcblxuICAgICAgICAgIGlmIChzZWdtZW50Lmxlbmd0aCA+IDQpIHtcbiAgICAgICAgICAgIC8vIE9yaWdpbmFsIG5hbWUuXG4gICAgICAgICAgICBtYXBwaW5nLm5hbWUgPSBwcmV2aW91c05hbWUgKyBzZWdtZW50WzRdO1xuICAgICAgICAgICAgcHJldmlvdXNOYW1lICs9IHNlZ21lbnRbNF07XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZ2VuZXJhdGVkTWFwcGluZ3MucHVzaChtYXBwaW5nKTtcbiAgICAgICAgaWYgKHR5cGVvZiBtYXBwaW5nLm9yaWdpbmFsTGluZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICBvcmlnaW5hbE1hcHBpbmdzLnB1c2gobWFwcGluZyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBxdWlja1NvcnQoZ2VuZXJhdGVkTWFwcGluZ3MsIHV0aWwuY29tcGFyZUJ5R2VuZXJhdGVkUG9zaXRpb25zRGVmbGF0ZWQpO1xuICAgIHRoaXMuX19nZW5lcmF0ZWRNYXBwaW5ncyA9IGdlbmVyYXRlZE1hcHBpbmdzO1xuXG4gICAgcXVpY2tTb3J0KG9yaWdpbmFsTWFwcGluZ3MsIHV0aWwuY29tcGFyZUJ5T3JpZ2luYWxQb3NpdGlvbnMpO1xuICAgIHRoaXMuX19vcmlnaW5hbE1hcHBpbmdzID0gb3JpZ2luYWxNYXBwaW5ncztcbiAgfTtcblxuLyoqXG4gKiBGaW5kIHRoZSBtYXBwaW5nIHRoYXQgYmVzdCBtYXRjaGVzIHRoZSBoeXBvdGhldGljYWwgXCJuZWVkbGVcIiBtYXBwaW5nIHRoYXRcbiAqIHdlIGFyZSBzZWFyY2hpbmcgZm9yIGluIHRoZSBnaXZlbiBcImhheXN0YWNrXCIgb2YgbWFwcGluZ3MuXG4gKi9cbkJhc2ljU291cmNlTWFwQ29uc3VtZXIucHJvdG90eXBlLl9maW5kTWFwcGluZyA9XG4gIGZ1bmN0aW9uIFNvdXJjZU1hcENvbnN1bWVyX2ZpbmRNYXBwaW5nKGFOZWVkbGUsIGFNYXBwaW5ncywgYUxpbmVOYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhQ29sdW1uTmFtZSwgYUNvbXBhcmF0b3IsIGFCaWFzKSB7XG4gICAgLy8gVG8gcmV0dXJuIHRoZSBwb3NpdGlvbiB3ZSBhcmUgc2VhcmNoaW5nIGZvciwgd2UgbXVzdCBmaXJzdCBmaW5kIHRoZVxuICAgIC8vIG1hcHBpbmcgZm9yIHRoZSBnaXZlbiBwb3NpdGlvbiBhbmQgdGhlbiByZXR1cm4gdGhlIG9wcG9zaXRlIHBvc2l0aW9uIGl0XG4gICAgLy8gcG9pbnRzIHRvLiBCZWNhdXNlIHRoZSBtYXBwaW5ncyBhcmUgc29ydGVkLCB3ZSBjYW4gdXNlIGJpbmFyeSBzZWFyY2ggdG9cbiAgICAvLyBmaW5kIHRoZSBiZXN0IG1hcHBpbmcuXG5cbiAgICBpZiAoYU5lZWRsZVthTGluZU5hbWVdIDw9IDApIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0xpbmUgbXVzdCBiZSBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gMSwgZ290ICdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKyBhTmVlZGxlW2FMaW5lTmFtZV0pO1xuICAgIH1cbiAgICBpZiAoYU5lZWRsZVthQ29sdW1uTmFtZV0gPCAwKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDb2x1bW4gbXVzdCBiZSBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gMCwgZ290ICdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKyBhTmVlZGxlW2FDb2x1bW5OYW1lXSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGJpbmFyeVNlYXJjaC5zZWFyY2goYU5lZWRsZSwgYU1hcHBpbmdzLCBhQ29tcGFyYXRvciwgYUJpYXMpO1xuICB9O1xuXG4vKipcbiAqIENvbXB1dGUgdGhlIGxhc3QgY29sdW1uIGZvciBlYWNoIGdlbmVyYXRlZCBtYXBwaW5nLiBUaGUgbGFzdCBjb2x1bW4gaXNcbiAqIGluY2x1c2l2ZS5cbiAqL1xuQmFzaWNTb3VyY2VNYXBDb25zdW1lci5wcm90b3R5cGUuY29tcHV0ZUNvbHVtblNwYW5zID1cbiAgZnVuY3Rpb24gU291cmNlTWFwQ29uc3VtZXJfY29tcHV0ZUNvbHVtblNwYW5zKCkge1xuICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCB0aGlzLl9nZW5lcmF0ZWRNYXBwaW5ncy5sZW5ndGg7ICsraW5kZXgpIHtcbiAgICAgIHZhciBtYXBwaW5nID0gdGhpcy5fZ2VuZXJhdGVkTWFwcGluZ3NbaW5kZXhdO1xuXG4gICAgICAvLyBNYXBwaW5ncyBkbyBub3QgY29udGFpbiBhIGZpZWxkIGZvciB0aGUgbGFzdCBnZW5lcmF0ZWQgY29sdW1udC4gV2VcbiAgICAgIC8vIGNhbiBjb21lIHVwIHdpdGggYW4gb3B0aW1pc3RpYyBlc3RpbWF0ZSwgaG93ZXZlciwgYnkgYXNzdW1pbmcgdGhhdFxuICAgICAgLy8gbWFwcGluZ3MgYXJlIGNvbnRpZ3VvdXMgKGkuZS4gZ2l2ZW4gdHdvIGNvbnNlY3V0aXZlIG1hcHBpbmdzLCB0aGVcbiAgICAgIC8vIGZpcnN0IG1hcHBpbmcgZW5kcyB3aGVyZSB0aGUgc2Vjb25kIG9uZSBzdGFydHMpLlxuICAgICAgaWYgKGluZGV4ICsgMSA8IHRoaXMuX2dlbmVyYXRlZE1hcHBpbmdzLmxlbmd0aCkge1xuICAgICAgICB2YXIgbmV4dE1hcHBpbmcgPSB0aGlzLl9nZW5lcmF0ZWRNYXBwaW5nc1tpbmRleCArIDFdO1xuXG4gICAgICAgIGlmIChtYXBwaW5nLmdlbmVyYXRlZExpbmUgPT09IG5leHRNYXBwaW5nLmdlbmVyYXRlZExpbmUpIHtcbiAgICAgICAgICBtYXBwaW5nLmxhc3RHZW5lcmF0ZWRDb2x1bW4gPSBuZXh0TWFwcGluZy5nZW5lcmF0ZWRDb2x1bW4gLSAxO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFRoZSBsYXN0IG1hcHBpbmcgZm9yIGVhY2ggbGluZSBzcGFucyB0aGUgZW50aXJlIGxpbmUuXG4gICAgICBtYXBwaW5nLmxhc3RHZW5lcmF0ZWRDb2x1bW4gPSBJbmZpbml0eTtcbiAgICB9XG4gIH07XG5cbi8qKlxuICogUmV0dXJucyB0aGUgb3JpZ2luYWwgc291cmNlLCBsaW5lLCBhbmQgY29sdW1uIGluZm9ybWF0aW9uIGZvciB0aGUgZ2VuZXJhdGVkXG4gKiBzb3VyY2UncyBsaW5lIGFuZCBjb2x1bW4gcG9zaXRpb25zIHByb3ZpZGVkLiBUaGUgb25seSBhcmd1bWVudCBpcyBhbiBvYmplY3RcbiAqIHdpdGggdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuICpcbiAqICAgLSBsaW5lOiBUaGUgbGluZSBudW1iZXIgaW4gdGhlIGdlbmVyYXRlZCBzb3VyY2UuICBUaGUgbGluZSBudW1iZXJcbiAqICAgICBpcyAxLWJhc2VkLlxuICogICAtIGNvbHVtbjogVGhlIGNvbHVtbiBudW1iZXIgaW4gdGhlIGdlbmVyYXRlZCBzb3VyY2UuICBUaGUgY29sdW1uXG4gKiAgICAgbnVtYmVyIGlzIDAtYmFzZWQuXG4gKiAgIC0gYmlhczogRWl0aGVyICdTb3VyY2VNYXBDb25zdW1lci5HUkVBVEVTVF9MT1dFUl9CT1VORCcgb3JcbiAqICAgICAnU291cmNlTWFwQ29uc3VtZXIuTEVBU1RfVVBQRVJfQk9VTkQnLiBTcGVjaWZpZXMgd2hldGhlciB0byByZXR1cm4gdGhlXG4gKiAgICAgY2xvc2VzdCBlbGVtZW50IHRoYXQgaXMgc21hbGxlciB0aGFuIG9yIGdyZWF0ZXIgdGhhbiB0aGUgb25lIHdlIGFyZVxuICogICAgIHNlYXJjaGluZyBmb3IsIHJlc3BlY3RpdmVseSwgaWYgdGhlIGV4YWN0IGVsZW1lbnQgY2Fubm90IGJlIGZvdW5kLlxuICogICAgIERlZmF1bHRzIHRvICdTb3VyY2VNYXBDb25zdW1lci5HUkVBVEVTVF9MT1dFUl9CT1VORCcuXG4gKlxuICogYW5kIGFuIG9iamVjdCBpcyByZXR1cm5lZCB3aXRoIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcbiAqXG4gKiAgIC0gc291cmNlOiBUaGUgb3JpZ2luYWwgc291cmNlIGZpbGUsIG9yIG51bGwuXG4gKiAgIC0gbGluZTogVGhlIGxpbmUgbnVtYmVyIGluIHRoZSBvcmlnaW5hbCBzb3VyY2UsIG9yIG51bGwuICBUaGVcbiAqICAgICBsaW5lIG51bWJlciBpcyAxLWJhc2VkLlxuICogICAtIGNvbHVtbjogVGhlIGNvbHVtbiBudW1iZXIgaW4gdGhlIG9yaWdpbmFsIHNvdXJjZSwgb3IgbnVsbC4gIFRoZVxuICogICAgIGNvbHVtbiBudW1iZXIgaXMgMC1iYXNlZC5cbiAqICAgLSBuYW1lOiBUaGUgb3JpZ2luYWwgaWRlbnRpZmllciwgb3IgbnVsbC5cbiAqL1xuQmFzaWNTb3VyY2VNYXBDb25zdW1lci5wcm90b3R5cGUub3JpZ2luYWxQb3NpdGlvbkZvciA9XG4gIGZ1bmN0aW9uIFNvdXJjZU1hcENvbnN1bWVyX29yaWdpbmFsUG9zaXRpb25Gb3IoYUFyZ3MpIHtcbiAgICB2YXIgbmVlZGxlID0ge1xuICAgICAgZ2VuZXJhdGVkTGluZTogdXRpbC5nZXRBcmcoYUFyZ3MsICdsaW5lJyksXG4gICAgICBnZW5lcmF0ZWRDb2x1bW46IHV0aWwuZ2V0QXJnKGFBcmdzLCAnY29sdW1uJylcbiAgICB9O1xuXG4gICAgdmFyIGluZGV4ID0gdGhpcy5fZmluZE1hcHBpbmcoXG4gICAgICBuZWVkbGUsXG4gICAgICB0aGlzLl9nZW5lcmF0ZWRNYXBwaW5ncyxcbiAgICAgIFwiZ2VuZXJhdGVkTGluZVwiLFxuICAgICAgXCJnZW5lcmF0ZWRDb2x1bW5cIixcbiAgICAgIHV0aWwuY29tcGFyZUJ5R2VuZXJhdGVkUG9zaXRpb25zRGVmbGF0ZWQsXG4gICAgICB1dGlsLmdldEFyZyhhQXJncywgJ2JpYXMnLCBTb3VyY2VNYXBDb25zdW1lci5HUkVBVEVTVF9MT1dFUl9CT1VORClcbiAgICApO1xuXG4gICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgIHZhciBtYXBwaW5nID0gdGhpcy5fZ2VuZXJhdGVkTWFwcGluZ3NbaW5kZXhdO1xuXG4gICAgICBpZiAobWFwcGluZy5nZW5lcmF0ZWRMaW5lID09PSBuZWVkbGUuZ2VuZXJhdGVkTGluZSkge1xuICAgICAgICB2YXIgc291cmNlID0gdXRpbC5nZXRBcmcobWFwcGluZywgJ3NvdXJjZScsIG51bGwpO1xuICAgICAgICBpZiAoc291cmNlICE9PSBudWxsKSB7XG4gICAgICAgICAgc291cmNlID0gdGhpcy5fc291cmNlcy5hdChzb3VyY2UpO1xuICAgICAgICAgIHNvdXJjZSA9IHV0aWwuY29tcHV0ZVNvdXJjZVVSTCh0aGlzLnNvdXJjZVJvb3QsIHNvdXJjZSwgdGhpcy5fc291cmNlTWFwVVJMKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbmFtZSA9IHV0aWwuZ2V0QXJnKG1hcHBpbmcsICduYW1lJywgbnVsbCk7XG4gICAgICAgIGlmIChuYW1lICE9PSBudWxsKSB7XG4gICAgICAgICAgbmFtZSA9IHRoaXMuX25hbWVzLmF0KG5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc291cmNlOiBzb3VyY2UsXG4gICAgICAgICAgbGluZTogdXRpbC5nZXRBcmcobWFwcGluZywgJ29yaWdpbmFsTGluZScsIG51bGwpLFxuICAgICAgICAgIGNvbHVtbjogdXRpbC5nZXRBcmcobWFwcGluZywgJ29yaWdpbmFsQ29sdW1uJywgbnVsbCksXG4gICAgICAgICAgbmFtZTogbmFtZVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBzb3VyY2U6IG51bGwsXG4gICAgICBsaW5lOiBudWxsLFxuICAgICAgY29sdW1uOiBudWxsLFxuICAgICAgbmFtZTogbnVsbFxuICAgIH07XG4gIH07XG5cbi8qKlxuICogUmV0dXJuIHRydWUgaWYgd2UgaGF2ZSB0aGUgc291cmNlIGNvbnRlbnQgZm9yIGV2ZXJ5IHNvdXJjZSBpbiB0aGUgc291cmNlXG4gKiBtYXAsIGZhbHNlIG90aGVyd2lzZS5cbiAqL1xuQmFzaWNTb3VyY2VNYXBDb25zdW1lci5wcm90b3R5cGUuaGFzQ29udGVudHNPZkFsbFNvdXJjZXMgPVxuICBmdW5jdGlvbiBCYXNpY1NvdXJjZU1hcENvbnN1bWVyX2hhc0NvbnRlbnRzT2ZBbGxTb3VyY2VzKCkge1xuICAgIGlmICghdGhpcy5zb3VyY2VzQ29udGVudCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zb3VyY2VzQ29udGVudC5sZW5ndGggPj0gdGhpcy5fc291cmNlcy5zaXplKCkgJiZcbiAgICAgICF0aGlzLnNvdXJjZXNDb250ZW50LnNvbWUoZnVuY3Rpb24gKHNjKSB7IHJldHVybiBzYyA9PSBudWxsOyB9KTtcbiAgfTtcblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBvcmlnaW5hbCBzb3VyY2UgY29udGVudC4gVGhlIG9ubHkgYXJndW1lbnQgaXMgdGhlIHVybCBvZiB0aGVcbiAqIG9yaWdpbmFsIHNvdXJjZSBmaWxlLiBSZXR1cm5zIG51bGwgaWYgbm8gb3JpZ2luYWwgc291cmNlIGNvbnRlbnQgaXNcbiAqIGF2YWlsYWJsZS5cbiAqL1xuQmFzaWNTb3VyY2VNYXBDb25zdW1lci5wcm90b3R5cGUuc291cmNlQ29udGVudEZvciA9XG4gIGZ1bmN0aW9uIFNvdXJjZU1hcENvbnN1bWVyX3NvdXJjZUNvbnRlbnRGb3IoYVNvdXJjZSwgbnVsbE9uTWlzc2luZykge1xuICAgIGlmICghdGhpcy5zb3VyY2VzQ29udGVudCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgdmFyIGluZGV4ID0gdGhpcy5fZmluZFNvdXJjZUluZGV4KGFTb3VyY2UpO1xuICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICByZXR1cm4gdGhpcy5zb3VyY2VzQ29udGVudFtpbmRleF07XG4gICAgfVxuXG4gICAgdmFyIHJlbGF0aXZlU291cmNlID0gYVNvdXJjZTtcbiAgICBpZiAodGhpcy5zb3VyY2VSb290ICE9IG51bGwpIHtcbiAgICAgIHJlbGF0aXZlU291cmNlID0gdXRpbC5yZWxhdGl2ZSh0aGlzLnNvdXJjZVJvb3QsIHJlbGF0aXZlU291cmNlKTtcbiAgICB9XG5cbiAgICB2YXIgdXJsO1xuICAgIGlmICh0aGlzLnNvdXJjZVJvb3QgIT0gbnVsbFxuICAgICAgICAmJiAodXJsID0gdXRpbC51cmxQYXJzZSh0aGlzLnNvdXJjZVJvb3QpKSkge1xuICAgICAgLy8gWFhYOiBmaWxlOi8vIFVSSXMgYW5kIGFic29sdXRlIHBhdGhzIGxlYWQgdG8gdW5leHBlY3RlZCBiZWhhdmlvciBmb3JcbiAgICAgIC8vIG1hbnkgdXNlcnMuIFdlIGNhbiBoZWxwIHRoZW0gb3V0IHdoZW4gdGhleSBleHBlY3QgZmlsZTovLyBVUklzIHRvXG4gICAgICAvLyBiZWhhdmUgbGlrZSBpdCB3b3VsZCBpZiB0aGV5IHdlcmUgcnVubmluZyBhIGxvY2FsIEhUVFAgc2VydmVyLiBTZWVcbiAgICAgIC8vIGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTg4NTU5Ny5cbiAgICAgIHZhciBmaWxlVXJpQWJzUGF0aCA9IHJlbGF0aXZlU291cmNlLnJlcGxhY2UoL15maWxlOlxcL1xcLy8sIFwiXCIpO1xuICAgICAgaWYgKHVybC5zY2hlbWUgPT0gXCJmaWxlXCJcbiAgICAgICAgICAmJiB0aGlzLl9zb3VyY2VzLmhhcyhmaWxlVXJpQWJzUGF0aCkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc291cmNlc0NvbnRlbnRbdGhpcy5fc291cmNlcy5pbmRleE9mKGZpbGVVcmlBYnNQYXRoKV1cbiAgICAgIH1cblxuICAgICAgaWYgKCghdXJsLnBhdGggfHwgdXJsLnBhdGggPT0gXCIvXCIpXG4gICAgICAgICAgJiYgdGhpcy5fc291cmNlcy5oYXMoXCIvXCIgKyByZWxhdGl2ZVNvdXJjZSkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc291cmNlc0NvbnRlbnRbdGhpcy5fc291cmNlcy5pbmRleE9mKFwiL1wiICsgcmVsYXRpdmVTb3VyY2UpXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBUaGlzIGZ1bmN0aW9uIGlzIHVzZWQgcmVjdXJzaXZlbHkgZnJvbVxuICAgIC8vIEluZGV4ZWRTb3VyY2VNYXBDb25zdW1lci5wcm90b3R5cGUuc291cmNlQ29udGVudEZvci4gSW4gdGhhdCBjYXNlLCB3ZVxuICAgIC8vIGRvbid0IHdhbnQgdG8gdGhyb3cgaWYgd2UgY2FuJ3QgZmluZCB0aGUgc291cmNlIC0gd2UganVzdCB3YW50IHRvXG4gICAgLy8gcmV0dXJuIG51bGwsIHNvIHdlIHByb3ZpZGUgYSBmbGFnIHRvIGV4aXQgZ3JhY2VmdWxseS5cbiAgICBpZiAobnVsbE9uTWlzc2luZykge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdcIicgKyByZWxhdGl2ZVNvdXJjZSArICdcIiBpcyBub3QgaW4gdGhlIFNvdXJjZU1hcC4nKTtcbiAgICB9XG4gIH07XG5cbi8qKlxuICogUmV0dXJucyB0aGUgZ2VuZXJhdGVkIGxpbmUgYW5kIGNvbHVtbiBpbmZvcm1hdGlvbiBmb3IgdGhlIG9yaWdpbmFsIHNvdXJjZSxcbiAqIGxpbmUsIGFuZCBjb2x1bW4gcG9zaXRpb25zIHByb3ZpZGVkLiBUaGUgb25seSBhcmd1bWVudCBpcyBhbiBvYmplY3Qgd2l0aFxuICogdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuICpcbiAqICAgLSBzb3VyY2U6IFRoZSBmaWxlbmFtZSBvZiB0aGUgb3JpZ2luYWwgc291cmNlLlxuICogICAtIGxpbmU6IFRoZSBsaW5lIG51bWJlciBpbiB0aGUgb3JpZ2luYWwgc291cmNlLiAgVGhlIGxpbmUgbnVtYmVyXG4gKiAgICAgaXMgMS1iYXNlZC5cbiAqICAgLSBjb2x1bW46IFRoZSBjb2x1bW4gbnVtYmVyIGluIHRoZSBvcmlnaW5hbCBzb3VyY2UuICBUaGUgY29sdW1uXG4gKiAgICAgbnVtYmVyIGlzIDAtYmFzZWQuXG4gKiAgIC0gYmlhczogRWl0aGVyICdTb3VyY2VNYXBDb25zdW1lci5HUkVBVEVTVF9MT1dFUl9CT1VORCcgb3JcbiAqICAgICAnU291cmNlTWFwQ29uc3VtZXIuTEVBU1RfVVBQRVJfQk9VTkQnLiBTcGVjaWZpZXMgd2hldGhlciB0byByZXR1cm4gdGhlXG4gKiAgICAgY2xvc2VzdCBlbGVtZW50IHRoYXQgaXMgc21hbGxlciB0aGFuIG9yIGdyZWF0ZXIgdGhhbiB0aGUgb25lIHdlIGFyZVxuICogICAgIHNlYXJjaGluZyBmb3IsIHJlc3BlY3RpdmVseSwgaWYgdGhlIGV4YWN0IGVsZW1lbnQgY2Fubm90IGJlIGZvdW5kLlxuICogICAgIERlZmF1bHRzIHRvICdTb3VyY2VNYXBDb25zdW1lci5HUkVBVEVTVF9MT1dFUl9CT1VORCcuXG4gKlxuICogYW5kIGFuIG9iamVjdCBpcyByZXR1cm5lZCB3aXRoIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcbiAqXG4gKiAgIC0gbGluZTogVGhlIGxpbmUgbnVtYmVyIGluIHRoZSBnZW5lcmF0ZWQgc291cmNlLCBvciBudWxsLiAgVGhlXG4gKiAgICAgbGluZSBudW1iZXIgaXMgMS1iYXNlZC5cbiAqICAgLSBjb2x1bW46IFRoZSBjb2x1bW4gbnVtYmVyIGluIHRoZSBnZW5lcmF0ZWQgc291cmNlLCBvciBudWxsLlxuICogICAgIFRoZSBjb2x1bW4gbnVtYmVyIGlzIDAtYmFzZWQuXG4gKi9cbkJhc2ljU291cmNlTWFwQ29uc3VtZXIucHJvdG90eXBlLmdlbmVyYXRlZFBvc2l0aW9uRm9yID1cbiAgZnVuY3Rpb24gU291cmNlTWFwQ29uc3VtZXJfZ2VuZXJhdGVkUG9zaXRpb25Gb3IoYUFyZ3MpIHtcbiAgICB2YXIgc291cmNlID0gdXRpbC5nZXRBcmcoYUFyZ3MsICdzb3VyY2UnKTtcbiAgICBzb3VyY2UgPSB0aGlzLl9maW5kU291cmNlSW5kZXgoc291cmNlKTtcbiAgICBpZiAoc291cmNlIDwgMCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbGluZTogbnVsbCxcbiAgICAgICAgY29sdW1uOiBudWxsLFxuICAgICAgICBsYXN0Q29sdW1uOiBudWxsXG4gICAgICB9O1xuICAgIH1cblxuICAgIHZhciBuZWVkbGUgPSB7XG4gICAgICBzb3VyY2U6IHNvdXJjZSxcbiAgICAgIG9yaWdpbmFsTGluZTogdXRpbC5nZXRBcmcoYUFyZ3MsICdsaW5lJyksXG4gICAgICBvcmlnaW5hbENvbHVtbjogdXRpbC5nZXRBcmcoYUFyZ3MsICdjb2x1bW4nKVxuICAgIH07XG5cbiAgICB2YXIgaW5kZXggPSB0aGlzLl9maW5kTWFwcGluZyhcbiAgICAgIG5lZWRsZSxcbiAgICAgIHRoaXMuX29yaWdpbmFsTWFwcGluZ3MsXG4gICAgICBcIm9yaWdpbmFsTGluZVwiLFxuICAgICAgXCJvcmlnaW5hbENvbHVtblwiLFxuICAgICAgdXRpbC5jb21wYXJlQnlPcmlnaW5hbFBvc2l0aW9ucyxcbiAgICAgIHV0aWwuZ2V0QXJnKGFBcmdzLCAnYmlhcycsIFNvdXJjZU1hcENvbnN1bWVyLkdSRUFURVNUX0xPV0VSX0JPVU5EKVxuICAgICk7XG5cbiAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgdmFyIG1hcHBpbmcgPSB0aGlzLl9vcmlnaW5hbE1hcHBpbmdzW2luZGV4XTtcblxuICAgICAgaWYgKG1hcHBpbmcuc291cmNlID09PSBuZWVkbGUuc291cmNlKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgbGluZTogdXRpbC5nZXRBcmcobWFwcGluZywgJ2dlbmVyYXRlZExpbmUnLCBudWxsKSxcbiAgICAgICAgICBjb2x1bW46IHV0aWwuZ2V0QXJnKG1hcHBpbmcsICdnZW5lcmF0ZWRDb2x1bW4nLCBudWxsKSxcbiAgICAgICAgICBsYXN0Q29sdW1uOiB1dGlsLmdldEFyZyhtYXBwaW5nLCAnbGFzdEdlbmVyYXRlZENvbHVtbicsIG51bGwpXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIGxpbmU6IG51bGwsXG4gICAgICBjb2x1bW46IG51bGwsXG4gICAgICBsYXN0Q29sdW1uOiBudWxsXG4gICAgfTtcbiAgfTtcblxuZXhwb3J0cy5CYXNpY1NvdXJjZU1hcENvbnN1bWVyID0gQmFzaWNTb3VyY2VNYXBDb25zdW1lcjtcblxuLyoqXG4gKiBBbiBJbmRleGVkU291cmNlTWFwQ29uc3VtZXIgaW5zdGFuY2UgcmVwcmVzZW50cyBhIHBhcnNlZCBzb3VyY2UgbWFwIHdoaWNoXG4gKiB3ZSBjYW4gcXVlcnkgZm9yIGluZm9ybWF0aW9uLiBJdCBkaWZmZXJzIGZyb20gQmFzaWNTb3VyY2VNYXBDb25zdW1lciBpblxuICogdGhhdCBpdCB0YWtlcyBcImluZGV4ZWRcIiBzb3VyY2UgbWFwcyAoaS5lLiBvbmVzIHdpdGggYSBcInNlY3Rpb25zXCIgZmllbGQpIGFzXG4gKiBpbnB1dC5cbiAqXG4gKiBUaGUgZmlyc3QgcGFyYW1ldGVyIGlzIGEgcmF3IHNvdXJjZSBtYXAgKGVpdGhlciBhcyBhIEpTT04gc3RyaW5nLCBvciBhbHJlYWR5XG4gKiBwYXJzZWQgdG8gYW4gb2JqZWN0KS4gQWNjb3JkaW5nIHRvIHRoZSBzcGVjIGZvciBpbmRleGVkIHNvdXJjZSBtYXBzLCB0aGV5XG4gKiBoYXZlIHRoZSBmb2xsb3dpbmcgYXR0cmlidXRlczpcbiAqXG4gKiAgIC0gdmVyc2lvbjogV2hpY2ggdmVyc2lvbiBvZiB0aGUgc291cmNlIG1hcCBzcGVjIHRoaXMgbWFwIGlzIGZvbGxvd2luZy5cbiAqICAgLSBmaWxlOiBPcHRpb25hbC4gVGhlIGdlbmVyYXRlZCBmaWxlIHRoaXMgc291cmNlIG1hcCBpcyBhc3NvY2lhdGVkIHdpdGguXG4gKiAgIC0gc2VjdGlvbnM6IEEgbGlzdCBvZiBzZWN0aW9uIGRlZmluaXRpb25zLlxuICpcbiAqIEVhY2ggdmFsdWUgdW5kZXIgdGhlIFwic2VjdGlvbnNcIiBmaWVsZCBoYXMgdHdvIGZpZWxkczpcbiAqICAgLSBvZmZzZXQ6IFRoZSBvZmZzZXQgaW50byB0aGUgb3JpZ2luYWwgc3BlY2lmaWVkIGF0IHdoaWNoIHRoaXMgc2VjdGlvblxuICogICAgICAgYmVnaW5zIHRvIGFwcGx5LCBkZWZpbmVkIGFzIGFuIG9iamVjdCB3aXRoIGEgXCJsaW5lXCIgYW5kIFwiY29sdW1uXCJcbiAqICAgICAgIGZpZWxkLlxuICogICAtIG1hcDogQSBzb3VyY2UgbWFwIGRlZmluaXRpb24uIFRoaXMgc291cmNlIG1hcCBjb3VsZCBhbHNvIGJlIGluZGV4ZWQsXG4gKiAgICAgICBidXQgZG9lc24ndCBoYXZlIHRvIGJlLlxuICpcbiAqIEluc3RlYWQgb2YgdGhlIFwibWFwXCIgZmllbGQsIGl0J3MgYWxzbyBwb3NzaWJsZSB0byBoYXZlIGEgXCJ1cmxcIiBmaWVsZFxuICogc3BlY2lmeWluZyBhIFVSTCB0byByZXRyaWV2ZSBhIHNvdXJjZSBtYXAgZnJvbSwgYnV0IHRoYXQncyBjdXJyZW50bHlcbiAqIHVuc3VwcG9ydGVkLlxuICpcbiAqIEhlcmUncyBhbiBleGFtcGxlIHNvdXJjZSBtYXAsIHRha2VuIGZyb20gdGhlIHNvdXJjZSBtYXAgc3BlY1swXSwgYnV0XG4gKiBtb2RpZmllZCB0byBvbWl0IGEgc2VjdGlvbiB3aGljaCB1c2VzIHRoZSBcInVybFwiIGZpZWxkLlxuICpcbiAqICB7XG4gKiAgICB2ZXJzaW9uIDogMyxcbiAqICAgIGZpbGU6IFwiYXBwLmpzXCIsXG4gKiAgICBzZWN0aW9uczogW3tcbiAqICAgICAgb2Zmc2V0OiB7bGluZToxMDAsIGNvbHVtbjoxMH0sXG4gKiAgICAgIG1hcDoge1xuICogICAgICAgIHZlcnNpb24gOiAzLFxuICogICAgICAgIGZpbGU6IFwic2VjdGlvbi5qc1wiLFxuICogICAgICAgIHNvdXJjZXM6IFtcImZvby5qc1wiLCBcImJhci5qc1wiXSxcbiAqICAgICAgICBuYW1lczogW1wic3JjXCIsIFwibWFwc1wiLCBcImFyZVwiLCBcImZ1blwiXSxcbiAqICAgICAgICBtYXBwaW5nczogXCJBQUFBLEU7O0FCQ0RFO1wiXG4gKiAgICAgIH1cbiAqICAgIH1dLFxuICogIH1cbiAqXG4gKiBUaGUgc2Vjb25kIHBhcmFtZXRlciwgaWYgZ2l2ZW4sIGlzIGEgc3RyaW5nIHdob3NlIHZhbHVlIGlzIHRoZSBVUkxcbiAqIGF0IHdoaWNoIHRoZSBzb3VyY2UgbWFwIHdhcyBmb3VuZC4gIFRoaXMgVVJMIGlzIHVzZWQgdG8gY29tcHV0ZSB0aGVcbiAqIHNvdXJjZXMgYXJyYXkuXG4gKlxuICogWzBdOiBodHRwczovL2RvY3MuZ29vZ2xlLmNvbS9kb2N1bWVudC9kLzFVMVJHQWVoUXdSeXBVVG92RjFLUmxwaU9GemUwYi1fMmdjNmZBSDBLWTBrL2VkaXQjaGVhZGluZz1oLjUzNWVzM3hlcHJndFxuICovXG5mdW5jdGlvbiBJbmRleGVkU291cmNlTWFwQ29uc3VtZXIoYVNvdXJjZU1hcCwgYVNvdXJjZU1hcFVSTCkge1xuICB2YXIgc291cmNlTWFwID0gYVNvdXJjZU1hcDtcbiAgaWYgKHR5cGVvZiBhU291cmNlTWFwID09PSAnc3RyaW5nJykge1xuICAgIHNvdXJjZU1hcCA9IHV0aWwucGFyc2VTb3VyY2VNYXBJbnB1dChhU291cmNlTWFwKTtcbiAgfVxuXG4gIHZhciB2ZXJzaW9uID0gdXRpbC5nZXRBcmcoc291cmNlTWFwLCAndmVyc2lvbicpO1xuICB2YXIgc2VjdGlvbnMgPSB1dGlsLmdldEFyZyhzb3VyY2VNYXAsICdzZWN0aW9ucycpO1xuXG4gIGlmICh2ZXJzaW9uICE9IHRoaXMuX3ZlcnNpb24pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1Vuc3VwcG9ydGVkIHZlcnNpb246ICcgKyB2ZXJzaW9uKTtcbiAgfVxuXG4gIHRoaXMuX3NvdXJjZXMgPSBuZXcgQXJyYXlTZXQoKTtcbiAgdGhpcy5fbmFtZXMgPSBuZXcgQXJyYXlTZXQoKTtcblxuICB2YXIgbGFzdE9mZnNldCA9IHtcbiAgICBsaW5lOiAtMSxcbiAgICBjb2x1bW46IDBcbiAgfTtcbiAgdGhpcy5fc2VjdGlvbnMgPSBzZWN0aW9ucy5tYXAoZnVuY3Rpb24gKHMpIHtcbiAgICBpZiAocy51cmwpIHtcbiAgICAgIC8vIFRoZSB1cmwgZmllbGQgd2lsbCByZXF1aXJlIHN1cHBvcnQgZm9yIGFzeW5jaHJvbmljaXR5LlxuICAgICAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9tb3ppbGxhL3NvdXJjZS1tYXAvaXNzdWVzLzE2XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1N1cHBvcnQgZm9yIHVybCBmaWVsZCBpbiBzZWN0aW9ucyBub3QgaW1wbGVtZW50ZWQuJyk7XG4gICAgfVxuICAgIHZhciBvZmZzZXQgPSB1dGlsLmdldEFyZyhzLCAnb2Zmc2V0Jyk7XG4gICAgdmFyIG9mZnNldExpbmUgPSB1dGlsLmdldEFyZyhvZmZzZXQsICdsaW5lJyk7XG4gICAgdmFyIG9mZnNldENvbHVtbiA9IHV0aWwuZ2V0QXJnKG9mZnNldCwgJ2NvbHVtbicpO1xuXG4gICAgaWYgKG9mZnNldExpbmUgPCBsYXN0T2Zmc2V0LmxpbmUgfHxcbiAgICAgICAgKG9mZnNldExpbmUgPT09IGxhc3RPZmZzZXQubGluZSAmJiBvZmZzZXRDb2x1bW4gPCBsYXN0T2Zmc2V0LmNvbHVtbikpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignU2VjdGlvbiBvZmZzZXRzIG11c3QgYmUgb3JkZXJlZCBhbmQgbm9uLW92ZXJsYXBwaW5nLicpO1xuICAgIH1cbiAgICBsYXN0T2Zmc2V0ID0gb2Zmc2V0O1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGdlbmVyYXRlZE9mZnNldDoge1xuICAgICAgICAvLyBUaGUgb2Zmc2V0IGZpZWxkcyBhcmUgMC1iYXNlZCwgYnV0IHdlIHVzZSAxLWJhc2VkIGluZGljZXMgd2hlblxuICAgICAgICAvLyBlbmNvZGluZy9kZWNvZGluZyBmcm9tIFZMUS5cbiAgICAgICAgZ2VuZXJhdGVkTGluZTogb2Zmc2V0TGluZSArIDEsXG4gICAgICAgIGdlbmVyYXRlZENvbHVtbjogb2Zmc2V0Q29sdW1uICsgMVxuICAgICAgfSxcbiAgICAgIGNvbnN1bWVyOiBuZXcgU291cmNlTWFwQ29uc3VtZXIodXRpbC5nZXRBcmcocywgJ21hcCcpLCBhU291cmNlTWFwVVJMKVxuICAgIH1cbiAgfSk7XG59XG5cbkluZGV4ZWRTb3VyY2VNYXBDb25zdW1lci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFNvdXJjZU1hcENvbnN1bWVyLnByb3RvdHlwZSk7XG5JbmRleGVkU291cmNlTWFwQ29uc3VtZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gU291cmNlTWFwQ29uc3VtZXI7XG5cbi8qKlxuICogVGhlIHZlcnNpb24gb2YgdGhlIHNvdXJjZSBtYXBwaW5nIHNwZWMgdGhhdCB3ZSBhcmUgY29uc3VtaW5nLlxuICovXG5JbmRleGVkU291cmNlTWFwQ29uc3VtZXIucHJvdG90eXBlLl92ZXJzaW9uID0gMztcblxuLyoqXG4gKiBUaGUgbGlzdCBvZiBvcmlnaW5hbCBzb3VyY2VzLlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoSW5kZXhlZFNvdXJjZU1hcENvbnN1bWVyLnByb3RvdHlwZSwgJ3NvdXJjZXMnLCB7XG4gIGdldDogZnVuY3Rpb24gKCkge1xuICAgIHZhciBzb3VyY2VzID0gW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9zZWN0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB0aGlzLl9zZWN0aW9uc1tpXS5jb25zdW1lci5zb3VyY2VzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIHNvdXJjZXMucHVzaCh0aGlzLl9zZWN0aW9uc1tpXS5jb25zdW1lci5zb3VyY2VzW2pdKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHNvdXJjZXM7XG4gIH1cbn0pO1xuXG4vKipcbiAqIFJldHVybnMgdGhlIG9yaWdpbmFsIHNvdXJjZSwgbGluZSwgYW5kIGNvbHVtbiBpbmZvcm1hdGlvbiBmb3IgdGhlIGdlbmVyYXRlZFxuICogc291cmNlJ3MgbGluZSBhbmQgY29sdW1uIHBvc2l0aW9ucyBwcm92aWRlZC4gVGhlIG9ubHkgYXJndW1lbnQgaXMgYW4gb2JqZWN0XG4gKiB3aXRoIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcbiAqXG4gKiAgIC0gbGluZTogVGhlIGxpbmUgbnVtYmVyIGluIHRoZSBnZW5lcmF0ZWQgc291cmNlLiAgVGhlIGxpbmUgbnVtYmVyXG4gKiAgICAgaXMgMS1iYXNlZC5cbiAqICAgLSBjb2x1bW46IFRoZSBjb2x1bW4gbnVtYmVyIGluIHRoZSBnZW5lcmF0ZWQgc291cmNlLiAgVGhlIGNvbHVtblxuICogICAgIG51bWJlciBpcyAwLWJhc2VkLlxuICpcbiAqIGFuZCBhbiBvYmplY3QgaXMgcmV0dXJuZWQgd2l0aCB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gKlxuICogICAtIHNvdXJjZTogVGhlIG9yaWdpbmFsIHNvdXJjZSBmaWxlLCBvciBudWxsLlxuICogICAtIGxpbmU6IFRoZSBsaW5lIG51bWJlciBpbiB0aGUgb3JpZ2luYWwgc291cmNlLCBvciBudWxsLiAgVGhlXG4gKiAgICAgbGluZSBudW1iZXIgaXMgMS1iYXNlZC5cbiAqICAgLSBjb2x1bW46IFRoZSBjb2x1bW4gbnVtYmVyIGluIHRoZSBvcmlnaW5hbCBzb3VyY2UsIG9yIG51bGwuICBUaGVcbiAqICAgICBjb2x1bW4gbnVtYmVyIGlzIDAtYmFzZWQuXG4gKiAgIC0gbmFtZTogVGhlIG9yaWdpbmFsIGlkZW50aWZpZXIsIG9yIG51bGwuXG4gKi9cbkluZGV4ZWRTb3VyY2VNYXBDb25zdW1lci5wcm90b3R5cGUub3JpZ2luYWxQb3NpdGlvbkZvciA9XG4gIGZ1bmN0aW9uIEluZGV4ZWRTb3VyY2VNYXBDb25zdW1lcl9vcmlnaW5hbFBvc2l0aW9uRm9yKGFBcmdzKSB7XG4gICAgdmFyIG5lZWRsZSA9IHtcbiAgICAgIGdlbmVyYXRlZExpbmU6IHV0aWwuZ2V0QXJnKGFBcmdzLCAnbGluZScpLFxuICAgICAgZ2VuZXJhdGVkQ29sdW1uOiB1dGlsLmdldEFyZyhhQXJncywgJ2NvbHVtbicpXG4gICAgfTtcblxuICAgIC8vIEZpbmQgdGhlIHNlY3Rpb24gY29udGFpbmluZyB0aGUgZ2VuZXJhdGVkIHBvc2l0aW9uIHdlJ3JlIHRyeWluZyB0byBtYXBcbiAgICAvLyB0byBhbiBvcmlnaW5hbCBwb3NpdGlvbi5cbiAgICB2YXIgc2VjdGlvbkluZGV4ID0gYmluYXJ5U2VhcmNoLnNlYXJjaChuZWVkbGUsIHRoaXMuX3NlY3Rpb25zLFxuICAgICAgZnVuY3Rpb24obmVlZGxlLCBzZWN0aW9uKSB7XG4gICAgICAgIHZhciBjbXAgPSBuZWVkbGUuZ2VuZXJhdGVkTGluZSAtIHNlY3Rpb24uZ2VuZXJhdGVkT2Zmc2V0LmdlbmVyYXRlZExpbmU7XG4gICAgICAgIGlmIChjbXApIHtcbiAgICAgICAgICByZXR1cm4gY21wO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIChuZWVkbGUuZ2VuZXJhdGVkQ29sdW1uIC1cbiAgICAgICAgICAgICAgICBzZWN0aW9uLmdlbmVyYXRlZE9mZnNldC5nZW5lcmF0ZWRDb2x1bW4pO1xuICAgICAgfSk7XG4gICAgdmFyIHNlY3Rpb24gPSB0aGlzLl9zZWN0aW9uc1tzZWN0aW9uSW5kZXhdO1xuXG4gICAgaWYgKCFzZWN0aW9uKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzb3VyY2U6IG51bGwsXG4gICAgICAgIGxpbmU6IG51bGwsXG4gICAgICAgIGNvbHVtbjogbnVsbCxcbiAgICAgICAgbmFtZTogbnVsbFxuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gc2VjdGlvbi5jb25zdW1lci5vcmlnaW5hbFBvc2l0aW9uRm9yKHtcbiAgICAgIGxpbmU6IG5lZWRsZS5nZW5lcmF0ZWRMaW5lIC1cbiAgICAgICAgKHNlY3Rpb24uZ2VuZXJhdGVkT2Zmc2V0LmdlbmVyYXRlZExpbmUgLSAxKSxcbiAgICAgIGNvbHVtbjogbmVlZGxlLmdlbmVyYXRlZENvbHVtbiAtXG4gICAgICAgIChzZWN0aW9uLmdlbmVyYXRlZE9mZnNldC5nZW5lcmF0ZWRMaW5lID09PSBuZWVkbGUuZ2VuZXJhdGVkTGluZVxuICAgICAgICAgPyBzZWN0aW9uLmdlbmVyYXRlZE9mZnNldC5nZW5lcmF0ZWRDb2x1bW4gLSAxXG4gICAgICAgICA6IDApLFxuICAgICAgYmlhczogYUFyZ3MuYmlhc1xuICAgIH0pO1xuICB9O1xuXG4vKipcbiAqIFJldHVybiB0cnVlIGlmIHdlIGhhdmUgdGhlIHNvdXJjZSBjb250ZW50IGZvciBldmVyeSBzb3VyY2UgaW4gdGhlIHNvdXJjZVxuICogbWFwLCBmYWxzZSBvdGhlcndpc2UuXG4gKi9cbkluZGV4ZWRTb3VyY2VNYXBDb25zdW1lci5wcm90b3R5cGUuaGFzQ29udGVudHNPZkFsbFNvdXJjZXMgPVxuICBmdW5jdGlvbiBJbmRleGVkU291cmNlTWFwQ29uc3VtZXJfaGFzQ29udGVudHNPZkFsbFNvdXJjZXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3NlY3Rpb25zLmV2ZXJ5KGZ1bmN0aW9uIChzKSB7XG4gICAgICByZXR1cm4gcy5jb25zdW1lci5oYXNDb250ZW50c09mQWxsU291cmNlcygpO1xuICAgIH0pO1xuICB9O1xuXG4vKipcbiAqIFJldHVybnMgdGhlIG9yaWdpbmFsIHNvdXJjZSBjb250ZW50LiBUaGUgb25seSBhcmd1bWVudCBpcyB0aGUgdXJsIG9mIHRoZVxuICogb3JpZ2luYWwgc291cmNlIGZpbGUuIFJldHVybnMgbnVsbCBpZiBubyBvcmlnaW5hbCBzb3VyY2UgY29udGVudCBpc1xuICogYXZhaWxhYmxlLlxuICovXG5JbmRleGVkU291cmNlTWFwQ29uc3VtZXIucHJvdG90eXBlLnNvdXJjZUNvbnRlbnRGb3IgPVxuICBmdW5jdGlvbiBJbmRleGVkU291cmNlTWFwQ29uc3VtZXJfc291cmNlQ29udGVudEZvcihhU291cmNlLCBudWxsT25NaXNzaW5nKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9zZWN0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHNlY3Rpb24gPSB0aGlzLl9zZWN0aW9uc1tpXTtcblxuICAgICAgdmFyIGNvbnRlbnQgPSBzZWN0aW9uLmNvbnN1bWVyLnNvdXJjZUNvbnRlbnRGb3IoYVNvdXJjZSwgdHJ1ZSk7XG4gICAgICBpZiAoY29udGVudCkge1xuICAgICAgICByZXR1cm4gY29udGVudDtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKG51bGxPbk1pc3NpbmcpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignXCInICsgYVNvdXJjZSArICdcIiBpcyBub3QgaW4gdGhlIFNvdXJjZU1hcC4nKTtcbiAgICB9XG4gIH07XG5cbi8qKlxuICogUmV0dXJucyB0aGUgZ2VuZXJhdGVkIGxpbmUgYW5kIGNvbHVtbiBpbmZvcm1hdGlvbiBmb3IgdGhlIG9yaWdpbmFsIHNvdXJjZSxcbiAqIGxpbmUsIGFuZCBjb2x1bW4gcG9zaXRpb25zIHByb3ZpZGVkLiBUaGUgb25seSBhcmd1bWVudCBpcyBhbiBvYmplY3Qgd2l0aFxuICogdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuICpcbiAqICAgLSBzb3VyY2U6IFRoZSBmaWxlbmFtZSBvZiB0aGUgb3JpZ2luYWwgc291cmNlLlxuICogICAtIGxpbmU6IFRoZSBsaW5lIG51bWJlciBpbiB0aGUgb3JpZ2luYWwgc291cmNlLiAgVGhlIGxpbmUgbnVtYmVyXG4gKiAgICAgaXMgMS1iYXNlZC5cbiAqICAgLSBjb2x1bW46IFRoZSBjb2x1bW4gbnVtYmVyIGluIHRoZSBvcmlnaW5hbCBzb3VyY2UuICBUaGUgY29sdW1uXG4gKiAgICAgbnVtYmVyIGlzIDAtYmFzZWQuXG4gKlxuICogYW5kIGFuIG9iamVjdCBpcyByZXR1cm5lZCB3aXRoIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcbiAqXG4gKiAgIC0gbGluZTogVGhlIGxpbmUgbnVtYmVyIGluIHRoZSBnZW5lcmF0ZWQgc291cmNlLCBvciBudWxsLiAgVGhlXG4gKiAgICAgbGluZSBudW1iZXIgaXMgMS1iYXNlZC4gXG4gKiAgIC0gY29sdW1uOiBUaGUgY29sdW1uIG51bWJlciBpbiB0aGUgZ2VuZXJhdGVkIHNvdXJjZSwgb3IgbnVsbC5cbiAqICAgICBUaGUgY29sdW1uIG51bWJlciBpcyAwLWJhc2VkLlxuICovXG5JbmRleGVkU291cmNlTWFwQ29uc3VtZXIucHJvdG90eXBlLmdlbmVyYXRlZFBvc2l0aW9uRm9yID1cbiAgZnVuY3Rpb24gSW5kZXhlZFNvdXJjZU1hcENvbnN1bWVyX2dlbmVyYXRlZFBvc2l0aW9uRm9yKGFBcmdzKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9zZWN0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHNlY3Rpb24gPSB0aGlzLl9zZWN0aW9uc1tpXTtcblxuICAgICAgLy8gT25seSBjb25zaWRlciB0aGlzIHNlY3Rpb24gaWYgdGhlIHJlcXVlc3RlZCBzb3VyY2UgaXMgaW4gdGhlIGxpc3Qgb2ZcbiAgICAgIC8vIHNvdXJjZXMgb2YgdGhlIGNvbnN1bWVyLlxuICAgICAgaWYgKHNlY3Rpb24uY29uc3VtZXIuX2ZpbmRTb3VyY2VJbmRleCh1dGlsLmdldEFyZyhhQXJncywgJ3NvdXJjZScpKSA9PT0gLTEpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICB2YXIgZ2VuZXJhdGVkUG9zaXRpb24gPSBzZWN0aW9uLmNvbnN1bWVyLmdlbmVyYXRlZFBvc2l0aW9uRm9yKGFBcmdzKTtcbiAgICAgIGlmIChnZW5lcmF0ZWRQb3NpdGlvbikge1xuICAgICAgICB2YXIgcmV0ID0ge1xuICAgICAgICAgIGxpbmU6IGdlbmVyYXRlZFBvc2l0aW9uLmxpbmUgK1xuICAgICAgICAgICAgKHNlY3Rpb24uZ2VuZXJhdGVkT2Zmc2V0LmdlbmVyYXRlZExpbmUgLSAxKSxcbiAgICAgICAgICBjb2x1bW46IGdlbmVyYXRlZFBvc2l0aW9uLmNvbHVtbiArXG4gICAgICAgICAgICAoc2VjdGlvbi5nZW5lcmF0ZWRPZmZzZXQuZ2VuZXJhdGVkTGluZSA9PT0gZ2VuZXJhdGVkUG9zaXRpb24ubGluZVxuICAgICAgICAgICAgID8gc2VjdGlvbi5nZW5lcmF0ZWRPZmZzZXQuZ2VuZXJhdGVkQ29sdW1uIC0gMVxuICAgICAgICAgICAgIDogMClcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgbGluZTogbnVsbCxcbiAgICAgIGNvbHVtbjogbnVsbFxuICAgIH07XG4gIH07XG5cbi8qKlxuICogUGFyc2UgdGhlIG1hcHBpbmdzIGluIGEgc3RyaW5nIGluIHRvIGEgZGF0YSBzdHJ1Y3R1cmUgd2hpY2ggd2UgY2FuIGVhc2lseVxuICogcXVlcnkgKHRoZSBvcmRlcmVkIGFycmF5cyBpbiB0aGUgYHRoaXMuX19nZW5lcmF0ZWRNYXBwaW5nc2AgYW5kXG4gKiBgdGhpcy5fX29yaWdpbmFsTWFwcGluZ3NgIHByb3BlcnRpZXMpLlxuICovXG5JbmRleGVkU291cmNlTWFwQ29uc3VtZXIucHJvdG90eXBlLl9wYXJzZU1hcHBpbmdzID1cbiAgZnVuY3Rpb24gSW5kZXhlZFNvdXJjZU1hcENvbnN1bWVyX3BhcnNlTWFwcGluZ3MoYVN0ciwgYVNvdXJjZVJvb3QpIHtcbiAgICB0aGlzLl9fZ2VuZXJhdGVkTWFwcGluZ3MgPSBbXTtcbiAgICB0aGlzLl9fb3JpZ2luYWxNYXBwaW5ncyA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5fc2VjdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBzZWN0aW9uID0gdGhpcy5fc2VjdGlvbnNbaV07XG4gICAgICB2YXIgc2VjdGlvbk1hcHBpbmdzID0gc2VjdGlvbi5jb25zdW1lci5fZ2VuZXJhdGVkTWFwcGluZ3M7XG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHNlY3Rpb25NYXBwaW5ncy5sZW5ndGg7IGorKykge1xuICAgICAgICB2YXIgbWFwcGluZyA9IHNlY3Rpb25NYXBwaW5nc1tqXTtcblxuICAgICAgICB2YXIgc291cmNlID0gc2VjdGlvbi5jb25zdW1lci5fc291cmNlcy5hdChtYXBwaW5nLnNvdXJjZSk7XG4gICAgICAgIHNvdXJjZSA9IHV0aWwuY29tcHV0ZVNvdXJjZVVSTChzZWN0aW9uLmNvbnN1bWVyLnNvdXJjZVJvb3QsIHNvdXJjZSwgdGhpcy5fc291cmNlTWFwVVJMKTtcbiAgICAgICAgdGhpcy5fc291cmNlcy5hZGQoc291cmNlKTtcbiAgICAgICAgc291cmNlID0gdGhpcy5fc291cmNlcy5pbmRleE9mKHNvdXJjZSk7XG5cbiAgICAgICAgdmFyIG5hbWUgPSBudWxsO1xuICAgICAgICBpZiAobWFwcGluZy5uYW1lKSB7XG4gICAgICAgICAgbmFtZSA9IHNlY3Rpb24uY29uc3VtZXIuX25hbWVzLmF0KG1hcHBpbmcubmFtZSk7XG4gICAgICAgICAgdGhpcy5fbmFtZXMuYWRkKG5hbWUpO1xuICAgICAgICAgIG5hbWUgPSB0aGlzLl9uYW1lcy5pbmRleE9mKG5hbWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVGhlIG1hcHBpbmdzIGNvbWluZyBmcm9tIHRoZSBjb25zdW1lciBmb3IgdGhlIHNlY3Rpb24gaGF2ZVxuICAgICAgICAvLyBnZW5lcmF0ZWQgcG9zaXRpb25zIHJlbGF0aXZlIHRvIHRoZSBzdGFydCBvZiB0aGUgc2VjdGlvbiwgc28gd2VcbiAgICAgICAgLy8gbmVlZCB0byBvZmZzZXQgdGhlbSB0byBiZSByZWxhdGl2ZSB0byB0aGUgc3RhcnQgb2YgdGhlIGNvbmNhdGVuYXRlZFxuICAgICAgICAvLyBnZW5lcmF0ZWQgZmlsZS5cbiAgICAgICAgdmFyIGFkanVzdGVkTWFwcGluZyA9IHtcbiAgICAgICAgICBzb3VyY2U6IHNvdXJjZSxcbiAgICAgICAgICBnZW5lcmF0ZWRMaW5lOiBtYXBwaW5nLmdlbmVyYXRlZExpbmUgK1xuICAgICAgICAgICAgKHNlY3Rpb24uZ2VuZXJhdGVkT2Zmc2V0LmdlbmVyYXRlZExpbmUgLSAxKSxcbiAgICAgICAgICBnZW5lcmF0ZWRDb2x1bW46IG1hcHBpbmcuZ2VuZXJhdGVkQ29sdW1uICtcbiAgICAgICAgICAgIChzZWN0aW9uLmdlbmVyYXRlZE9mZnNldC5nZW5lcmF0ZWRMaW5lID09PSBtYXBwaW5nLmdlbmVyYXRlZExpbmVcbiAgICAgICAgICAgID8gc2VjdGlvbi5nZW5lcmF0ZWRPZmZzZXQuZ2VuZXJhdGVkQ29sdW1uIC0gMVxuICAgICAgICAgICAgOiAwKSxcbiAgICAgICAgICBvcmlnaW5hbExpbmU6IG1hcHBpbmcub3JpZ2luYWxMaW5lLFxuICAgICAgICAgIG9yaWdpbmFsQ29sdW1uOiBtYXBwaW5nLm9yaWdpbmFsQ29sdW1uLFxuICAgICAgICAgIG5hbWU6IG5hbWVcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLl9fZ2VuZXJhdGVkTWFwcGluZ3MucHVzaChhZGp1c3RlZE1hcHBpbmcpO1xuICAgICAgICBpZiAodHlwZW9mIGFkanVzdGVkTWFwcGluZy5vcmlnaW5hbExpbmUgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgdGhpcy5fX29yaWdpbmFsTWFwcGluZ3MucHVzaChhZGp1c3RlZE1hcHBpbmcpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcXVpY2tTb3J0KHRoaXMuX19nZW5lcmF0ZWRNYXBwaW5ncywgdXRpbC5jb21wYXJlQnlHZW5lcmF0ZWRQb3NpdGlvbnNEZWZsYXRlZCk7XG4gICAgcXVpY2tTb3J0KHRoaXMuX19vcmlnaW5hbE1hcHBpbmdzLCB1dGlsLmNvbXBhcmVCeU9yaWdpbmFsUG9zaXRpb25zKTtcbiAgfTtcblxuZXhwb3J0cy5JbmRleGVkU291cmNlTWFwQ29uc3VtZXIgPSBJbmRleGVkU291cmNlTWFwQ29uc3VtZXI7XG4iLCAiLyogLSotIE1vZGU6IGpzOyBqcy1pbmRlbnQtbGV2ZWw6IDI7IC0qLSAqL1xuLypcbiAqIENvcHlyaWdodCAyMDExIE1vemlsbGEgRm91bmRhdGlvbiBhbmQgY29udHJpYnV0b3JzXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTmV3IEJTRCBsaWNlbnNlLiBTZWUgTElDRU5TRSBvcjpcbiAqIGh0dHA6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9CU0QtMy1DbGF1c2VcbiAqL1xuXG52YXIgU291cmNlTWFwR2VuZXJhdG9yID0gcmVxdWlyZSgnLi9zb3VyY2UtbWFwLWdlbmVyYXRvcicpLlNvdXJjZU1hcEdlbmVyYXRvcjtcbnZhciB1dGlsID0gcmVxdWlyZSgnLi91dGlsJyk7XG5cbi8vIE1hdGNoZXMgYSBXaW5kb3dzLXN0eWxlIGBcXHJcXG5gIG5ld2xpbmUgb3IgYSBgXFxuYCBuZXdsaW5lIHVzZWQgYnkgYWxsIG90aGVyXG4vLyBvcGVyYXRpbmcgc3lzdGVtcyB0aGVzZSBkYXlzIChjYXB0dXJpbmcgdGhlIHJlc3VsdCkuXG52YXIgUkVHRVhfTkVXTElORSA9IC8oXFxyP1xcbikvO1xuXG4vLyBOZXdsaW5lIGNoYXJhY3RlciBjb2RlIGZvciBjaGFyQ29kZUF0KCkgY29tcGFyaXNvbnNcbnZhciBORVdMSU5FX0NPREUgPSAxMDtcblxuLy8gUHJpdmF0ZSBzeW1ib2wgZm9yIGlkZW50aWZ5aW5nIGBTb3VyY2VOb2RlYHMgd2hlbiBtdWx0aXBsZSB2ZXJzaW9ucyBvZlxuLy8gdGhlIHNvdXJjZS1tYXAgbGlicmFyeSBhcmUgbG9hZGVkLiBUaGlzIE1VU1QgTk9UIENIQU5HRSBhY3Jvc3Ncbi8vIHZlcnNpb25zIVxudmFyIGlzU291cmNlTm9kZSA9IFwiJCQkaXNTb3VyY2VOb2RlJCQkXCI7XG5cbi8qKlxuICogU291cmNlTm9kZXMgcHJvdmlkZSBhIHdheSB0byBhYnN0cmFjdCBvdmVyIGludGVycG9sYXRpbmcvY29uY2F0ZW5hdGluZ1xuICogc25pcHBldHMgb2YgZ2VuZXJhdGVkIEphdmFTY3JpcHQgc291cmNlIGNvZGUgd2hpbGUgbWFpbnRhaW5pbmcgdGhlIGxpbmUgYW5kXG4gKiBjb2x1bW4gaW5mb3JtYXRpb24gYXNzb2NpYXRlZCB3aXRoIHRoZSBvcmlnaW5hbCBzb3VyY2UgY29kZS5cbiAqXG4gKiBAcGFyYW0gYUxpbmUgVGhlIG9yaWdpbmFsIGxpbmUgbnVtYmVyLlxuICogQHBhcmFtIGFDb2x1bW4gVGhlIG9yaWdpbmFsIGNvbHVtbiBudW1iZXIuXG4gKiBAcGFyYW0gYVNvdXJjZSBUaGUgb3JpZ2luYWwgc291cmNlJ3MgZmlsZW5hbWUuXG4gKiBAcGFyYW0gYUNodW5rcyBPcHRpb25hbC4gQW4gYXJyYXkgb2Ygc3RyaW5ncyB3aGljaCBhcmUgc25pcHBldHMgb2ZcbiAqICAgICAgICBnZW5lcmF0ZWQgSlMsIG9yIG90aGVyIFNvdXJjZU5vZGVzLlxuICogQHBhcmFtIGFOYW1lIFRoZSBvcmlnaW5hbCBpZGVudGlmaWVyLlxuICovXG5mdW5jdGlvbiBTb3VyY2VOb2RlKGFMaW5lLCBhQ29sdW1uLCBhU291cmNlLCBhQ2h1bmtzLCBhTmFtZSkge1xuICB0aGlzLmNoaWxkcmVuID0gW107XG4gIHRoaXMuc291cmNlQ29udGVudHMgPSB7fTtcbiAgdGhpcy5saW5lID0gYUxpbmUgPT0gbnVsbCA/IG51bGwgOiBhTGluZTtcbiAgdGhpcy5jb2x1bW4gPSBhQ29sdW1uID09IG51bGwgPyBudWxsIDogYUNvbHVtbjtcbiAgdGhpcy5zb3VyY2UgPSBhU291cmNlID09IG51bGwgPyBudWxsIDogYVNvdXJjZTtcbiAgdGhpcy5uYW1lID0gYU5hbWUgPT0gbnVsbCA/IG51bGwgOiBhTmFtZTtcbiAgdGhpc1tpc1NvdXJjZU5vZGVdID0gdHJ1ZTtcbiAgaWYgKGFDaHVua3MgIT0gbnVsbCkgdGhpcy5hZGQoYUNodW5rcyk7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIFNvdXJjZU5vZGUgZnJvbSBnZW5lcmF0ZWQgY29kZSBhbmQgYSBTb3VyY2VNYXBDb25zdW1lci5cbiAqXG4gKiBAcGFyYW0gYUdlbmVyYXRlZENvZGUgVGhlIGdlbmVyYXRlZCBjb2RlXG4gKiBAcGFyYW0gYVNvdXJjZU1hcENvbnN1bWVyIFRoZSBTb3VyY2VNYXAgZm9yIHRoZSBnZW5lcmF0ZWQgY29kZVxuICogQHBhcmFtIGFSZWxhdGl2ZVBhdGggT3B0aW9uYWwuIFRoZSBwYXRoIHRoYXQgcmVsYXRpdmUgc291cmNlcyBpbiB0aGVcbiAqICAgICAgICBTb3VyY2VNYXBDb25zdW1lciBzaG91bGQgYmUgcmVsYXRpdmUgdG8uXG4gKi9cblNvdXJjZU5vZGUuZnJvbVN0cmluZ1dpdGhTb3VyY2VNYXAgPVxuICBmdW5jdGlvbiBTb3VyY2VOb2RlX2Zyb21TdHJpbmdXaXRoU291cmNlTWFwKGFHZW5lcmF0ZWRDb2RlLCBhU291cmNlTWFwQ29uc3VtZXIsIGFSZWxhdGl2ZVBhdGgpIHtcbiAgICAvLyBUaGUgU291cmNlTm9kZSB3ZSB3YW50IHRvIGZpbGwgd2l0aCB0aGUgZ2VuZXJhdGVkIGNvZGVcbiAgICAvLyBhbmQgdGhlIFNvdXJjZU1hcFxuICAgIHZhciBub2RlID0gbmV3IFNvdXJjZU5vZGUoKTtcblxuICAgIC8vIEFsbCBldmVuIGluZGljZXMgb2YgdGhpcyBhcnJheSBhcmUgb25lIGxpbmUgb2YgdGhlIGdlbmVyYXRlZCBjb2RlLFxuICAgIC8vIHdoaWxlIGFsbCBvZGQgaW5kaWNlcyBhcmUgdGhlIG5ld2xpbmVzIGJldHdlZW4gdHdvIGFkamFjZW50IGxpbmVzXG4gICAgLy8gKHNpbmNlIGBSRUdFWF9ORVdMSU5FYCBjYXB0dXJlcyBpdHMgbWF0Y2gpLlxuICAgIC8vIFByb2Nlc3NlZCBmcmFnbWVudHMgYXJlIGFjY2Vzc2VkIGJ5IGNhbGxpbmcgYHNoaWZ0TmV4dExpbmVgLlxuICAgIHZhciByZW1haW5pbmdMaW5lcyA9IGFHZW5lcmF0ZWRDb2RlLnNwbGl0KFJFR0VYX05FV0xJTkUpO1xuICAgIHZhciByZW1haW5pbmdMaW5lc0luZGV4ID0gMDtcbiAgICB2YXIgc2hpZnROZXh0TGluZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGxpbmVDb250ZW50cyA9IGdldE5leHRMaW5lKCk7XG4gICAgICAvLyBUaGUgbGFzdCBsaW5lIG9mIGEgZmlsZSBtaWdodCBub3QgaGF2ZSBhIG5ld2xpbmUuXG4gICAgICB2YXIgbmV3TGluZSA9IGdldE5leHRMaW5lKCkgfHwgXCJcIjtcbiAgICAgIHJldHVybiBsaW5lQ29udGVudHMgKyBuZXdMaW5lO1xuXG4gICAgICBmdW5jdGlvbiBnZXROZXh0TGluZSgpIHtcbiAgICAgICAgcmV0dXJuIHJlbWFpbmluZ0xpbmVzSW5kZXggPCByZW1haW5pbmdMaW5lcy5sZW5ndGggP1xuICAgICAgICAgICAgcmVtYWluaW5nTGluZXNbcmVtYWluaW5nTGluZXNJbmRleCsrXSA6IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gV2UgbmVlZCB0byByZW1lbWJlciB0aGUgcG9zaXRpb24gb2YgXCJyZW1haW5pbmdMaW5lc1wiXG4gICAgdmFyIGxhc3RHZW5lcmF0ZWRMaW5lID0gMSwgbGFzdEdlbmVyYXRlZENvbHVtbiA9IDA7XG5cbiAgICAvLyBUaGUgZ2VuZXJhdGUgU291cmNlTm9kZXMgd2UgbmVlZCBhIGNvZGUgcmFuZ2UuXG4gICAgLy8gVG8gZXh0cmFjdCBpdCBjdXJyZW50IGFuZCBsYXN0IG1hcHBpbmcgaXMgdXNlZC5cbiAgICAvLyBIZXJlIHdlIHN0b3JlIHRoZSBsYXN0IG1hcHBpbmcuXG4gICAgdmFyIGxhc3RNYXBwaW5nID0gbnVsbDtcblxuICAgIGFTb3VyY2VNYXBDb25zdW1lci5lYWNoTWFwcGluZyhmdW5jdGlvbiAobWFwcGluZykge1xuICAgICAgaWYgKGxhc3RNYXBwaW5nICE9PSBudWxsKSB7XG4gICAgICAgIC8vIFdlIGFkZCB0aGUgY29kZSBmcm9tIFwibGFzdE1hcHBpbmdcIiB0byBcIm1hcHBpbmdcIjpcbiAgICAgICAgLy8gRmlyc3QgY2hlY2sgaWYgdGhlcmUgaXMgYSBuZXcgbGluZSBpbiBiZXR3ZWVuLlxuICAgICAgICBpZiAobGFzdEdlbmVyYXRlZExpbmUgPCBtYXBwaW5nLmdlbmVyYXRlZExpbmUpIHtcbiAgICAgICAgICAvLyBBc3NvY2lhdGUgZmlyc3QgbGluZSB3aXRoIFwibGFzdE1hcHBpbmdcIlxuICAgICAgICAgIGFkZE1hcHBpbmdXaXRoQ29kZShsYXN0TWFwcGluZywgc2hpZnROZXh0TGluZSgpKTtcbiAgICAgICAgICBsYXN0R2VuZXJhdGVkTGluZSsrO1xuICAgICAgICAgIGxhc3RHZW5lcmF0ZWRDb2x1bW4gPSAwO1xuICAgICAgICAgIC8vIFRoZSByZW1haW5pbmcgY29kZSBpcyBhZGRlZCB3aXRob3V0IG1hcHBpbmdcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBUaGVyZSBpcyBubyBuZXcgbGluZSBpbiBiZXR3ZWVuLlxuICAgICAgICAgIC8vIEFzc29jaWF0ZSB0aGUgY29kZSBiZXR3ZWVuIFwibGFzdEdlbmVyYXRlZENvbHVtblwiIGFuZFxuICAgICAgICAgIC8vIFwibWFwcGluZy5nZW5lcmF0ZWRDb2x1bW5cIiB3aXRoIFwibGFzdE1hcHBpbmdcIlxuICAgICAgICAgIHZhciBuZXh0TGluZSA9IHJlbWFpbmluZ0xpbmVzW3JlbWFpbmluZ0xpbmVzSW5kZXhdIHx8ICcnO1xuICAgICAgICAgIHZhciBjb2RlID0gbmV4dExpbmUuc3Vic3RyKDAsIG1hcHBpbmcuZ2VuZXJhdGVkQ29sdW1uIC1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXN0R2VuZXJhdGVkQ29sdW1uKTtcbiAgICAgICAgICByZW1haW5pbmdMaW5lc1tyZW1haW5pbmdMaW5lc0luZGV4XSA9IG5leHRMaW5lLnN1YnN0cihtYXBwaW5nLmdlbmVyYXRlZENvbHVtbiAtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdEdlbmVyYXRlZENvbHVtbik7XG4gICAgICAgICAgbGFzdEdlbmVyYXRlZENvbHVtbiA9IG1hcHBpbmcuZ2VuZXJhdGVkQ29sdW1uO1xuICAgICAgICAgIGFkZE1hcHBpbmdXaXRoQ29kZShsYXN0TWFwcGluZywgY29kZSk7XG4gICAgICAgICAgLy8gTm8gbW9yZSByZW1haW5pbmcgY29kZSwgY29udGludWVcbiAgICAgICAgICBsYXN0TWFwcGluZyA9IG1hcHBpbmc7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBXZSBhZGQgdGhlIGdlbmVyYXRlZCBjb2RlIHVudGlsIHRoZSBmaXJzdCBtYXBwaW5nXG4gICAgICAvLyB0byB0aGUgU291cmNlTm9kZSB3aXRob3V0IGFueSBtYXBwaW5nLlxuICAgICAgLy8gRWFjaCBsaW5lIGlzIGFkZGVkIGFzIHNlcGFyYXRlIHN0cmluZy5cbiAgICAgIHdoaWxlIChsYXN0R2VuZXJhdGVkTGluZSA8IG1hcHBpbmcuZ2VuZXJhdGVkTGluZSkge1xuICAgICAgICBub2RlLmFkZChzaGlmdE5leHRMaW5lKCkpO1xuICAgICAgICBsYXN0R2VuZXJhdGVkTGluZSsrO1xuICAgICAgfVxuICAgICAgaWYgKGxhc3RHZW5lcmF0ZWRDb2x1bW4gPCBtYXBwaW5nLmdlbmVyYXRlZENvbHVtbikge1xuICAgICAgICB2YXIgbmV4dExpbmUgPSByZW1haW5pbmdMaW5lc1tyZW1haW5pbmdMaW5lc0luZGV4XSB8fCAnJztcbiAgICAgICAgbm9kZS5hZGQobmV4dExpbmUuc3Vic3RyKDAsIG1hcHBpbmcuZ2VuZXJhdGVkQ29sdW1uKSk7XG4gICAgICAgIHJlbWFpbmluZ0xpbmVzW3JlbWFpbmluZ0xpbmVzSW5kZXhdID0gbmV4dExpbmUuc3Vic3RyKG1hcHBpbmcuZ2VuZXJhdGVkQ29sdW1uKTtcbiAgICAgICAgbGFzdEdlbmVyYXRlZENvbHVtbiA9IG1hcHBpbmcuZ2VuZXJhdGVkQ29sdW1uO1xuICAgICAgfVxuICAgICAgbGFzdE1hcHBpbmcgPSBtYXBwaW5nO1xuICAgIH0sIHRoaXMpO1xuICAgIC8vIFdlIGhhdmUgcHJvY2Vzc2VkIGFsbCBtYXBwaW5ncy5cbiAgICBpZiAocmVtYWluaW5nTGluZXNJbmRleCA8IHJlbWFpbmluZ0xpbmVzLmxlbmd0aCkge1xuICAgICAgaWYgKGxhc3RNYXBwaW5nKSB7XG4gICAgICAgIC8vIEFzc29jaWF0ZSB0aGUgcmVtYWluaW5nIGNvZGUgaW4gdGhlIGN1cnJlbnQgbGluZSB3aXRoIFwibGFzdE1hcHBpbmdcIlxuICAgICAgICBhZGRNYXBwaW5nV2l0aENvZGUobGFzdE1hcHBpbmcsIHNoaWZ0TmV4dExpbmUoKSk7XG4gICAgICB9XG4gICAgICAvLyBhbmQgYWRkIHRoZSByZW1haW5pbmcgbGluZXMgd2l0aG91dCBhbnkgbWFwcGluZ1xuICAgICAgbm9kZS5hZGQocmVtYWluaW5nTGluZXMuc3BsaWNlKHJlbWFpbmluZ0xpbmVzSW5kZXgpLmpvaW4oXCJcIikpO1xuICAgIH1cblxuICAgIC8vIENvcHkgc291cmNlc0NvbnRlbnQgaW50byBTb3VyY2VOb2RlXG4gICAgYVNvdXJjZU1hcENvbnN1bWVyLnNvdXJjZXMuZm9yRWFjaChmdW5jdGlvbiAoc291cmNlRmlsZSkge1xuICAgICAgdmFyIGNvbnRlbnQgPSBhU291cmNlTWFwQ29uc3VtZXIuc291cmNlQ29udGVudEZvcihzb3VyY2VGaWxlKTtcbiAgICAgIGlmIChjb250ZW50ICE9IG51bGwpIHtcbiAgICAgICAgaWYgKGFSZWxhdGl2ZVBhdGggIT0gbnVsbCkge1xuICAgICAgICAgIHNvdXJjZUZpbGUgPSB1dGlsLmpvaW4oYVJlbGF0aXZlUGF0aCwgc291cmNlRmlsZSk7XG4gICAgICAgIH1cbiAgICAgICAgbm9kZS5zZXRTb3VyY2VDb250ZW50KHNvdXJjZUZpbGUsIGNvbnRlbnQpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIG5vZGU7XG5cbiAgICBmdW5jdGlvbiBhZGRNYXBwaW5nV2l0aENvZGUobWFwcGluZywgY29kZSkge1xuICAgICAgaWYgKG1hcHBpbmcgPT09IG51bGwgfHwgbWFwcGluZy5zb3VyY2UgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBub2RlLmFkZChjb2RlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBzb3VyY2UgPSBhUmVsYXRpdmVQYXRoXG4gICAgICAgICAgPyB1dGlsLmpvaW4oYVJlbGF0aXZlUGF0aCwgbWFwcGluZy5zb3VyY2UpXG4gICAgICAgICAgOiBtYXBwaW5nLnNvdXJjZTtcbiAgICAgICAgbm9kZS5hZGQobmV3IFNvdXJjZU5vZGUobWFwcGluZy5vcmlnaW5hbExpbmUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcHBpbmcub3JpZ2luYWxDb2x1bW4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFwcGluZy5uYW1lKSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4vKipcbiAqIEFkZCBhIGNodW5rIG9mIGdlbmVyYXRlZCBKUyB0byB0aGlzIHNvdXJjZSBub2RlLlxuICpcbiAqIEBwYXJhbSBhQ2h1bmsgQSBzdHJpbmcgc25pcHBldCBvZiBnZW5lcmF0ZWQgSlMgY29kZSwgYW5vdGhlciBpbnN0YW5jZSBvZlxuICogICAgICAgIFNvdXJjZU5vZGUsIG9yIGFuIGFycmF5IHdoZXJlIGVhY2ggbWVtYmVyIGlzIG9uZSBvZiB0aG9zZSB0aGluZ3MuXG4gKi9cblNvdXJjZU5vZGUucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIFNvdXJjZU5vZGVfYWRkKGFDaHVuaykge1xuICBpZiAoQXJyYXkuaXNBcnJheShhQ2h1bmspKSB7XG4gICAgYUNodW5rLmZvckVhY2goZnVuY3Rpb24gKGNodW5rKSB7XG4gICAgICB0aGlzLmFkZChjaHVuayk7XG4gICAgfSwgdGhpcyk7XG4gIH1cbiAgZWxzZSBpZiAoYUNodW5rW2lzU291cmNlTm9kZV0gfHwgdHlwZW9mIGFDaHVuayA9PT0gXCJzdHJpbmdcIikge1xuICAgIGlmIChhQ2h1bmspIHtcbiAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaChhQ2h1bmspO1xuICAgIH1cbiAgfVxuICBlbHNlIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFxuICAgICAgXCJFeHBlY3RlZCBhIFNvdXJjZU5vZGUsIHN0cmluZywgb3IgYW4gYXJyYXkgb2YgU291cmNlTm9kZXMgYW5kIHN0cmluZ3MuIEdvdCBcIiArIGFDaHVua1xuICAgICk7XG4gIH1cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIEFkZCBhIGNodW5rIG9mIGdlbmVyYXRlZCBKUyB0byB0aGUgYmVnaW5uaW5nIG9mIHRoaXMgc291cmNlIG5vZGUuXG4gKlxuICogQHBhcmFtIGFDaHVuayBBIHN0cmluZyBzbmlwcGV0IG9mIGdlbmVyYXRlZCBKUyBjb2RlLCBhbm90aGVyIGluc3RhbmNlIG9mXG4gKiAgICAgICAgU291cmNlTm9kZSwgb3IgYW4gYXJyYXkgd2hlcmUgZWFjaCBtZW1iZXIgaXMgb25lIG9mIHRob3NlIHRoaW5ncy5cbiAqL1xuU291cmNlTm9kZS5wcm90b3R5cGUucHJlcGVuZCA9IGZ1bmN0aW9uIFNvdXJjZU5vZGVfcHJlcGVuZChhQ2h1bmspIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoYUNodW5rKSkge1xuICAgIGZvciAodmFyIGkgPSBhQ2h1bmsubGVuZ3RoLTE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICB0aGlzLnByZXBlbmQoYUNodW5rW2ldKTtcbiAgICB9XG4gIH1cbiAgZWxzZSBpZiAoYUNodW5rW2lzU291cmNlTm9kZV0gfHwgdHlwZW9mIGFDaHVuayA9PT0gXCJzdHJpbmdcIikge1xuICAgIHRoaXMuY2hpbGRyZW4udW5zaGlmdChhQ2h1bmspO1xuICB9XG4gIGVsc2Uge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICBcIkV4cGVjdGVkIGEgU291cmNlTm9kZSwgc3RyaW5nLCBvciBhbiBhcnJheSBvZiBTb3VyY2VOb2RlcyBhbmQgc3RyaW5ncy4gR290IFwiICsgYUNodW5rXG4gICAgKTtcbiAgfVxuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogV2FsayBvdmVyIHRoZSB0cmVlIG9mIEpTIHNuaXBwZXRzIGluIHRoaXMgbm9kZSBhbmQgaXRzIGNoaWxkcmVuLiBUaGVcbiAqIHdhbGtpbmcgZnVuY3Rpb24gaXMgY2FsbGVkIG9uY2UgZm9yIGVhY2ggc25pcHBldCBvZiBKUyBhbmQgaXMgcGFzc2VkIHRoYXRcbiAqIHNuaXBwZXQgYW5kIHRoZSBpdHMgb3JpZ2luYWwgYXNzb2NpYXRlZCBzb3VyY2UncyBsaW5lL2NvbHVtbiBsb2NhdGlvbi5cbiAqXG4gKiBAcGFyYW0gYUZuIFRoZSB0cmF2ZXJzYWwgZnVuY3Rpb24uXG4gKi9cblNvdXJjZU5vZGUucHJvdG90eXBlLndhbGsgPSBmdW5jdGlvbiBTb3VyY2VOb2RlX3dhbGsoYUZuKSB7XG4gIHZhciBjaHVuaztcbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICBjaHVuayA9IHRoaXMuY2hpbGRyZW5baV07XG4gICAgaWYgKGNodW5rW2lzU291cmNlTm9kZV0pIHtcbiAgICAgIGNodW5rLndhbGsoYUZuKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBpZiAoY2h1bmsgIT09ICcnKSB7XG4gICAgICAgIGFGbihjaHVuaywgeyBzb3VyY2U6IHRoaXMuc291cmNlLFxuICAgICAgICAgICAgICAgICAgICAgbGluZTogdGhpcy5saW5lLFxuICAgICAgICAgICAgICAgICAgICAgY29sdW1uOiB0aGlzLmNvbHVtbixcbiAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHRoaXMubmFtZSB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG5cbi8qKlxuICogTGlrZSBgU3RyaW5nLnByb3RvdHlwZS5qb2luYCBleGNlcHQgZm9yIFNvdXJjZU5vZGVzLiBJbnNlcnRzIGBhU3RyYCBiZXR3ZWVuXG4gKiBlYWNoIG9mIGB0aGlzLmNoaWxkcmVuYC5cbiAqXG4gKiBAcGFyYW0gYVNlcCBUaGUgc2VwYXJhdG9yLlxuICovXG5Tb3VyY2VOb2RlLnByb3RvdHlwZS5qb2luID0gZnVuY3Rpb24gU291cmNlTm9kZV9qb2luKGFTZXApIHtcbiAgdmFyIG5ld0NoaWxkcmVuO1xuICB2YXIgaTtcbiAgdmFyIGxlbiA9IHRoaXMuY2hpbGRyZW4ubGVuZ3RoO1xuICBpZiAobGVuID4gMCkge1xuICAgIG5ld0NoaWxkcmVuID0gW107XG4gICAgZm9yIChpID0gMDsgaSA8IGxlbi0xOyBpKyspIHtcbiAgICAgIG5ld0NoaWxkcmVuLnB1c2godGhpcy5jaGlsZHJlbltpXSk7XG4gICAgICBuZXdDaGlsZHJlbi5wdXNoKGFTZXApO1xuICAgIH1cbiAgICBuZXdDaGlsZHJlbi5wdXNoKHRoaXMuY2hpbGRyZW5baV0pO1xuICAgIHRoaXMuY2hpbGRyZW4gPSBuZXdDaGlsZHJlbjtcbiAgfVxuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogQ2FsbCBTdHJpbmcucHJvdG90eXBlLnJlcGxhY2Ugb24gdGhlIHZlcnkgcmlnaHQtbW9zdCBzb3VyY2Ugc25pcHBldC4gVXNlZnVsXG4gKiBmb3IgdHJpbW1pbmcgd2hpdGVzcGFjZSBmcm9tIHRoZSBlbmQgb2YgYSBzb3VyY2Ugbm9kZSwgZXRjLlxuICpcbiAqIEBwYXJhbSBhUGF0dGVybiBUaGUgcGF0dGVybiB0byByZXBsYWNlLlxuICogQHBhcmFtIGFSZXBsYWNlbWVudCBUaGUgdGhpbmcgdG8gcmVwbGFjZSB0aGUgcGF0dGVybiB3aXRoLlxuICovXG5Tb3VyY2VOb2RlLnByb3RvdHlwZS5yZXBsYWNlUmlnaHQgPSBmdW5jdGlvbiBTb3VyY2VOb2RlX3JlcGxhY2VSaWdodChhUGF0dGVybiwgYVJlcGxhY2VtZW50KSB7XG4gIHZhciBsYXN0Q2hpbGQgPSB0aGlzLmNoaWxkcmVuW3RoaXMuY2hpbGRyZW4ubGVuZ3RoIC0gMV07XG4gIGlmIChsYXN0Q2hpbGRbaXNTb3VyY2VOb2RlXSkge1xuICAgIGxhc3RDaGlsZC5yZXBsYWNlUmlnaHQoYVBhdHRlcm4sIGFSZXBsYWNlbWVudCk7XG4gIH1cbiAgZWxzZSBpZiAodHlwZW9mIGxhc3RDaGlsZCA9PT0gJ3N0cmluZycpIHtcbiAgICB0aGlzLmNoaWxkcmVuW3RoaXMuY2hpbGRyZW4ubGVuZ3RoIC0gMV0gPSBsYXN0Q2hpbGQucmVwbGFjZShhUGF0dGVybiwgYVJlcGxhY2VtZW50KTtcbiAgfVxuICBlbHNlIHtcbiAgICB0aGlzLmNoaWxkcmVuLnB1c2goJycucmVwbGFjZShhUGF0dGVybiwgYVJlcGxhY2VtZW50KSk7XG4gIH1cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFNldCB0aGUgc291cmNlIGNvbnRlbnQgZm9yIGEgc291cmNlIGZpbGUuIFRoaXMgd2lsbCBiZSBhZGRlZCB0byB0aGUgU291cmNlTWFwR2VuZXJhdG9yXG4gKiBpbiB0aGUgc291cmNlc0NvbnRlbnQgZmllbGQuXG4gKlxuICogQHBhcmFtIGFTb3VyY2VGaWxlIFRoZSBmaWxlbmFtZSBvZiB0aGUgc291cmNlIGZpbGVcbiAqIEBwYXJhbSBhU291cmNlQ29udGVudCBUaGUgY29udGVudCBvZiB0aGUgc291cmNlIGZpbGVcbiAqL1xuU291cmNlTm9kZS5wcm90b3R5cGUuc2V0U291cmNlQ29udGVudCA9XG4gIGZ1bmN0aW9uIFNvdXJjZU5vZGVfc2V0U291cmNlQ29udGVudChhU291cmNlRmlsZSwgYVNvdXJjZUNvbnRlbnQpIHtcbiAgICB0aGlzLnNvdXJjZUNvbnRlbnRzW3V0aWwudG9TZXRTdHJpbmcoYVNvdXJjZUZpbGUpXSA9IGFTb3VyY2VDb250ZW50O1xuICB9O1xuXG4vKipcbiAqIFdhbGsgb3ZlciB0aGUgdHJlZSBvZiBTb3VyY2VOb2Rlcy4gVGhlIHdhbGtpbmcgZnVuY3Rpb24gaXMgY2FsbGVkIGZvciBlYWNoXG4gKiBzb3VyY2UgZmlsZSBjb250ZW50IGFuZCBpcyBwYXNzZWQgdGhlIGZpbGVuYW1lIGFuZCBzb3VyY2UgY29udGVudC5cbiAqXG4gKiBAcGFyYW0gYUZuIFRoZSB0cmF2ZXJzYWwgZnVuY3Rpb24uXG4gKi9cblNvdXJjZU5vZGUucHJvdG90eXBlLndhbGtTb3VyY2VDb250ZW50cyA9XG4gIGZ1bmN0aW9uIFNvdXJjZU5vZGVfd2Fsa1NvdXJjZUNvbnRlbnRzKGFGbikge1xuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBpZiAodGhpcy5jaGlsZHJlbltpXVtpc1NvdXJjZU5vZGVdKSB7XG4gICAgICAgIHRoaXMuY2hpbGRyZW5baV0ud2Fsa1NvdXJjZUNvbnRlbnRzKGFGbik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIHNvdXJjZXMgPSBPYmplY3Qua2V5cyh0aGlzLnNvdXJjZUNvbnRlbnRzKTtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gc291cmNlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgYUZuKHV0aWwuZnJvbVNldFN0cmluZyhzb3VyY2VzW2ldKSwgdGhpcy5zb3VyY2VDb250ZW50c1tzb3VyY2VzW2ldXSk7XG4gICAgfVxuICB9O1xuXG4vKipcbiAqIFJldHVybiB0aGUgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoaXMgc291cmNlIG5vZGUuIFdhbGtzIG92ZXIgdGhlIHRyZWVcbiAqIGFuZCBjb25jYXRlbmF0ZXMgYWxsIHRoZSB2YXJpb3VzIHNuaXBwZXRzIHRvZ2V0aGVyIHRvIG9uZSBzdHJpbmcuXG4gKi9cblNvdXJjZU5vZGUucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gU291cmNlTm9kZV90b1N0cmluZygpIHtcbiAgdmFyIHN0ciA9IFwiXCI7XG4gIHRoaXMud2FsayhmdW5jdGlvbiAoY2h1bmspIHtcbiAgICBzdHIgKz0gY2h1bms7XG4gIH0pO1xuICByZXR1cm4gc3RyO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhpcyBzb3VyY2Ugbm9kZSBhbG9uZyB3aXRoIGEgc291cmNlXG4gKiBtYXAuXG4gKi9cblNvdXJjZU5vZGUucHJvdG90eXBlLnRvU3RyaW5nV2l0aFNvdXJjZU1hcCA9IGZ1bmN0aW9uIFNvdXJjZU5vZGVfdG9TdHJpbmdXaXRoU291cmNlTWFwKGFBcmdzKSB7XG4gIHZhciBnZW5lcmF0ZWQgPSB7XG4gICAgY29kZTogXCJcIixcbiAgICBsaW5lOiAxLFxuICAgIGNvbHVtbjogMFxuICB9O1xuICB2YXIgbWFwID0gbmV3IFNvdXJjZU1hcEdlbmVyYXRvcihhQXJncyk7XG4gIHZhciBzb3VyY2VNYXBwaW5nQWN0aXZlID0gZmFsc2U7XG4gIHZhciBsYXN0T3JpZ2luYWxTb3VyY2UgPSBudWxsO1xuICB2YXIgbGFzdE9yaWdpbmFsTGluZSA9IG51bGw7XG4gIHZhciBsYXN0T3JpZ2luYWxDb2x1bW4gPSBudWxsO1xuICB2YXIgbGFzdE9yaWdpbmFsTmFtZSA9IG51bGw7XG4gIHRoaXMud2FsayhmdW5jdGlvbiAoY2h1bmssIG9yaWdpbmFsKSB7XG4gICAgZ2VuZXJhdGVkLmNvZGUgKz0gY2h1bms7XG4gICAgaWYgKG9yaWdpbmFsLnNvdXJjZSAhPT0gbnVsbFxuICAgICAgICAmJiBvcmlnaW5hbC5saW5lICE9PSBudWxsXG4gICAgICAgICYmIG9yaWdpbmFsLmNvbHVtbiAhPT0gbnVsbCkge1xuICAgICAgaWYobGFzdE9yaWdpbmFsU291cmNlICE9PSBvcmlnaW5hbC5zb3VyY2VcbiAgICAgICAgIHx8IGxhc3RPcmlnaW5hbExpbmUgIT09IG9yaWdpbmFsLmxpbmVcbiAgICAgICAgIHx8IGxhc3RPcmlnaW5hbENvbHVtbiAhPT0gb3JpZ2luYWwuY29sdW1uXG4gICAgICAgICB8fCBsYXN0T3JpZ2luYWxOYW1lICE9PSBvcmlnaW5hbC5uYW1lKSB7XG4gICAgICAgIG1hcC5hZGRNYXBwaW5nKHtcbiAgICAgICAgICBzb3VyY2U6IG9yaWdpbmFsLnNvdXJjZSxcbiAgICAgICAgICBvcmlnaW5hbDoge1xuICAgICAgICAgICAgbGluZTogb3JpZ2luYWwubGluZSxcbiAgICAgICAgICAgIGNvbHVtbjogb3JpZ2luYWwuY29sdW1uXG4gICAgICAgICAgfSxcbiAgICAgICAgICBnZW5lcmF0ZWQ6IHtcbiAgICAgICAgICAgIGxpbmU6IGdlbmVyYXRlZC5saW5lLFxuICAgICAgICAgICAgY29sdW1uOiBnZW5lcmF0ZWQuY29sdW1uXG4gICAgICAgICAgfSxcbiAgICAgICAgICBuYW1lOiBvcmlnaW5hbC5uYW1lXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgbGFzdE9yaWdpbmFsU291cmNlID0gb3JpZ2luYWwuc291cmNlO1xuICAgICAgbGFzdE9yaWdpbmFsTGluZSA9IG9yaWdpbmFsLmxpbmU7XG4gICAgICBsYXN0T3JpZ2luYWxDb2x1bW4gPSBvcmlnaW5hbC5jb2x1bW47XG4gICAgICBsYXN0T3JpZ2luYWxOYW1lID0gb3JpZ2luYWwubmFtZTtcbiAgICAgIHNvdXJjZU1hcHBpbmdBY3RpdmUgPSB0cnVlO1xuICAgIH0gZWxzZSBpZiAoc291cmNlTWFwcGluZ0FjdGl2ZSkge1xuICAgICAgbWFwLmFkZE1hcHBpbmcoe1xuICAgICAgICBnZW5lcmF0ZWQ6IHtcbiAgICAgICAgICBsaW5lOiBnZW5lcmF0ZWQubGluZSxcbiAgICAgICAgICBjb2x1bW46IGdlbmVyYXRlZC5jb2x1bW5cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBsYXN0T3JpZ2luYWxTb3VyY2UgPSBudWxsO1xuICAgICAgc291cmNlTWFwcGluZ0FjdGl2ZSA9IGZhbHNlO1xuICAgIH1cbiAgICBmb3IgKHZhciBpZHggPSAwLCBsZW5ndGggPSBjaHVuay5sZW5ndGg7IGlkeCA8IGxlbmd0aDsgaWR4KyspIHtcbiAgICAgIGlmIChjaHVuay5jaGFyQ29kZUF0KGlkeCkgPT09IE5FV0xJTkVfQ09ERSkge1xuICAgICAgICBnZW5lcmF0ZWQubGluZSsrO1xuICAgICAgICBnZW5lcmF0ZWQuY29sdW1uID0gMDtcbiAgICAgICAgLy8gTWFwcGluZ3MgZW5kIGF0IGVvbFxuICAgICAgICBpZiAoaWR4ICsgMSA9PT0gbGVuZ3RoKSB7XG4gICAgICAgICAgbGFzdE9yaWdpbmFsU291cmNlID0gbnVsbDtcbiAgICAgICAgICBzb3VyY2VNYXBwaW5nQWN0aXZlID0gZmFsc2U7XG4gICAgICAgIH0gZWxzZSBpZiAoc291cmNlTWFwcGluZ0FjdGl2ZSkge1xuICAgICAgICAgIG1hcC5hZGRNYXBwaW5nKHtcbiAgICAgICAgICAgIHNvdXJjZTogb3JpZ2luYWwuc291cmNlLFxuICAgICAgICAgICAgb3JpZ2luYWw6IHtcbiAgICAgICAgICAgICAgbGluZTogb3JpZ2luYWwubGluZSxcbiAgICAgICAgICAgICAgY29sdW1uOiBvcmlnaW5hbC5jb2x1bW5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZW5lcmF0ZWQ6IHtcbiAgICAgICAgICAgICAgbGluZTogZ2VuZXJhdGVkLmxpbmUsXG4gICAgICAgICAgICAgIGNvbHVtbjogZ2VuZXJhdGVkLmNvbHVtblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG5hbWU6IG9yaWdpbmFsLm5hbWVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZ2VuZXJhdGVkLmNvbHVtbisrO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gIHRoaXMud2Fsa1NvdXJjZUNvbnRlbnRzKGZ1bmN0aW9uIChzb3VyY2VGaWxlLCBzb3VyY2VDb250ZW50KSB7XG4gICAgbWFwLnNldFNvdXJjZUNvbnRlbnQoc291cmNlRmlsZSwgc291cmNlQ29udGVudCk7XG4gIH0pO1xuXG4gIHJldHVybiB7IGNvZGU6IGdlbmVyYXRlZC5jb2RlLCBtYXA6IG1hcCB9O1xufTtcblxuZXhwb3J0cy5Tb3VyY2VOb2RlID0gU291cmNlTm9kZTtcbiIsICIvKlxuICogQ29weXJpZ2h0IDIwMDktMjAxMSBNb3ppbGxhIEZvdW5kYXRpb24gYW5kIGNvbnRyaWJ1dG9yc1xuICogTGljZW5zZWQgdW5kZXIgdGhlIE5ldyBCU0QgbGljZW5zZS4gU2VlIExJQ0VOU0UudHh0IG9yOlxuICogaHR0cDovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL0JTRC0zLUNsYXVzZVxuICovXG5leHBvcnRzLlNvdXJjZU1hcEdlbmVyYXRvciA9IHJlcXVpcmUoJy4vbGliL3NvdXJjZS1tYXAtZ2VuZXJhdG9yJykuU291cmNlTWFwR2VuZXJhdG9yO1xuZXhwb3J0cy5Tb3VyY2VNYXBDb25zdW1lciA9IHJlcXVpcmUoJy4vbGliL3NvdXJjZS1tYXAtY29uc3VtZXInKS5Tb3VyY2VNYXBDb25zdW1lcjtcbmV4cG9ydHMuU291cmNlTm9kZSA9IHJlcXVpcmUoJy4vbGliL3NvdXJjZS1ub2RlJykuU291cmNlTm9kZTtcbiIsICIvKiBlc2xpbnQtZGlzYWJsZSBub2RlL25vLWRlcHJlY2F0ZWQtYXBpICovXG5cbnZhciB0b1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmdcblxudmFyIGlzTW9kZXJuID0gKFxuICB0eXBlb2YgQnVmZmVyICE9PSAndW5kZWZpbmVkJyAmJlxuICB0eXBlb2YgQnVmZmVyLmFsbG9jID09PSAnZnVuY3Rpb24nICYmXG4gIHR5cGVvZiBCdWZmZXIuYWxsb2NVbnNhZmUgPT09ICdmdW5jdGlvbicgJiZcbiAgdHlwZW9mIEJ1ZmZlci5mcm9tID09PSAnZnVuY3Rpb24nXG4pXG5cbmZ1bmN0aW9uIGlzQXJyYXlCdWZmZXIgKGlucHV0KSB7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKGlucHV0KS5zbGljZSg4LCAtMSkgPT09ICdBcnJheUJ1ZmZlcidcbn1cblxuZnVuY3Rpb24gZnJvbUFycmF5QnVmZmVyIChvYmosIGJ5dGVPZmZzZXQsIGxlbmd0aCkge1xuICBieXRlT2Zmc2V0ID4+Pj0gMFxuXG4gIHZhciBtYXhMZW5ndGggPSBvYmouYnl0ZUxlbmd0aCAtIGJ5dGVPZmZzZXRcblxuICBpZiAobWF4TGVuZ3RoIDwgMCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiJ29mZnNldCcgaXMgb3V0IG9mIGJvdW5kc1wiKVxuICB9XG5cbiAgaWYgKGxlbmd0aCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgbGVuZ3RoID0gbWF4TGVuZ3RoXG4gIH0gZWxzZSB7XG4gICAgbGVuZ3RoID4+Pj0gMFxuXG4gICAgaWYgKGxlbmd0aCA+IG1heExlbmd0aCkge1xuICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCInbGVuZ3RoJyBpcyBvdXQgb2YgYm91bmRzXCIpXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGlzTW9kZXJuXG4gICAgPyBCdWZmZXIuZnJvbShvYmouc2xpY2UoYnl0ZU9mZnNldCwgYnl0ZU9mZnNldCArIGxlbmd0aCkpXG4gICAgOiBuZXcgQnVmZmVyKG5ldyBVaW50OEFycmF5KG9iai5zbGljZShieXRlT2Zmc2V0LCBieXRlT2Zmc2V0ICsgbGVuZ3RoKSkpXG59XG5cbmZ1bmN0aW9uIGZyb21TdHJpbmcgKHN0cmluZywgZW5jb2RpbmcpIHtcbiAgaWYgKHR5cGVvZiBlbmNvZGluZyAhPT0gJ3N0cmluZycgfHwgZW5jb2RpbmcgPT09ICcnKSB7XG4gICAgZW5jb2RpbmcgPSAndXRmOCdcbiAgfVxuXG4gIGlmICghQnVmZmVyLmlzRW5jb2RpbmcoZW5jb2RpbmcpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJlbmNvZGluZ1wiIG11c3QgYmUgYSB2YWxpZCBzdHJpbmcgZW5jb2RpbmcnKVxuICB9XG5cbiAgcmV0dXJuIGlzTW9kZXJuXG4gICAgPyBCdWZmZXIuZnJvbShzdHJpbmcsIGVuY29kaW5nKVxuICAgIDogbmV3IEJ1ZmZlcihzdHJpbmcsIGVuY29kaW5nKVxufVxuXG5mdW5jdGlvbiBidWZmZXJGcm9tICh2YWx1ZSwgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKSB7XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJ2YWx1ZVwiIGFyZ3VtZW50IG11c3Qgbm90IGJlIGEgbnVtYmVyJylcbiAgfVxuXG4gIGlmIChpc0FycmF5QnVmZmVyKHZhbHVlKSkge1xuICAgIHJldHVybiBmcm9tQXJyYXlCdWZmZXIodmFsdWUsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aClcbiAgfVxuXG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIGZyb21TdHJpbmcodmFsdWUsIGVuY29kaW5nT3JPZmZzZXQpXG4gIH1cblxuICByZXR1cm4gaXNNb2Rlcm5cbiAgICA/IEJ1ZmZlci5mcm9tKHZhbHVlKVxuICAgIDogbmV3IEJ1ZmZlcih2YWx1ZSlcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBidWZmZXJGcm9tXG4iLCAidmFyIFNvdXJjZU1hcENvbnN1bWVyID0gcmVxdWlyZSgnc291cmNlLW1hcCcpLlNvdXJjZU1hcENvbnN1bWVyO1xudmFyIHBhdGggPSByZXF1aXJlKCdwYXRoJyk7XG5cbnZhciBmcztcbnRyeSB7XG4gIGZzID0gcmVxdWlyZSgnZnMnKTtcbiAgaWYgKCFmcy5leGlzdHNTeW5jIHx8ICFmcy5yZWFkRmlsZVN5bmMpIHtcbiAgICAvLyBmcyBkb2Vzbid0IGhhdmUgYWxsIG1ldGhvZHMgd2UgbmVlZFxuICAgIGZzID0gbnVsbDtcbiAgfVxufSBjYXRjaCAoZXJyKSB7XG4gIC8qIG5vcCAqL1xufVxuXG52YXIgYnVmZmVyRnJvbSA9IHJlcXVpcmUoJ2J1ZmZlci1mcm9tJyk7XG5cbi8qKlxuICogUmVxdWlyZXMgYSBtb2R1bGUgd2hpY2ggaXMgcHJvdGVjdGVkIGFnYWluc3QgYnVuZGxlciBtaW5pZmljYXRpb24uXG4gKlxuICogQHBhcmFtIHtOb2RlTW9kdWxlfSBtb2RcbiAqIEBwYXJhbSB7c3RyaW5nfSByZXF1ZXN0XG4gKi9cbmZ1bmN0aW9uIGR5bmFtaWNSZXF1aXJlKG1vZCwgcmVxdWVzdCkge1xuICByZXR1cm4gbW9kLnJlcXVpcmUocmVxdWVzdCk7XG59XG5cbi8vIE9ubHkgaW5zdGFsbCBvbmNlIGlmIGNhbGxlZCBtdWx0aXBsZSB0aW1lc1xudmFyIGVycm9yRm9ybWF0dGVySW5zdGFsbGVkID0gZmFsc2U7XG52YXIgdW5jYXVnaHRTaGltSW5zdGFsbGVkID0gZmFsc2U7XG5cbi8vIElmIHRydWUsIHRoZSBjYWNoZXMgYXJlIHJlc2V0IGJlZm9yZSBhIHN0YWNrIHRyYWNlIGZvcm1hdHRpbmcgb3BlcmF0aW9uXG52YXIgZW1wdHlDYWNoZUJldHdlZW5PcGVyYXRpb25zID0gZmFsc2U7XG5cbi8vIFN1cHBvcnRzIHticm93c2VyLCBub2RlLCBhdXRvfVxudmFyIGVudmlyb25tZW50ID0gXCJhdXRvXCI7XG5cbi8vIE1hcHMgYSBmaWxlIHBhdGggdG8gYSBzdHJpbmcgY29udGFpbmluZyB0aGUgZmlsZSBjb250ZW50c1xudmFyIGZpbGVDb250ZW50c0NhY2hlID0ge307XG5cbi8vIE1hcHMgYSBmaWxlIHBhdGggdG8gYSBzb3VyY2UgbWFwIGZvciB0aGF0IGZpbGVcbnZhciBzb3VyY2VNYXBDYWNoZSA9IHt9O1xuXG4vLyBSZWdleCBmb3IgZGV0ZWN0aW5nIHNvdXJjZSBtYXBzXG52YXIgcmVTb3VyY2VNYXAgPSAvXmRhdGE6YXBwbGljYXRpb25cXC9qc29uW14sXStiYXNlNjQsLztcblxuLy8gUHJpb3JpdHkgbGlzdCBvZiByZXRyaWV2ZSBoYW5kbGVyc1xudmFyIHJldHJpZXZlRmlsZUhhbmRsZXJzID0gW107XG52YXIgcmV0cmlldmVNYXBIYW5kbGVycyA9IFtdO1xuXG5mdW5jdGlvbiBpc0luQnJvd3NlcigpIHtcbiAgaWYgKGVudmlyb25tZW50ID09PSBcImJyb3dzZXJcIilcbiAgICByZXR1cm4gdHJ1ZTtcbiAgaWYgKGVudmlyb25tZW50ID09PSBcIm5vZGVcIilcbiAgICByZXR1cm4gZmFsc2U7XG4gIHJldHVybiAoKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSAmJiAodHlwZW9mIFhNTEh0dHBSZXF1ZXN0ID09PSAnZnVuY3Rpb24nKSAmJiAhKHdpbmRvdy5yZXF1aXJlICYmIHdpbmRvdy5tb2R1bGUgJiYgd2luZG93LnByb2Nlc3MgJiYgd2luZG93LnByb2Nlc3MudHlwZSA9PT0gXCJyZW5kZXJlclwiKSk7XG59XG5cbmZ1bmN0aW9uIGhhc0dsb2JhbFByb2Nlc3NFdmVudEVtaXR0ZXIoKSB7XG4gIHJldHVybiAoKHR5cGVvZiBwcm9jZXNzID09PSAnb2JqZWN0JykgJiYgKHByb2Nlc3MgIT09IG51bGwpICYmICh0eXBlb2YgcHJvY2Vzcy5vbiA9PT0gJ2Z1bmN0aW9uJykpO1xufVxuXG5mdW5jdGlvbiBnbG9iYWxQcm9jZXNzVmVyc2lvbigpIHtcbiAgaWYgKCh0eXBlb2YgcHJvY2VzcyA9PT0gJ29iamVjdCcpICYmIChwcm9jZXNzICE9PSBudWxsKSkge1xuICAgIHJldHVybiBwcm9jZXNzLnZlcnNpb247XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuICcnO1xuICB9XG59XG5cbmZ1bmN0aW9uIGdsb2JhbFByb2Nlc3NTdGRlcnIoKSB7XG4gIGlmICgodHlwZW9mIHByb2Nlc3MgPT09ICdvYmplY3QnKSAmJiAocHJvY2VzcyAhPT0gbnVsbCkpIHtcbiAgICByZXR1cm4gcHJvY2Vzcy5zdGRlcnI7XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2xvYmFsUHJvY2Vzc0V4aXQoY29kZSkge1xuICBpZiAoKHR5cGVvZiBwcm9jZXNzID09PSAnb2JqZWN0JykgJiYgKHByb2Nlc3MgIT09IG51bGwpICYmICh0eXBlb2YgcHJvY2Vzcy5leGl0ID09PSAnZnVuY3Rpb24nKSkge1xuICAgIHJldHVybiBwcm9jZXNzLmV4aXQoY29kZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gaGFuZGxlckV4ZWMobGlzdCkge1xuICByZXR1cm4gZnVuY3Rpb24oYXJnKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgcmV0ID0gbGlzdFtpXShhcmcpO1xuICAgICAgaWYgKHJldCkge1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcbn1cblxudmFyIHJldHJpZXZlRmlsZSA9IGhhbmRsZXJFeGVjKHJldHJpZXZlRmlsZUhhbmRsZXJzKTtcblxucmV0cmlldmVGaWxlSGFuZGxlcnMucHVzaChmdW5jdGlvbihwYXRoKSB7XG4gIC8vIFRyaW0gdGhlIHBhdGggdG8gbWFrZSBzdXJlIHRoZXJlIGlzIG5vIGV4dHJhIHdoaXRlc3BhY2UuXG4gIHBhdGggPSBwYXRoLnRyaW0oKTtcbiAgaWYgKC9eZmlsZTovLnRlc3QocGF0aCkpIHtcbiAgICAvLyBleGlzdHNTeW5jL3JlYWRGaWxlU3luYyBjYW4ndCBoYW5kbGUgZmlsZSBwcm90b2NvbCwgYnV0IG9uY2Ugc3RyaXBwZWQsIGl0IHdvcmtzXG4gICAgcGF0aCA9IHBhdGgucmVwbGFjZSgvZmlsZTpcXC9cXC9cXC8oXFx3Oik/LywgZnVuY3Rpb24ocHJvdG9jb2wsIGRyaXZlKSB7XG4gICAgICByZXR1cm4gZHJpdmUgP1xuICAgICAgICAnJyA6IC8vIGZpbGU6Ly8vQzovZGlyL2ZpbGUgLT4gQzovZGlyL2ZpbGVcbiAgICAgICAgJy8nOyAvLyBmaWxlOi8vL3Jvb3QtZGlyL2ZpbGUgLT4gL3Jvb3QtZGlyL2ZpbGVcbiAgICB9KTtcbiAgfVxuICBpZiAocGF0aCBpbiBmaWxlQ29udGVudHNDYWNoZSkge1xuICAgIHJldHVybiBmaWxlQ29udGVudHNDYWNoZVtwYXRoXTtcbiAgfVxuXG4gIHZhciBjb250ZW50cyA9ICcnO1xuICB0cnkge1xuICAgIGlmICghZnMpIHtcbiAgICAgIC8vIFVzZSBTSkFYIGlmIHdlIGFyZSBpbiB0aGUgYnJvd3NlclxuICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgICAgeGhyLm9wZW4oJ0dFVCcsIHBhdGgsIC8qKiBhc3luYyAqLyBmYWxzZSk7XG4gICAgICB4aHIuc2VuZChudWxsKTtcbiAgICAgIGlmICh4aHIucmVhZHlTdGF0ZSA9PT0gNCAmJiB4aHIuc3RhdHVzID09PSAyMDApIHtcbiAgICAgICAgY29udGVudHMgPSB4aHIucmVzcG9uc2VUZXh0O1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoZnMuZXhpc3RzU3luYyhwYXRoKSkge1xuICAgICAgLy8gT3RoZXJ3aXNlLCB1c2UgdGhlIGZpbGVzeXN0ZW1cbiAgICAgIGNvbnRlbnRzID0gZnMucmVhZEZpbGVTeW5jKHBhdGgsICd1dGY4Jyk7XG4gICAgfVxuICB9IGNhdGNoIChlcikge1xuICAgIC8qIGlnbm9yZSBhbnkgZXJyb3JzICovXG4gIH1cblxuICByZXR1cm4gZmlsZUNvbnRlbnRzQ2FjaGVbcGF0aF0gPSBjb250ZW50cztcbn0pO1xuXG4vLyBTdXBwb3J0IFVSTHMgcmVsYXRpdmUgdG8gYSBkaXJlY3RvcnksIGJ1dCBiZSBjYXJlZnVsIGFib3V0IGEgcHJvdG9jb2wgcHJlZml4XG4vLyBpbiBjYXNlIHdlIGFyZSBpbiB0aGUgYnJvd3NlciAoaS5lLiBkaXJlY3RvcmllcyBtYXkgc3RhcnQgd2l0aCBcImh0dHA6Ly9cIiBvciBcImZpbGU6Ly8vXCIpXG5mdW5jdGlvbiBzdXBwb3J0UmVsYXRpdmVVUkwoZmlsZSwgdXJsKSB7XG4gIGlmICghZmlsZSkgcmV0dXJuIHVybDtcbiAgdmFyIGRpciA9IHBhdGguZGlybmFtZShmaWxlKTtcbiAgdmFyIG1hdGNoID0gL15cXHcrOlxcL1xcL1teXFwvXSovLmV4ZWMoZGlyKTtcbiAgdmFyIHByb3RvY29sID0gbWF0Y2ggPyBtYXRjaFswXSA6ICcnO1xuICB2YXIgc3RhcnRQYXRoID0gZGlyLnNsaWNlKHByb3RvY29sLmxlbmd0aCk7XG4gIGlmIChwcm90b2NvbCAmJiAvXlxcL1xcd1xcOi8udGVzdChzdGFydFBhdGgpKSB7XG4gICAgLy8gaGFuZGxlIGZpbGU6Ly8vQzovIHBhdGhzXG4gICAgcHJvdG9jb2wgKz0gJy8nO1xuICAgIHJldHVybiBwcm90b2NvbCArIHBhdGgucmVzb2x2ZShkaXIuc2xpY2UocHJvdG9jb2wubGVuZ3RoKSwgdXJsKS5yZXBsYWNlKC9cXFxcL2csICcvJyk7XG4gIH1cbiAgcmV0dXJuIHByb3RvY29sICsgcGF0aC5yZXNvbHZlKGRpci5zbGljZShwcm90b2NvbC5sZW5ndGgpLCB1cmwpO1xufVxuXG5mdW5jdGlvbiByZXRyaWV2ZVNvdXJjZU1hcFVSTChzb3VyY2UpIHtcbiAgdmFyIGZpbGVEYXRhO1xuXG4gIGlmIChpc0luQnJvd3NlcigpKSB7XG4gICAgIHRyeSB7XG4gICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgICAgIHhoci5vcGVuKCdHRVQnLCBzb3VyY2UsIGZhbHNlKTtcbiAgICAgICB4aHIuc2VuZChudWxsKTtcbiAgICAgICBmaWxlRGF0YSA9IHhoci5yZWFkeVN0YXRlID09PSA0ID8geGhyLnJlc3BvbnNlVGV4dCA6IG51bGw7XG5cbiAgICAgICAvLyBTdXBwb3J0IHByb3ZpZGluZyBhIHNvdXJjZU1hcHBpbmdVUkwgdmlhIHRoZSBTb3VyY2VNYXAgaGVhZGVyXG4gICAgICAgdmFyIHNvdXJjZU1hcEhlYWRlciA9IHhoci5nZXRSZXNwb25zZUhlYWRlcihcIlNvdXJjZU1hcFwiKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4aHIuZ2V0UmVzcG9uc2VIZWFkZXIoXCJYLVNvdXJjZU1hcFwiKTtcbiAgICAgICBpZiAoc291cmNlTWFwSGVhZGVyKSB7XG4gICAgICAgICByZXR1cm4gc291cmNlTWFwSGVhZGVyO1xuICAgICAgIH1cbiAgICAgfSBjYXRjaCAoZSkge1xuICAgICB9XG4gIH1cblxuICAvLyBHZXQgdGhlIFVSTCBvZiB0aGUgc291cmNlIG1hcFxuICBmaWxlRGF0YSA9IHJldHJpZXZlRmlsZShzb3VyY2UpO1xuICB2YXIgcmUgPSAvKD86XFwvXFwvW0AjXVtcXHNdKnNvdXJjZU1hcHBpbmdVUkw9KFteXFxzJ1wiXSspW1xcc10qJCl8KD86XFwvXFwqW0AjXVtcXHNdKnNvdXJjZU1hcHBpbmdVUkw9KFteXFxzKidcIl0rKVtcXHNdKig/OlxcKlxcLylbXFxzXSokKS9tZztcbiAgLy8gS2VlcCBleGVjdXRpbmcgdGhlIHNlYXJjaCB0byBmaW5kIHRoZSAqbGFzdCogc291cmNlTWFwcGluZ1VSTCB0byBhdm9pZFxuICAvLyBwaWNraW5nIHVwIHNvdXJjZU1hcHBpbmdVUkxzIGZyb20gY29tbWVudHMsIHN0cmluZ3MsIGV0Yy5cbiAgdmFyIGxhc3RNYXRjaCwgbWF0Y2g7XG4gIHdoaWxlIChtYXRjaCA9IHJlLmV4ZWMoZmlsZURhdGEpKSBsYXN0TWF0Y2ggPSBtYXRjaDtcbiAgaWYgKCFsYXN0TWF0Y2gpIHJldHVybiBudWxsO1xuICByZXR1cm4gbGFzdE1hdGNoWzFdO1xufTtcblxuLy8gQ2FuIGJlIG92ZXJyaWRkZW4gYnkgdGhlIHJldHJpZXZlU291cmNlTWFwIG9wdGlvbiB0byBpbnN0YWxsLiBUYWtlcyBhXG4vLyBnZW5lcmF0ZWQgc291cmNlIGZpbGVuYW1lOyByZXR1cm5zIGEge21hcCwgb3B0aW9uYWwgdXJsfSBvYmplY3QsIG9yIG51bGwgaWZcbi8vIHRoZXJlIGlzIG5vIHNvdXJjZSBtYXAuICBUaGUgbWFwIGZpZWxkIG1heSBiZSBlaXRoZXIgYSBzdHJpbmcgb3IgdGhlIHBhcnNlZFxuLy8gSlNPTiBvYmplY3QgKGllLCBpdCBtdXN0IGJlIGEgdmFsaWQgYXJndW1lbnQgdG8gdGhlIFNvdXJjZU1hcENvbnN1bWVyXG4vLyBjb25zdHJ1Y3RvcikuXG52YXIgcmV0cmlldmVTb3VyY2VNYXAgPSBoYW5kbGVyRXhlYyhyZXRyaWV2ZU1hcEhhbmRsZXJzKTtcbnJldHJpZXZlTWFwSGFuZGxlcnMucHVzaChmdW5jdGlvbihzb3VyY2UpIHtcbiAgdmFyIHNvdXJjZU1hcHBpbmdVUkwgPSByZXRyaWV2ZVNvdXJjZU1hcFVSTChzb3VyY2UpO1xuICBpZiAoIXNvdXJjZU1hcHBpbmdVUkwpIHJldHVybiBudWxsO1xuXG4gIC8vIFJlYWQgdGhlIGNvbnRlbnRzIG9mIHRoZSBzb3VyY2UgbWFwXG4gIHZhciBzb3VyY2VNYXBEYXRhO1xuICBpZiAocmVTb3VyY2VNYXAudGVzdChzb3VyY2VNYXBwaW5nVVJMKSkge1xuICAgIC8vIFN1cHBvcnQgc291cmNlIG1hcCBVUkwgYXMgYSBkYXRhIHVybFxuICAgIHZhciByYXdEYXRhID0gc291cmNlTWFwcGluZ1VSTC5zbGljZShzb3VyY2VNYXBwaW5nVVJMLmluZGV4T2YoJywnKSArIDEpO1xuICAgIHNvdXJjZU1hcERhdGEgPSBidWZmZXJGcm9tKHJhd0RhdGEsIFwiYmFzZTY0XCIpLnRvU3RyaW5nKCk7XG4gICAgc291cmNlTWFwcGluZ1VSTCA9IHNvdXJjZTtcbiAgfSBlbHNlIHtcbiAgICAvLyBTdXBwb3J0IHNvdXJjZSBtYXAgVVJMcyByZWxhdGl2ZSB0byB0aGUgc291cmNlIFVSTFxuICAgIHNvdXJjZU1hcHBpbmdVUkwgPSBzdXBwb3J0UmVsYXRpdmVVUkwoc291cmNlLCBzb3VyY2VNYXBwaW5nVVJMKTtcbiAgICBzb3VyY2VNYXBEYXRhID0gcmV0cmlldmVGaWxlKHNvdXJjZU1hcHBpbmdVUkwpO1xuICB9XG5cbiAgaWYgKCFzb3VyY2VNYXBEYXRhKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHVybDogc291cmNlTWFwcGluZ1VSTCxcbiAgICBtYXA6IHNvdXJjZU1hcERhdGFcbiAgfTtcbn0pO1xuXG5mdW5jdGlvbiBtYXBTb3VyY2VQb3NpdGlvbihwb3NpdGlvbikge1xuICB2YXIgc291cmNlTWFwID0gc291cmNlTWFwQ2FjaGVbcG9zaXRpb24uc291cmNlXTtcbiAgaWYgKCFzb3VyY2VNYXApIHtcbiAgICAvLyBDYWxsIHRoZSAob3ZlcnJpZGVhYmxlKSByZXRyaWV2ZVNvdXJjZU1hcCBmdW5jdGlvbiB0byBnZXQgdGhlIHNvdXJjZSBtYXAuXG4gICAgdmFyIHVybEFuZE1hcCA9IHJldHJpZXZlU291cmNlTWFwKHBvc2l0aW9uLnNvdXJjZSk7XG4gICAgaWYgKHVybEFuZE1hcCkge1xuICAgICAgc291cmNlTWFwID0gc291cmNlTWFwQ2FjaGVbcG9zaXRpb24uc291cmNlXSA9IHtcbiAgICAgICAgdXJsOiB1cmxBbmRNYXAudXJsLFxuICAgICAgICBtYXA6IG5ldyBTb3VyY2VNYXBDb25zdW1lcih1cmxBbmRNYXAubWFwKVxuICAgICAgfTtcblxuICAgICAgLy8gTG9hZCBhbGwgc291cmNlcyBzdG9yZWQgaW5saW5lIHdpdGggdGhlIHNvdXJjZSBtYXAgaW50byB0aGUgZmlsZSBjYWNoZVxuICAgICAgLy8gdG8gcHJldGVuZCBsaWtlIHRoZXkgYXJlIGFscmVhZHkgbG9hZGVkLiBUaGV5IG1heSBub3QgZXhpc3Qgb24gZGlzay5cbiAgICAgIGlmIChzb3VyY2VNYXAubWFwLnNvdXJjZXNDb250ZW50KSB7XG4gICAgICAgIHNvdXJjZU1hcC5tYXAuc291cmNlcy5mb3JFYWNoKGZ1bmN0aW9uKHNvdXJjZSwgaSkge1xuICAgICAgICAgIHZhciBjb250ZW50cyA9IHNvdXJjZU1hcC5tYXAuc291cmNlc0NvbnRlbnRbaV07XG4gICAgICAgICAgaWYgKGNvbnRlbnRzKSB7XG4gICAgICAgICAgICB2YXIgdXJsID0gc3VwcG9ydFJlbGF0aXZlVVJMKHNvdXJjZU1hcC51cmwsIHNvdXJjZSk7XG4gICAgICAgICAgICBmaWxlQ29udGVudHNDYWNoZVt1cmxdID0gY29udGVudHM7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc291cmNlTWFwID0gc291cmNlTWFwQ2FjaGVbcG9zaXRpb24uc291cmNlXSA9IHtcbiAgICAgICAgdXJsOiBudWxsLFxuICAgICAgICBtYXA6IG51bGxcbiAgICAgIH07XG4gICAgfVxuICB9XG5cbiAgLy8gUmVzb2x2ZSB0aGUgc291cmNlIFVSTCByZWxhdGl2ZSB0byB0aGUgVVJMIG9mIHRoZSBzb3VyY2UgbWFwXG4gIGlmIChzb3VyY2VNYXAgJiYgc291cmNlTWFwLm1hcCAmJiB0eXBlb2Ygc291cmNlTWFwLm1hcC5vcmlnaW5hbFBvc2l0aW9uRm9yID09PSAnZnVuY3Rpb24nKSB7XG4gICAgdmFyIG9yaWdpbmFsUG9zaXRpb24gPSBzb3VyY2VNYXAubWFwLm9yaWdpbmFsUG9zaXRpb25Gb3IocG9zaXRpb24pO1xuXG4gICAgLy8gT25seSByZXR1cm4gdGhlIG9yaWdpbmFsIHBvc2l0aW9uIGlmIGEgbWF0Y2hpbmcgbGluZSB3YXMgZm91bmQuIElmIG5vXG4gICAgLy8gbWF0Y2hpbmcgbGluZSBpcyBmb3VuZCB0aGVuIHdlIHJldHVybiBwb3NpdGlvbiBpbnN0ZWFkLCB3aGljaCB3aWxsIGNhdXNlXG4gICAgLy8gdGhlIHN0YWNrIHRyYWNlIHRvIHByaW50IHRoZSBwYXRoIGFuZCBsaW5lIGZvciB0aGUgY29tcGlsZWQgZmlsZS4gSXQgaXNcbiAgICAvLyBiZXR0ZXIgdG8gZ2l2ZSBhIHByZWNpc2UgbG9jYXRpb24gaW4gdGhlIGNvbXBpbGVkIGZpbGUgdGhhbiBhIHZhZ3VlXG4gICAgLy8gbG9jYXRpb24gaW4gdGhlIG9yaWdpbmFsIGZpbGUuXG4gICAgaWYgKG9yaWdpbmFsUG9zaXRpb24uc291cmNlICE9PSBudWxsKSB7XG4gICAgICBvcmlnaW5hbFBvc2l0aW9uLnNvdXJjZSA9IHN1cHBvcnRSZWxhdGl2ZVVSTChcbiAgICAgICAgc291cmNlTWFwLnVybCwgb3JpZ2luYWxQb3NpdGlvbi5zb3VyY2UpO1xuICAgICAgcmV0dXJuIG9yaWdpbmFsUG9zaXRpb247XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHBvc2l0aW9uO1xufVxuXG4vLyBQYXJzZXMgY29kZSBnZW5lcmF0ZWQgYnkgRm9ybWF0RXZhbE9yaWdpbigpLCBhIGZ1bmN0aW9uIGluc2lkZSBWODpcbi8vIGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3Avdjgvc291cmNlL2Jyb3dzZS90cnVuay9zcmMvbWVzc2FnZXMuanNcbmZ1bmN0aW9uIG1hcEV2YWxPcmlnaW4ob3JpZ2luKSB7XG4gIC8vIE1vc3QgZXZhbCgpIGNhbGxzIGFyZSBpbiB0aGlzIGZvcm1hdFxuICB2YXIgbWF0Y2ggPSAvXmV2YWwgYXQgKFteKF0rKSBcXCgoLispOihcXGQrKTooXFxkKylcXCkkLy5leGVjKG9yaWdpbik7XG4gIGlmIChtYXRjaCkge1xuICAgIHZhciBwb3NpdGlvbiA9IG1hcFNvdXJjZVBvc2l0aW9uKHtcbiAgICAgIHNvdXJjZTogbWF0Y2hbMl0sXG4gICAgICBsaW5lOiArbWF0Y2hbM10sXG4gICAgICBjb2x1bW46IG1hdGNoWzRdIC0gMVxuICAgIH0pO1xuICAgIHJldHVybiAnZXZhbCBhdCAnICsgbWF0Y2hbMV0gKyAnICgnICsgcG9zaXRpb24uc291cmNlICsgJzonICtcbiAgICAgIHBvc2l0aW9uLmxpbmUgKyAnOicgKyAocG9zaXRpb24uY29sdW1uICsgMSkgKyAnKSc7XG4gIH1cblxuICAvLyBQYXJzZSBuZXN0ZWQgZXZhbCgpIGNhbGxzIHVzaW5nIHJlY3Vyc2lvblxuICBtYXRjaCA9IC9eZXZhbCBhdCAoW14oXSspIFxcKCguKylcXCkkLy5leGVjKG9yaWdpbik7XG4gIGlmIChtYXRjaCkge1xuICAgIHJldHVybiAnZXZhbCBhdCAnICsgbWF0Y2hbMV0gKyAnICgnICsgbWFwRXZhbE9yaWdpbihtYXRjaFsyXSkgKyAnKSc7XG4gIH1cblxuICAvLyBNYWtlIHN1cmUgd2Ugc3RpbGwgcmV0dXJuIHVzZWZ1bCBpbmZvcm1hdGlvbiBpZiB3ZSBkaWRuJ3QgZmluZCBhbnl0aGluZ1xuICByZXR1cm4gb3JpZ2luO1xufVxuXG4vLyBUaGlzIGlzIGNvcGllZCBhbG1vc3QgdmVyYmF0aW0gZnJvbSB0aGUgVjggc291cmNlIGNvZGUgYXRcbi8vIGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3Avdjgvc291cmNlL2Jyb3dzZS90cnVuay9zcmMvbWVzc2FnZXMuanMuIFRoZVxuLy8gaW1wbGVtZW50YXRpb24gb2Ygd3JhcENhbGxTaXRlKCkgdXNlZCB0byBqdXN0IGZvcndhcmQgdG8gdGhlIGFjdHVhbCBzb3VyY2Vcbi8vIGNvZGUgb2YgQ2FsbFNpdGUucHJvdG90eXBlLnRvU3RyaW5nIGJ1dCB1bmZvcnR1bmF0ZWx5IGEgbmV3IHJlbGVhc2Ugb2YgVjhcbi8vIGRpZCBzb21ldGhpbmcgdG8gdGhlIHByb3RvdHlwZSBjaGFpbiBhbmQgYnJva2UgdGhlIHNoaW0uIFRoZSBvbmx5IGZpeCBJXG4vLyBjb3VsZCBmaW5kIHdhcyBjb3B5L3Bhc3RlLlxuZnVuY3Rpb24gQ2FsbFNpdGVUb1N0cmluZygpIHtcbiAgdmFyIGZpbGVOYW1lO1xuICB2YXIgZmlsZUxvY2F0aW9uID0gXCJcIjtcbiAgaWYgKHRoaXMuaXNOYXRpdmUoKSkge1xuICAgIGZpbGVMb2NhdGlvbiA9IFwibmF0aXZlXCI7XG4gIH0gZWxzZSB7XG4gICAgZmlsZU5hbWUgPSB0aGlzLmdldFNjcmlwdE5hbWVPclNvdXJjZVVSTCgpO1xuICAgIGlmICghZmlsZU5hbWUgJiYgdGhpcy5pc0V2YWwoKSkge1xuICAgICAgZmlsZUxvY2F0aW9uID0gdGhpcy5nZXRFdmFsT3JpZ2luKCk7XG4gICAgICBmaWxlTG9jYXRpb24gKz0gXCIsIFwiOyAgLy8gRXhwZWN0aW5nIHNvdXJjZSBwb3NpdGlvbiB0byBmb2xsb3cuXG4gICAgfVxuXG4gICAgaWYgKGZpbGVOYW1lKSB7XG4gICAgICBmaWxlTG9jYXRpb24gKz0gZmlsZU5hbWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFNvdXJjZSBjb2RlIGRvZXMgbm90IG9yaWdpbmF0ZSBmcm9tIGEgZmlsZSBhbmQgaXMgbm90IG5hdGl2ZSwgYnV0IHdlXG4gICAgICAvLyBjYW4gc3RpbGwgZ2V0IHRoZSBzb3VyY2UgcG9zaXRpb24gaW5zaWRlIHRoZSBzb3VyY2Ugc3RyaW5nLCBlLmcuIGluXG4gICAgICAvLyBhbiBldmFsIHN0cmluZy5cbiAgICAgIGZpbGVMb2NhdGlvbiArPSBcIjxhbm9ueW1vdXM+XCI7XG4gICAgfVxuICAgIHZhciBsaW5lTnVtYmVyID0gdGhpcy5nZXRMaW5lTnVtYmVyKCk7XG4gICAgaWYgKGxpbmVOdW1iZXIgIT0gbnVsbCkge1xuICAgICAgZmlsZUxvY2F0aW9uICs9IFwiOlwiICsgbGluZU51bWJlcjtcbiAgICAgIHZhciBjb2x1bW5OdW1iZXIgPSB0aGlzLmdldENvbHVtbk51bWJlcigpO1xuICAgICAgaWYgKGNvbHVtbk51bWJlcikge1xuICAgICAgICBmaWxlTG9jYXRpb24gKz0gXCI6XCIgKyBjb2x1bW5OdW1iZXI7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgdmFyIGxpbmUgPSBcIlwiO1xuICB2YXIgZnVuY3Rpb25OYW1lID0gdGhpcy5nZXRGdW5jdGlvbk5hbWUoKTtcbiAgdmFyIGFkZFN1ZmZpeCA9IHRydWU7XG4gIHZhciBpc0NvbnN0cnVjdG9yID0gdGhpcy5pc0NvbnN0cnVjdG9yKCk7XG4gIHZhciBpc01ldGhvZENhbGwgPSAhKHRoaXMuaXNUb3BsZXZlbCgpIHx8IGlzQ29uc3RydWN0b3IpO1xuICBpZiAoaXNNZXRob2RDYWxsKSB7XG4gICAgdmFyIHR5cGVOYW1lID0gdGhpcy5nZXRUeXBlTmFtZSgpO1xuICAgIC8vIEZpeGVzIHNoaW0gdG8gYmUgYmFja3dhcmQgY29tcGF0YWJsZSB3aXRoIE5vZGUgdjAgdG8gdjRcbiAgICBpZiAodHlwZU5hbWUgPT09IFwiW29iamVjdCBPYmplY3RdXCIpIHtcbiAgICAgIHR5cGVOYW1lID0gXCJudWxsXCI7XG4gICAgfVxuICAgIHZhciBtZXRob2ROYW1lID0gdGhpcy5nZXRNZXRob2ROYW1lKCk7XG4gICAgaWYgKGZ1bmN0aW9uTmFtZSkge1xuICAgICAgaWYgKHR5cGVOYW1lICYmIGZ1bmN0aW9uTmFtZS5pbmRleE9mKHR5cGVOYW1lKSAhPSAwKSB7XG4gICAgICAgIGxpbmUgKz0gdHlwZU5hbWUgKyBcIi5cIjtcbiAgICAgIH1cbiAgICAgIGxpbmUgKz0gZnVuY3Rpb25OYW1lO1xuICAgICAgaWYgKG1ldGhvZE5hbWUgJiYgZnVuY3Rpb25OYW1lLmluZGV4T2YoXCIuXCIgKyBtZXRob2ROYW1lKSAhPSBmdW5jdGlvbk5hbWUubGVuZ3RoIC0gbWV0aG9kTmFtZS5sZW5ndGggLSAxKSB7XG4gICAgICAgIGxpbmUgKz0gXCIgW2FzIFwiICsgbWV0aG9kTmFtZSArIFwiXVwiO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBsaW5lICs9IHR5cGVOYW1lICsgXCIuXCIgKyAobWV0aG9kTmFtZSB8fCBcIjxhbm9ueW1vdXM+XCIpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChpc0NvbnN0cnVjdG9yKSB7XG4gICAgbGluZSArPSBcIm5ldyBcIiArIChmdW5jdGlvbk5hbWUgfHwgXCI8YW5vbnltb3VzPlwiKTtcbiAgfSBlbHNlIGlmIChmdW5jdGlvbk5hbWUpIHtcbiAgICBsaW5lICs9IGZ1bmN0aW9uTmFtZTtcbiAgfSBlbHNlIHtcbiAgICBsaW5lICs9IGZpbGVMb2NhdGlvbjtcbiAgICBhZGRTdWZmaXggPSBmYWxzZTtcbiAgfVxuICBpZiAoYWRkU3VmZml4KSB7XG4gICAgbGluZSArPSBcIiAoXCIgKyBmaWxlTG9jYXRpb24gKyBcIilcIjtcbiAgfVxuICByZXR1cm4gbGluZTtcbn1cblxuZnVuY3Rpb24gY2xvbmVDYWxsU2l0ZShmcmFtZSkge1xuICB2YXIgb2JqZWN0ID0ge307XG4gIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKE9iamVjdC5nZXRQcm90b3R5cGVPZihmcmFtZSkpLmZvckVhY2goZnVuY3Rpb24obmFtZSkge1xuICAgIG9iamVjdFtuYW1lXSA9IC9eKD86aXN8Z2V0KS8udGVzdChuYW1lKSA/IGZ1bmN0aW9uKCkgeyByZXR1cm4gZnJhbWVbbmFtZV0uY2FsbChmcmFtZSk7IH0gOiBmcmFtZVtuYW1lXTtcbiAgfSk7XG4gIG9iamVjdC50b1N0cmluZyA9IENhbGxTaXRlVG9TdHJpbmc7XG4gIHJldHVybiBvYmplY3Q7XG59XG5cbmZ1bmN0aW9uIHdyYXBDYWxsU2l0ZShmcmFtZSwgc3RhdGUpIHtcbiAgLy8gcHJvdmlkZXMgaW50ZXJmYWNlIGJhY2t3YXJkIGNvbXBhdGliaWxpdHlcbiAgaWYgKHN0YXRlID09PSB1bmRlZmluZWQpIHtcbiAgICBzdGF0ZSA9IHsgbmV4dFBvc2l0aW9uOiBudWxsLCBjdXJQb3NpdGlvbjogbnVsbCB9XG4gIH1cbiAgaWYoZnJhbWUuaXNOYXRpdmUoKSkge1xuICAgIHN0YXRlLmN1clBvc2l0aW9uID0gbnVsbDtcbiAgICByZXR1cm4gZnJhbWU7XG4gIH1cblxuICAvLyBNb3N0IGNhbGwgc2l0ZXMgd2lsbCByZXR1cm4gdGhlIHNvdXJjZSBmaWxlIGZyb20gZ2V0RmlsZU5hbWUoKSwgYnV0IGNvZGVcbiAgLy8gcGFzc2VkIHRvIGV2YWwoKSBlbmRpbmcgaW4gXCIvLyMgc291cmNlVVJMPS4uLlwiIHdpbGwgcmV0dXJuIHRoZSBzb3VyY2UgZmlsZVxuICAvLyBmcm9tIGdldFNjcmlwdE5hbWVPclNvdXJjZVVSTCgpIGluc3RlYWRcbiAgdmFyIHNvdXJjZSA9IGZyYW1lLmdldEZpbGVOYW1lKCkgfHwgZnJhbWUuZ2V0U2NyaXB0TmFtZU9yU291cmNlVVJMKCk7XG4gIGlmIChzb3VyY2UpIHtcbiAgICB2YXIgbGluZSA9IGZyYW1lLmdldExpbmVOdW1iZXIoKTtcbiAgICB2YXIgY29sdW1uID0gZnJhbWUuZ2V0Q29sdW1uTnVtYmVyKCkgLSAxO1xuXG4gICAgLy8gRml4IHBvc2l0aW9uIGluIE5vZGUgd2hlcmUgc29tZSAoaW50ZXJuYWwpIGNvZGUgaXMgcHJlcGVuZGVkLlxuICAgIC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vZXZhbncvbm9kZS1zb3VyY2UtbWFwLXN1cHBvcnQvaXNzdWVzLzM2XG4gICAgLy8gSGVhZGVyIHJlbW92ZWQgaW4gbm9kZSBhdCBeMTAuMTYgfHwgPj0xMS4xMS4wXG4gICAgLy8gdjExIGlzIG5vdCBhbiBMVFMgY2FuZGlkYXRlLCB3ZSBjYW4ganVzdCB0ZXN0IHRoZSBvbmUgdmVyc2lvbiB3aXRoIGl0LlxuICAgIC8vIFRlc3Qgbm9kZSB2ZXJzaW9ucyBmb3I6IDEwLjE2LTE5LCAxMC4yMCssIDEyLTE5LCAyMC05OSwgMTAwKywgb3IgMTEuMTFcbiAgICB2YXIgbm9IZWFkZXIgPSAvXnYoMTBcXC4xWzYtOV18MTBcXC5bMi05XVswLTldfDEwXFwuWzAtOV17Myx9fDFbMi05XVxcZCp8WzItOV1cXGR8XFxkezMsfXwxMVxcLjExKS87XG4gICAgdmFyIGhlYWRlckxlbmd0aCA9IG5vSGVhZGVyLnRlc3QoZ2xvYmFsUHJvY2Vzc1ZlcnNpb24oKSkgPyAwIDogNjI7XG4gICAgaWYgKGxpbmUgPT09IDEgJiYgY29sdW1uID4gaGVhZGVyTGVuZ3RoICYmICFpc0luQnJvd3NlcigpICYmICFmcmFtZS5pc0V2YWwoKSkge1xuICAgICAgY29sdW1uIC09IGhlYWRlckxlbmd0aDtcbiAgICB9XG5cbiAgICB2YXIgcG9zaXRpb24gPSBtYXBTb3VyY2VQb3NpdGlvbih7XG4gICAgICBzb3VyY2U6IHNvdXJjZSxcbiAgICAgIGxpbmU6IGxpbmUsXG4gICAgICBjb2x1bW46IGNvbHVtblxuICAgIH0pO1xuICAgIHN0YXRlLmN1clBvc2l0aW9uID0gcG9zaXRpb247XG4gICAgZnJhbWUgPSBjbG9uZUNhbGxTaXRlKGZyYW1lKTtcbiAgICB2YXIgb3JpZ2luYWxGdW5jdGlvbk5hbWUgPSBmcmFtZS5nZXRGdW5jdGlvbk5hbWU7XG4gICAgZnJhbWUuZ2V0RnVuY3Rpb25OYW1lID0gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoc3RhdGUubmV4dFBvc2l0aW9uID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIG9yaWdpbmFsRnVuY3Rpb25OYW1lKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gc3RhdGUubmV4dFBvc2l0aW9uLm5hbWUgfHwgb3JpZ2luYWxGdW5jdGlvbk5hbWUoKTtcbiAgICB9O1xuICAgIGZyYW1lLmdldEZpbGVOYW1lID0gZnVuY3Rpb24oKSB7IHJldHVybiBwb3NpdGlvbi5zb3VyY2U7IH07XG4gICAgZnJhbWUuZ2V0TGluZU51bWJlciA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gcG9zaXRpb24ubGluZTsgfTtcbiAgICBmcmFtZS5nZXRDb2x1bW5OdW1iZXIgPSBmdW5jdGlvbigpIHsgcmV0dXJuIHBvc2l0aW9uLmNvbHVtbiArIDE7IH07XG4gICAgZnJhbWUuZ2V0U2NyaXB0TmFtZU9yU291cmNlVVJMID0gZnVuY3Rpb24oKSB7IHJldHVybiBwb3NpdGlvbi5zb3VyY2U7IH07XG4gICAgcmV0dXJuIGZyYW1lO1xuICB9XG5cbiAgLy8gQ29kZSBjYWxsZWQgdXNpbmcgZXZhbCgpIG5lZWRzIHNwZWNpYWwgaGFuZGxpbmdcbiAgdmFyIG9yaWdpbiA9IGZyYW1lLmlzRXZhbCgpICYmIGZyYW1lLmdldEV2YWxPcmlnaW4oKTtcbiAgaWYgKG9yaWdpbikge1xuICAgIG9yaWdpbiA9IG1hcEV2YWxPcmlnaW4ob3JpZ2luKTtcbiAgICBmcmFtZSA9IGNsb25lQ2FsbFNpdGUoZnJhbWUpO1xuICAgIGZyYW1lLmdldEV2YWxPcmlnaW4gPSBmdW5jdGlvbigpIHsgcmV0dXJuIG9yaWdpbjsgfTtcbiAgICByZXR1cm4gZnJhbWU7XG4gIH1cblxuICAvLyBJZiB3ZSBnZXQgaGVyZSB0aGVuIHdlIHdlcmUgdW5hYmxlIHRvIGNoYW5nZSB0aGUgc291cmNlIHBvc2l0aW9uXG4gIHJldHVybiBmcmFtZTtcbn1cblxuLy8gVGhpcyBmdW5jdGlvbiBpcyBwYXJ0IG9mIHRoZSBWOCBzdGFjayB0cmFjZSBBUEksIGZvciBtb3JlIGluZm8gc2VlOlxuLy8gaHR0cHM6Ly92OC5kZXYvZG9jcy9zdGFjay10cmFjZS1hcGlcbmZ1bmN0aW9uIHByZXBhcmVTdGFja1RyYWNlKGVycm9yLCBzdGFjaykge1xuICBpZiAoZW1wdHlDYWNoZUJldHdlZW5PcGVyYXRpb25zKSB7XG4gICAgZmlsZUNvbnRlbnRzQ2FjaGUgPSB7fTtcbiAgICBzb3VyY2VNYXBDYWNoZSA9IHt9O1xuICB9XG5cbiAgdmFyIG5hbWUgPSBlcnJvci5uYW1lIHx8ICdFcnJvcic7XG4gIHZhciBtZXNzYWdlID0gZXJyb3IubWVzc2FnZSB8fCAnJztcbiAgdmFyIGVycm9yU3RyaW5nID0gbmFtZSArIFwiOiBcIiArIG1lc3NhZ2U7XG5cbiAgdmFyIHN0YXRlID0geyBuZXh0UG9zaXRpb246IG51bGwsIGN1clBvc2l0aW9uOiBudWxsIH07XG4gIHZhciBwcm9jZXNzZWRTdGFjayA9IFtdO1xuICBmb3IgKHZhciBpID0gc3RhY2subGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICBwcm9jZXNzZWRTdGFjay5wdXNoKCdcXG4gICAgYXQgJyArIHdyYXBDYWxsU2l0ZShzdGFja1tpXSwgc3RhdGUpKTtcbiAgICBzdGF0ZS5uZXh0UG9zaXRpb24gPSBzdGF0ZS5jdXJQb3NpdGlvbjtcbiAgfVxuICBzdGF0ZS5jdXJQb3NpdGlvbiA9IHN0YXRlLm5leHRQb3NpdGlvbiA9IG51bGw7XG4gIHJldHVybiBlcnJvclN0cmluZyArIHByb2Nlc3NlZFN0YWNrLnJldmVyc2UoKS5qb2luKCcnKTtcbn1cblxuLy8gR2VuZXJhdGUgcG9zaXRpb24gYW5kIHNuaXBwZXQgb2Ygb3JpZ2luYWwgc291cmNlIHdpdGggcG9pbnRlclxuZnVuY3Rpb24gZ2V0RXJyb3JTb3VyY2UoZXJyb3IpIHtcbiAgdmFyIG1hdGNoID0gL1xcbiAgICBhdCBbXihdKyBcXCgoLiopOihcXGQrKTooXFxkKylcXCkvLmV4ZWMoZXJyb3Iuc3RhY2spO1xuICBpZiAobWF0Y2gpIHtcbiAgICB2YXIgc291cmNlID0gbWF0Y2hbMV07XG4gICAgdmFyIGxpbmUgPSArbWF0Y2hbMl07XG4gICAgdmFyIGNvbHVtbiA9ICttYXRjaFszXTtcblxuICAgIC8vIFN1cHBvcnQgdGhlIGlubGluZSBzb3VyY2VDb250ZW50cyBpbnNpZGUgdGhlIHNvdXJjZSBtYXBcbiAgICB2YXIgY29udGVudHMgPSBmaWxlQ29udGVudHNDYWNoZVtzb3VyY2VdO1xuXG4gICAgLy8gU3VwcG9ydCBmaWxlcyBvbiBkaXNrXG4gICAgaWYgKCFjb250ZW50cyAmJiBmcyAmJiBmcy5leGlzdHNTeW5jKHNvdXJjZSkpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnRlbnRzID0gZnMucmVhZEZpbGVTeW5jKHNvdXJjZSwgJ3V0ZjgnKTtcbiAgICAgIH0gY2F0Y2ggKGVyKSB7XG4gICAgICAgIGNvbnRlbnRzID0gJyc7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gRm9ybWF0IHRoZSBsaW5lIGZyb20gdGhlIG9yaWdpbmFsIHNvdXJjZSBjb2RlIGxpa2Ugbm9kZSBkb2VzXG4gICAgaWYgKGNvbnRlbnRzKSB7XG4gICAgICB2YXIgY29kZSA9IGNvbnRlbnRzLnNwbGl0KC8oPzpcXHJcXG58XFxyfFxcbikvKVtsaW5lIC0gMV07XG4gICAgICBpZiAoY29kZSkge1xuICAgICAgICByZXR1cm4gc291cmNlICsgJzonICsgbGluZSArICdcXG4nICsgY29kZSArICdcXG4nICtcbiAgICAgICAgICBuZXcgQXJyYXkoY29sdW1uKS5qb2luKCcgJykgKyAnXic7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG5mdW5jdGlvbiBwcmludEVycm9yQW5kRXhpdCAoZXJyb3IpIHtcbiAgdmFyIHNvdXJjZSA9IGdldEVycm9yU291cmNlKGVycm9yKTtcblxuICAvLyBFbnN1cmUgZXJyb3IgaXMgcHJpbnRlZCBzeW5jaHJvbm91c2x5IGFuZCBub3QgdHJ1bmNhdGVkXG4gIHZhciBzdGRlcnIgPSBnbG9iYWxQcm9jZXNzU3RkZXJyKCk7XG4gIGlmIChzdGRlcnIgJiYgc3RkZXJyLl9oYW5kbGUgJiYgc3RkZXJyLl9oYW5kbGUuc2V0QmxvY2tpbmcpIHtcbiAgICBzdGRlcnIuX2hhbmRsZS5zZXRCbG9ja2luZyh0cnVlKTtcbiAgfVxuXG4gIGlmIChzb3VyY2UpIHtcbiAgICBjb25zb2xlLmVycm9yKCk7XG4gICAgY29uc29sZS5lcnJvcihzb3VyY2UpO1xuICB9XG5cbiAgY29uc29sZS5lcnJvcihlcnJvci5zdGFjayk7XG4gIGdsb2JhbFByb2Nlc3NFeGl0KDEpO1xufVxuXG5mdW5jdGlvbiBzaGltRW1pdFVuY2F1Z2h0RXhjZXB0aW9uICgpIHtcbiAgdmFyIG9yaWdFbWl0ID0gcHJvY2Vzcy5lbWl0O1xuXG4gIHByb2Nlc3MuZW1pdCA9IGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgaWYgKHR5cGUgPT09ICd1bmNhdWdodEV4Y2VwdGlvbicpIHtcbiAgICAgIHZhciBoYXNTdGFjayA9IChhcmd1bWVudHNbMV0gJiYgYXJndW1lbnRzWzFdLnN0YWNrKTtcbiAgICAgIHZhciBoYXNMaXN0ZW5lcnMgPSAodGhpcy5saXN0ZW5lcnModHlwZSkubGVuZ3RoID4gMCk7XG5cbiAgICAgIGlmIChoYXNTdGFjayAmJiAhaGFzTGlzdGVuZXJzKSB7XG4gICAgICAgIHJldHVybiBwcmludEVycm9yQW5kRXhpdChhcmd1bWVudHNbMV0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBvcmlnRW1pdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9O1xufVxuXG52YXIgb3JpZ2luYWxSZXRyaWV2ZUZpbGVIYW5kbGVycyA9IHJldHJpZXZlRmlsZUhhbmRsZXJzLnNsaWNlKDApO1xudmFyIG9yaWdpbmFsUmV0cmlldmVNYXBIYW5kbGVycyA9IHJldHJpZXZlTWFwSGFuZGxlcnMuc2xpY2UoMCk7XG5cbmV4cG9ydHMud3JhcENhbGxTaXRlID0gd3JhcENhbGxTaXRlO1xuZXhwb3J0cy5nZXRFcnJvclNvdXJjZSA9IGdldEVycm9yU291cmNlO1xuZXhwb3J0cy5tYXBTb3VyY2VQb3NpdGlvbiA9IG1hcFNvdXJjZVBvc2l0aW9uO1xuZXhwb3J0cy5yZXRyaWV2ZVNvdXJjZU1hcCA9IHJldHJpZXZlU291cmNlTWFwO1xuXG5leHBvcnRzLmluc3RhbGwgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gIGlmIChvcHRpb25zLmVudmlyb25tZW50KSB7XG4gICAgZW52aXJvbm1lbnQgPSBvcHRpb25zLmVudmlyb25tZW50O1xuICAgIGlmIChbXCJub2RlXCIsIFwiYnJvd3NlclwiLCBcImF1dG9cIl0uaW5kZXhPZihlbnZpcm9ubWVudCkgPT09IC0xKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJlbnZpcm9ubWVudCBcIiArIGVudmlyb25tZW50ICsgXCIgd2FzIHVua25vd24uIEF2YWlsYWJsZSBvcHRpb25zIGFyZSB7YXV0bywgYnJvd3Nlciwgbm9kZX1cIilcbiAgICB9XG4gIH1cblxuICAvLyBBbGxvdyBzb3VyY2VzIHRvIGJlIGZvdW5kIGJ5IG1ldGhvZHMgb3RoZXIgdGhhbiByZWFkaW5nIHRoZSBmaWxlc1xuICAvLyBkaXJlY3RseSBmcm9tIGRpc2suXG4gIGlmIChvcHRpb25zLnJldHJpZXZlRmlsZSkge1xuICAgIGlmIChvcHRpb25zLm92ZXJyaWRlUmV0cmlldmVGaWxlKSB7XG4gICAgICByZXRyaWV2ZUZpbGVIYW5kbGVycy5sZW5ndGggPSAwO1xuICAgIH1cblxuICAgIHJldHJpZXZlRmlsZUhhbmRsZXJzLnVuc2hpZnQob3B0aW9ucy5yZXRyaWV2ZUZpbGUpO1xuICB9XG5cbiAgLy8gQWxsb3cgc291cmNlIG1hcHMgdG8gYmUgZm91bmQgYnkgbWV0aG9kcyBvdGhlciB0aGFuIHJlYWRpbmcgdGhlIGZpbGVzXG4gIC8vIGRpcmVjdGx5IGZyb20gZGlzay5cbiAgaWYgKG9wdGlvbnMucmV0cmlldmVTb3VyY2VNYXApIHtcbiAgICBpZiAob3B0aW9ucy5vdmVycmlkZVJldHJpZXZlU291cmNlTWFwKSB7XG4gICAgICByZXRyaWV2ZU1hcEhhbmRsZXJzLmxlbmd0aCA9IDA7XG4gICAgfVxuXG4gICAgcmV0cmlldmVNYXBIYW5kbGVycy51bnNoaWZ0KG9wdGlvbnMucmV0cmlldmVTb3VyY2VNYXApO1xuICB9XG5cbiAgLy8gU3VwcG9ydCBydW50aW1lIHRyYW5zcGlsZXJzIHRoYXQgaW5jbHVkZSBpbmxpbmUgc291cmNlIG1hcHNcbiAgaWYgKG9wdGlvbnMuaG9va1JlcXVpcmUgJiYgIWlzSW5Ccm93c2VyKCkpIHtcbiAgICAvLyBVc2UgZHluYW1pY1JlcXVpcmUgdG8gYXZvaWQgaW5jbHVkaW5nIGluIGJyb3dzZXIgYnVuZGxlc1xuICAgIHZhciBNb2R1bGUgPSBkeW5hbWljUmVxdWlyZShtb2R1bGUsICdtb2R1bGUnKTtcbiAgICB2YXIgJGNvbXBpbGUgPSBNb2R1bGUucHJvdG90eXBlLl9jb21waWxlO1xuXG4gICAgaWYgKCEkY29tcGlsZS5fX3NvdXJjZU1hcFN1cHBvcnQpIHtcbiAgICAgIE1vZHVsZS5wcm90b3R5cGUuX2NvbXBpbGUgPSBmdW5jdGlvbihjb250ZW50LCBmaWxlbmFtZSkge1xuICAgICAgICBmaWxlQ29udGVudHNDYWNoZVtmaWxlbmFtZV0gPSBjb250ZW50O1xuICAgICAgICBzb3VyY2VNYXBDYWNoZVtmaWxlbmFtZV0gPSB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiAkY29tcGlsZS5jYWxsKHRoaXMsIGNvbnRlbnQsIGZpbGVuYW1lKTtcbiAgICAgIH07XG5cbiAgICAgIE1vZHVsZS5wcm90b3R5cGUuX2NvbXBpbGUuX19zb3VyY2VNYXBTdXBwb3J0ID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICAvLyBDb25maWd1cmUgb3B0aW9uc1xuICBpZiAoIWVtcHR5Q2FjaGVCZXR3ZWVuT3BlcmF0aW9ucykge1xuICAgIGVtcHR5Q2FjaGVCZXR3ZWVuT3BlcmF0aW9ucyA9ICdlbXB0eUNhY2hlQmV0d2Vlbk9wZXJhdGlvbnMnIGluIG9wdGlvbnMgP1xuICAgICAgb3B0aW9ucy5lbXB0eUNhY2hlQmV0d2Vlbk9wZXJhdGlvbnMgOiBmYWxzZTtcbiAgfVxuXG4gIC8vIEluc3RhbGwgdGhlIGVycm9yIHJlZm9ybWF0dGVyXG4gIGlmICghZXJyb3JGb3JtYXR0ZXJJbnN0YWxsZWQpIHtcbiAgICBlcnJvckZvcm1hdHRlckluc3RhbGxlZCA9IHRydWU7XG4gICAgRXJyb3IucHJlcGFyZVN0YWNrVHJhY2UgPSBwcmVwYXJlU3RhY2tUcmFjZTtcbiAgfVxuXG4gIGlmICghdW5jYXVnaHRTaGltSW5zdGFsbGVkKSB7XG4gICAgdmFyIGluc3RhbGxIYW5kbGVyID0gJ2hhbmRsZVVuY2F1Z2h0RXhjZXB0aW9ucycgaW4gb3B0aW9ucyA/XG4gICAgICBvcHRpb25zLmhhbmRsZVVuY2F1Z2h0RXhjZXB0aW9ucyA6IHRydWU7XG5cbiAgICAvLyBEbyBub3Qgb3ZlcnJpZGUgJ3VuY2F1Z2h0RXhjZXB0aW9uJyB3aXRoIG91ciBvd24gaGFuZGxlciBpbiBOb2RlLmpzXG4gICAgLy8gV29ya2VyIHRocmVhZHMuIFdvcmtlcnMgcGFzcyB0aGUgZXJyb3IgdG8gdGhlIG1haW4gdGhyZWFkIGFzIGFuIGV2ZW50LFxuICAgIC8vIHJhdGhlciB0aGFuIHByaW50aW5nIHNvbWV0aGluZyB0byBzdGRlcnIgYW5kIGV4aXRpbmcuXG4gICAgdHJ5IHtcbiAgICAgIC8vIFdlIG5lZWQgdG8gdXNlIGBkeW5hbWljUmVxdWlyZWAgYmVjYXVzZSBgcmVxdWlyZWAgb24gaXQncyBvd24gd2lsbCBiZSBvcHRpbWl6ZWQgYnkgV2ViUGFjay9Ccm93c2VyaWZ5LlxuICAgICAgdmFyIHdvcmtlcl90aHJlYWRzID0gZHluYW1pY1JlcXVpcmUobW9kdWxlLCAnd29ya2VyX3RocmVhZHMnKTtcbiAgICAgIGlmICh3b3JrZXJfdGhyZWFkcy5pc01haW5UaHJlYWQgPT09IGZhbHNlKSB7XG4gICAgICAgIGluc3RhbGxIYW5kbGVyID0gZmFsc2U7XG4gICAgICB9XG4gICAgfSBjYXRjaChlKSB7fVxuXG4gICAgLy8gUHJvdmlkZSB0aGUgb3B0aW9uIHRvIG5vdCBpbnN0YWxsIHRoZSB1bmNhdWdodCBleGNlcHRpb24gaGFuZGxlci4gVGhpcyBpc1xuICAgIC8vIHRvIHN1cHBvcnQgb3RoZXIgdW5jYXVnaHQgZXhjZXB0aW9uIGhhbmRsZXJzIChpbiB0ZXN0IGZyYW1ld29ya3MsIGZvclxuICAgIC8vIGV4YW1wbGUpLiBJZiB0aGlzIGhhbmRsZXIgaXMgbm90IGluc3RhbGxlZCBhbmQgdGhlcmUgYXJlIG5vIG90aGVyIHVuY2F1Z2h0XG4gICAgLy8gZXhjZXB0aW9uIGhhbmRsZXJzLCB1bmNhdWdodCBleGNlcHRpb25zIHdpbGwgYmUgY2F1Z2h0IGJ5IG5vZGUncyBidWlsdC1pblxuICAgIC8vIGV4Y2VwdGlvbiBoYW5kbGVyIGFuZCB0aGUgcHJvY2VzcyB3aWxsIHN0aWxsIGJlIHRlcm1pbmF0ZWQuIEhvd2V2ZXIsIHRoZVxuICAgIC8vIGdlbmVyYXRlZCBKYXZhU2NyaXB0IGNvZGUgd2lsbCBiZSBzaG93biBhYm92ZSB0aGUgc3RhY2sgdHJhY2UgaW5zdGVhZCBvZlxuICAgIC8vIHRoZSBvcmlnaW5hbCBzb3VyY2UgY29kZS5cbiAgICBpZiAoaW5zdGFsbEhhbmRsZXIgJiYgaGFzR2xvYmFsUHJvY2Vzc0V2ZW50RW1pdHRlcigpKSB7XG4gICAgICB1bmNhdWdodFNoaW1JbnN0YWxsZWQgPSB0cnVlO1xuICAgICAgc2hpbUVtaXRVbmNhdWdodEV4Y2VwdGlvbigpO1xuICAgIH1cbiAgfVxufTtcblxuZXhwb3J0cy5yZXNldFJldHJpZXZlSGFuZGxlcnMgPSBmdW5jdGlvbigpIHtcbiAgcmV0cmlldmVGaWxlSGFuZGxlcnMubGVuZ3RoID0gMDtcbiAgcmV0cmlldmVNYXBIYW5kbGVycy5sZW5ndGggPSAwO1xuXG4gIHJldHJpZXZlRmlsZUhhbmRsZXJzID0gb3JpZ2luYWxSZXRyaWV2ZUZpbGVIYW5kbGVycy5zbGljZSgwKTtcbiAgcmV0cmlldmVNYXBIYW5kbGVycyA9IG9yaWdpbmFsUmV0cmlldmVNYXBIYW5kbGVycy5zbGljZSgwKTtcblxuICByZXRyaWV2ZVNvdXJjZU1hcCA9IGhhbmRsZXJFeGVjKHJldHJpZXZlTWFwSGFuZGxlcnMpO1xuICByZXRyaWV2ZUZpbGUgPSBoYW5kbGVyRXhlYyhyZXRyaWV2ZUZpbGVIYW5kbGVycyk7XG59XG4iLCAicmVxdWlyZSgnLi8nKS5pbnN0YWxsKCk7XG4iLCAiaW1wb3J0IFwic291cmNlLW1hcC1zdXBwb3J0L3JlZ2lzdGVyXCI7XG5pbXBvcnQgeyBEeW5hbW9EQkNsaWVudCB9IGZyb20gXCJAYXdzLXNkay9jbGllbnQtZHluYW1vZGJcIjtcbmltcG9ydCB7XG4gIER5bmFtb0RCRG9jdW1lbnRDbGllbnQsXG4gIFRyYW5zYWN0V3JpdGVDb21tYW5kLFxuICBUcmFuc2FjdFdyaXRlQ29tbWFuZElucHV0LFxufSBmcm9tIFwiQGF3cy1zZGsvbGliLWR5bmFtb2RiXCI7XG5pbXBvcnQgbWlkZHkgZnJvbSBcIkBtaWRkeS9jb3JlXCI7XG5pbXBvcnQgZXZlbnROb3JtYWxpemVyIGZyb20gXCJAbWlkZHkvZXZlbnQtbm9ybWFsaXplclwiO1xuaW1wb3J0IHsgTVNLRXZlbnQgfSBmcm9tIFwiYXdzLWxhbWJkYVwiO1xuXG5jb25zdCByZWdpb24gPSBwcm9jZXNzLmVudi5BV1NfUkVHSU9OO1xuY29uc3QgdGFibGVOYW1lID0gcHJvY2Vzcy5lbnYuVEFCTEVfTkFNRTtcblxuY29uc3QgY2xpZW50ID0gbmV3IER5bmFtb0RCQ2xpZW50KHsgcmVnaW9uOiByZWdpb24gfSk7XG5cbmNvbnN0IHRyYW5zbGF0ZUNvbmZpZyA9IHtcbiAgbWFyc2hhbGxPcHRpb25zOiB7XG4gICAgY29udmVydEVtcHR5VmFsdWVzOiBmYWxzZSxcbiAgICByZW1vdmVVbmRlZmluZWRWYWx1ZXM6IGZhbHNlLFxuICAgIGNvbnZlcnRDbGFzc0luc3RhbmNlVG9NYXA6IGZhbHNlLFxuICB9LFxuICB1bm1hcnNoYWxsT3B0aW9uczoge1xuICAgIHdyYXBOdW1iZXJzOiBmYWxzZSxcbiAgfSxcbn07XG5cbmNvbnN0IHdyaXRlID0gYXN5bmMgKGlucHV0OiBUcmFuc2FjdFdyaXRlQ29tbWFuZElucHV0KSA9PiB7XG4gIHJldHVybiBEeW5hbW9EQkRvY3VtZW50Q2xpZW50LmZyb20oY2xpZW50LCB0cmFuc2xhdGVDb25maWcpLnNlbmQoXG4gICAgbmV3IFRyYW5zYWN0V3JpdGVDb21tYW5kKGlucHV0KVxuICApO1xufTtcblxuY29uc3QgbWFpbiA9IGFzeW5jIChldmVudDogTVNLRXZlbnQpOiBQcm9taXNlPHZvaWQ+ID0+IHtcbiAgY29uc29sZS5sb2coeyBldmVudDogZXZlbnQsIHRhYmxlTmFtZTogdGFibGVOYW1lIH0pO1xuXG4gIGxldCBpdGVtczogYW55ID0gW107XG4gIE9iamVjdC52YWx1ZXMoZXZlbnQucmVjb3JkcylcbiAgICAuZmxhdE1hcCgocmVjb3JkcykgPT4gcmVjb3JkcylcbiAgICAubWFwKChyZWNvcmQpID0+IHtcbiAgICAgIGlmIChyZWNvcmQudmFsdWUpIGl0ZW1zLnB1c2gocmVjb3JkLnZhbHVlKTtcbiAgICB9KTtcblxuICBhd2FpdCBQcm9taXNlLmFsbChcbiAgICBpdGVtcy5tYXAoYXN5bmMgKG9iajogYW55KSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyh7IG9iajogb2JqIH0pO1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgd3JpdGUoe1xuICAgICAgICAgIFRyYW5zYWN0SXRlbXM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgVXBkYXRlOiB7XG4gICAgICAgICAgICAgICAgVGFibGVOYW1lOiB0YWJsZU5hbWUsXG4gICAgICAgICAgICAgICAgS2V5OiB7XG4gICAgICAgICAgICAgICAgICBQSzogYEIjQmAsXG4gICAgICAgICAgICAgICAgICBTSzogYEEjQWAsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBVcGRhdGVFeHByZXNzaW9uOiBcIlNFVCBzb21ldGhpbmcgPSA6c29tZXRoaW5nXCIsXG4gICAgICAgICAgICAgICAgRXhwcmVzc2lvbkF0dHJpYnV0ZVZhbHVlczoge1xuICAgICAgICAgICAgICAgICAgXCI6c29tZXRoaW5nXCI6IG9iaixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICBdLFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc29sZS5sb2coeyB3cml0ZTogXCJzdWNjZXNzXCIgfSk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKHsgd3JpdGU6IFwiZmFpbHVyZVwiIH0pO1xuICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgICAgfVxuICAgIH0pXG4gICk7XG59O1xuXG5leHBvcnQgY29uc3QgaGFuZGxlciA9IG1pZGR5KG1haW4pLnVzZShldmVudE5vcm1hbGl6ZXIoKSk7XG4iLCAiaW1wb3J0IHsgc2V0VGltZW91dCB9IGZyb20gJ25vZGU6dGltZXJzL3Byb21pc2VzJztcbmNvbnN0IGRlZmF1bHRMYW1iZGFIYW5kbGVyID0gKCk9Pnt9O1xuY29uc3QgZGVmYXVsdFBsdWdpbiA9IHtcbiAgICB0aW1lb3V0RWFybHlJbk1pbGxpczogNSxcbiAgICB0aW1lb3V0RWFybHlSZXNwb25zZTogKCk9PntcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaW1lb3V0Jyk7XG4gICAgfVxufTtcbmNvbnN0IG1pZGR5ID0gKGxhbWJkYUhhbmRsZXIgPSBkZWZhdWx0TGFtYmRhSGFuZGxlciwgcGx1Z2luID0ge30pPT57XG4gICAgaWYgKHR5cGVvZiBsYW1iZGFIYW5kbGVyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHBsdWdpbiA9IGxhbWJkYUhhbmRsZXI7XG4gICAgICAgIGxhbWJkYUhhbmRsZXIgPSBkZWZhdWx0TGFtYmRhSGFuZGxlcjtcbiAgICB9XG4gICAgcGx1Z2luID0ge1xuICAgICAgICAuLi5kZWZhdWx0UGx1Z2luLFxuICAgICAgICAuLi5wbHVnaW5cbiAgICB9O1xuICAgIHBsdWdpbi50aW1lb3V0RWFybHkgPSBwbHVnaW4udGltZW91dEVhcmx5SW5NaWxsaXMgPiAwO1xuICAgIHBsdWdpbi5iZWZvcmVQcmVmZXRjaD8uKCk7XG4gICAgY29uc3QgYmVmb3JlTWlkZGxld2FyZXMgPSBbXTtcbiAgICBjb25zdCBhZnRlck1pZGRsZXdhcmVzID0gW107XG4gICAgY29uc3Qgb25FcnJvck1pZGRsZXdhcmVzID0gW107XG4gICAgY29uc3QgbWlkZHkgPSAoZXZlbnQgPSB7fSwgY29udGV4dCA9IHt9KT0+e1xuICAgICAgICBwbHVnaW4ucmVxdWVzdFN0YXJ0Py4oKTtcbiAgICAgICAgY29uc3QgcmVxdWVzdCA9IHtcbiAgICAgICAgICAgIGV2ZW50LFxuICAgICAgICAgICAgY29udGV4dCxcbiAgICAgICAgICAgIHJlc3BvbnNlOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBlcnJvcjogdW5kZWZpbmVkLFxuICAgICAgICAgICAgaW50ZXJuYWw6IHBsdWdpbi5pbnRlcm5hbCA/PyB7fVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gcnVuUmVxdWVzdChyZXF1ZXN0LCBbXG4gICAgICAgICAgICAuLi5iZWZvcmVNaWRkbGV3YXJlc1xuICAgICAgICBdLCBsYW1iZGFIYW5kbGVyLCBbXG4gICAgICAgICAgICAuLi5hZnRlck1pZGRsZXdhcmVzXG4gICAgICAgIF0sIFtcbiAgICAgICAgICAgIC4uLm9uRXJyb3JNaWRkbGV3YXJlc1xuICAgICAgICBdLCBwbHVnaW4pO1xuICAgIH07XG4gICAgbWlkZHkudXNlID0gKG1pZGRsZXdhcmVzKT0+e1xuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkobWlkZGxld2FyZXMpKSB7XG4gICAgICAgICAgICBtaWRkbGV3YXJlcyA9IFtcbiAgICAgICAgICAgICAgICBtaWRkbGV3YXJlc1xuICAgICAgICAgICAgXTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IG1pZGRsZXdhcmUgb2YgbWlkZGxld2FyZXMpe1xuICAgICAgICAgICAgY29uc3QgeyBiZWZvcmUgLCBhZnRlciAsIG9uRXJyb3IgIH0gPSBtaWRkbGV3YXJlO1xuICAgICAgICAgICAgaWYgKCFiZWZvcmUgJiYgIWFmdGVyICYmICFvbkVycm9yKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaWRkbGV3YXJlIG11c3QgYmUgYW4gb2JqZWN0IGNvbnRhaW5pbmcgYXQgbGVhc3Qgb25lIGtleSBhbW9uZyBcImJlZm9yZVwiLCBcImFmdGVyXCIsIFwib25FcnJvclwiJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYmVmb3JlKSBtaWRkeS5iZWZvcmUoYmVmb3JlKTtcbiAgICAgICAgICAgIGlmIChhZnRlcikgbWlkZHkuYWZ0ZXIoYWZ0ZXIpO1xuICAgICAgICAgICAgaWYgKG9uRXJyb3IpIG1pZGR5Lm9uRXJyb3Iob25FcnJvcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1pZGR5O1xuICAgIH07XG4gICAgbWlkZHkuYmVmb3JlID0gKGJlZm9yZU1pZGRsZXdhcmUpPT57XG4gICAgICAgIGJlZm9yZU1pZGRsZXdhcmVzLnB1c2goYmVmb3JlTWlkZGxld2FyZSk7XG4gICAgICAgIHJldHVybiBtaWRkeTtcbiAgICB9O1xuICAgIG1pZGR5LmFmdGVyID0gKGFmdGVyTWlkZGxld2FyZSk9PntcbiAgICAgICAgYWZ0ZXJNaWRkbGV3YXJlcy51bnNoaWZ0KGFmdGVyTWlkZGxld2FyZSk7XG4gICAgICAgIHJldHVybiBtaWRkeTtcbiAgICB9O1xuICAgIG1pZGR5Lm9uRXJyb3IgPSAob25FcnJvck1pZGRsZXdhcmUpPT57XG4gICAgICAgIG9uRXJyb3JNaWRkbGV3YXJlcy51bnNoaWZ0KG9uRXJyb3JNaWRkbGV3YXJlKTtcbiAgICAgICAgcmV0dXJuIG1pZGR5O1xuICAgIH07XG4gICAgbWlkZHkuaGFuZGxlciA9IChyZXBsYWNlTGFtYmRhSGFuZGxlcik9PntcbiAgICAgICAgbGFtYmRhSGFuZGxlciA9IHJlcGxhY2VMYW1iZGFIYW5kbGVyO1xuICAgICAgICByZXR1cm4gbWlkZHk7XG4gICAgfTtcbiAgICByZXR1cm4gbWlkZHk7XG59O1xuY29uc3QgcnVuUmVxdWVzdCA9IGFzeW5jIChyZXF1ZXN0LCBiZWZvcmVNaWRkbGV3YXJlcywgbGFtYmRhSGFuZGxlciwgYWZ0ZXJNaWRkbGV3YXJlcywgb25FcnJvck1pZGRsZXdhcmVzLCBwbHVnaW4pPT57XG4gICAgbGV0IHRpbWVvdXRBYm9ydDtcbiAgICBjb25zdCB0aW1lb3V0RWFybHkgPSBwbHVnaW4udGltZW91dEVhcmx5ICYmIHJlcXVlc3QuY29udGV4dC5nZXRSZW1haW5pbmdUaW1lSW5NaWxsaXM7XG4gICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgcnVuTWlkZGxld2FyZXMocmVxdWVzdCwgYmVmb3JlTWlkZGxld2FyZXMsIHBsdWdpbik7XG4gICAgICAgIGlmICh0eXBlb2YgcmVxdWVzdC5yZXNwb25zZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHBsdWdpbi5iZWZvcmVIYW5kbGVyPy4oKTtcbiAgICAgICAgICAgIGNvbnN0IGhhbmRsZXJBYm9ydCA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgICAgICAgICAgIGlmICh0aW1lb3V0RWFybHkpIHRpbWVvdXRBYm9ydCA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgICAgICAgICAgIHJlcXVlc3QucmVzcG9uc2UgPSBhd2FpdCBQcm9taXNlLnJhY2UoW1xuICAgICAgICAgICAgICAgIGxhbWJkYUhhbmRsZXIocmVxdWVzdC5ldmVudCwgcmVxdWVzdC5jb250ZXh0LCB7XG4gICAgICAgICAgICAgICAgICAgIHNpZ25hbDogaGFuZGxlckFib3J0LnNpZ25hbFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIHRpbWVvdXRFYXJseSA/IHNldFRpbWVvdXQocmVxdWVzdC5jb250ZXh0LmdldFJlbWFpbmluZ1RpbWVJbk1pbGxpcygpIC0gcGx1Z2luLnRpbWVvdXRFYXJseUluTWlsbGlzLCB1bmRlZmluZWQsIHtcbiAgICAgICAgICAgICAgICAgICAgc2lnbmFsOiB0aW1lb3V0QWJvcnQuc2lnbmFsXG4gICAgICAgICAgICAgICAgfSkudGhlbigoKT0+e1xuICAgICAgICAgICAgICAgICAgICBoYW5kbGVyQWJvcnQuYWJvcnQoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBsdWdpbi50aW1lb3V0RWFybHlSZXNwb25zZSgpO1xuICAgICAgICAgICAgICAgIH0pIDogUHJvbWlzZS5yYWNlKFtdKVxuICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICB0aW1lb3V0QWJvcnQ/LmFib3J0KCk7XG4gICAgICAgICAgICBwbHVnaW4uYWZ0ZXJIYW5kbGVyPy4oKTtcbiAgICAgICAgICAgIGF3YWl0IHJ1bk1pZGRsZXdhcmVzKHJlcXVlc3QsIGFmdGVyTWlkZGxld2FyZXMsIHBsdWdpbik7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHRpbWVvdXRBYm9ydD8uYWJvcnQoKTtcbiAgICAgICAgcmVxdWVzdC5yZXNwb25zZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgcmVxdWVzdC5lcnJvciA9IGU7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCBydW5NaWRkbGV3YXJlcyhyZXF1ZXN0LCBvbkVycm9yTWlkZGxld2FyZXMsIHBsdWdpbik7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGUub3JpZ2luYWxFcnJvciA9IHJlcXVlc3QuZXJyb3I7XG4gICAgICAgICAgICByZXF1ZXN0LmVycm9yID0gZTtcbiAgICAgICAgICAgIHRocm93IHJlcXVlc3QuZXJyb3I7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiByZXF1ZXN0LnJlc3BvbnNlID09PSAndW5kZWZpbmVkJykgdGhyb3cgcmVxdWVzdC5lcnJvcjtcbiAgICB9IGZpbmFsbHl7XG4gICAgICAgIGF3YWl0IHBsdWdpbi5yZXF1ZXN0RW5kPy4ocmVxdWVzdCk7XG4gICAgfVxuICAgIHJldHVybiByZXF1ZXN0LnJlc3BvbnNlO1xufTtcbmNvbnN0IHJ1bk1pZGRsZXdhcmVzID0gYXN5bmMgKHJlcXVlc3QsIG1pZGRsZXdhcmVzLCBwbHVnaW4pPT57XG4gICAgZm9yIChjb25zdCBuZXh0TWlkZGxld2FyZSBvZiBtaWRkbGV3YXJlcyl7XG4gICAgICAgIHBsdWdpbi5iZWZvcmVNaWRkbGV3YXJlPy4obmV4dE1pZGRsZXdhcmUubmFtZSk7XG4gICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IG5leHRNaWRkbGV3YXJlKHJlcXVlc3QpO1xuICAgICAgICBwbHVnaW4uYWZ0ZXJNaWRkbGV3YXJlPy4obmV4dE1pZGRsZXdhcmUubmFtZSk7XG4gICAgICAgIGlmICh0eXBlb2YgcmVzICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgcmVxdWVzdC5yZXNwb25zZSA9IHJlcztcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cbn07XG5leHBvcnQgZGVmYXVsdCBtaWRkeTtcblxuIiwgImV4cG9ydCBjb25zdCBjcmVhdGVQcmVmZXRjaENsaWVudCA9IChvcHRpb25zKT0+e1xuICAgIGNvbnN0IHsgYXdzQ2xpZW50T3B0aW9ucyAgfSA9IG9wdGlvbnM7XG4gICAgY29uc3QgY2xpZW50ID0gbmV3IG9wdGlvbnMuQXdzQ2xpZW50KGF3c0NsaWVudE9wdGlvbnMpO1xuICAgIGlmIChvcHRpb25zLmF3c0NsaWVudENhcHR1cmUgJiYgb3B0aW9ucy5kaXNhYmxlUHJlZmV0Y2gpIHtcbiAgICAgICAgcmV0dXJuIG9wdGlvbnMuYXdzQ2xpZW50Q2FwdHVyZShjbGllbnQpO1xuICAgIH0gZWxzZSBpZiAob3B0aW9ucy5hd3NDbGllbnRDYXB0dXJlKSB7XG4gICAgICAgIGNvbnNvbGUud2FybignVW5hYmxlIHRvIGFwcGx5IFgtUmF5IG91dHNpZGUgb2YgaGFuZGxlciBpbnZvY2F0aW9uIHNjb3BlLicpO1xuICAgIH1cbiAgICByZXR1cm4gY2xpZW50O1xufTtcbmV4cG9ydCBjb25zdCBjcmVhdGVDbGllbnQgPSBhc3luYyAob3B0aW9ucywgcmVxdWVzdCk9PntcbiAgICBsZXQgYXdzQ2xpZW50Q3JlZGVudGlhbHMgPSB7fTtcbiAgICBpZiAob3B0aW9ucy5hd3NDbGllbnRBc3N1bWVSb2xlKSB7XG4gICAgICAgIGlmICghcmVxdWVzdCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1ZXN0IHJlcXVpcmVkIHdoZW4gYXNzdW1pbmcgcm9sZScpO1xuICAgICAgICB9XG4gICAgICAgIGF3c0NsaWVudENyZWRlbnRpYWxzID0gYXdhaXQgZ2V0SW50ZXJuYWwoe1xuICAgICAgICAgICAgY3JlZGVudGlhbHM6IG9wdGlvbnMuYXdzQ2xpZW50QXNzdW1lUm9sZVxuICAgICAgICB9LCByZXF1ZXN0KTtcbiAgICB9XG4gICAgYXdzQ2xpZW50Q3JlZGVudGlhbHMgPSB7XG4gICAgICAgIC4uLmF3c0NsaWVudENyZWRlbnRpYWxzLFxuICAgICAgICAuLi5vcHRpb25zLmF3c0NsaWVudE9wdGlvbnNcbiAgICB9O1xuICAgIHJldHVybiBjcmVhdGVQcmVmZXRjaENsaWVudCh7XG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIGF3c0NsaWVudE9wdGlvbnM6IGF3c0NsaWVudENyZWRlbnRpYWxzXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IGNhblByZWZldGNoID0gKG9wdGlvbnMgPSB7fSk9PntcbiAgICByZXR1cm4gIW9wdGlvbnMuYXdzQ2xpZW50QXNzdW1lUm9sZSAmJiAhb3B0aW9ucy5kaXNhYmxlUHJlZmV0Y2g7XG59O1xuZXhwb3J0IGNvbnN0IGdldEludGVybmFsID0gYXN5bmMgKHZhcmlhYmxlcywgcmVxdWVzdCk9PntcbiAgICBpZiAoIXZhcmlhYmxlcyB8fCAhcmVxdWVzdCkgcmV0dXJuIHt9O1xuICAgIGxldCBrZXlzID0gW107XG4gICAgbGV0IHZhbHVlcyA9IFtdO1xuICAgIGlmICh2YXJpYWJsZXMgPT09IHRydWUpIHtcbiAgICAgICAga2V5cyA9IHZhbHVlcyA9IE9iamVjdC5rZXlzKHJlcXVlc3QuaW50ZXJuYWwpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHZhcmlhYmxlcyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAga2V5cyA9IHZhbHVlcyA9IFtcbiAgICAgICAgICAgIHZhcmlhYmxlc1xuICAgICAgICBdO1xuICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh2YXJpYWJsZXMpKSB7XG4gICAgICAgIGtleXMgPSB2YWx1ZXMgPSB2YXJpYWJsZXM7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgdmFyaWFibGVzID09PSAnb2JqZWN0Jykge1xuICAgICAgICBrZXlzID0gT2JqZWN0LmtleXModmFyaWFibGVzKTtcbiAgICAgICAgdmFsdWVzID0gT2JqZWN0LnZhbHVlcyh2YXJpYWJsZXMpO1xuICAgIH1cbiAgICBjb25zdCBwcm9taXNlcyA9IFtdO1xuICAgIGZvciAoY29uc3QgaW50ZXJuYWxLZXkgb2YgdmFsdWVzKXtcbiAgICAgICAgY29uc3QgcGF0aE9wdGlvbktleSA9IGludGVybmFsS2V5LnNwbGl0KCcuJyk7XG4gICAgICAgIGNvbnN0IHJvb3RPcHRpb25LZXkgPSBwYXRoT3B0aW9uS2V5LnNoaWZ0KCk7XG4gICAgICAgIGxldCB2YWx1ZVByb21pc2UgPSByZXF1ZXN0LmludGVybmFsW3Jvb3RPcHRpb25LZXldO1xuICAgICAgICBpZiAoIWlzUHJvbWlzZSh2YWx1ZVByb21pc2UpKSB7XG4gICAgICAgICAgICB2YWx1ZVByb21pc2UgPSBQcm9taXNlLnJlc29sdmUodmFsdWVQcm9taXNlKTtcbiAgICAgICAgfVxuICAgICAgICBwcm9taXNlcy5wdXNoKHZhbHVlUHJvbWlzZS50aGVuKCh2YWx1ZSk9PnBhdGhPcHRpb25LZXkucmVkdWNlKChwLCBjKT0+cD8uW2NdLCB2YWx1ZSkpKTtcbiAgICB9XG4gICAgdmFsdWVzID0gYXdhaXQgUHJvbWlzZS5hbGxTZXR0bGVkKHByb21pc2VzKTtcbiAgICBjb25zdCBlcnJvcnMgPSB2YWx1ZXMuZmlsdGVyKChyZXMpPT5yZXMuc3RhdHVzID09PSAncmVqZWN0ZWQnKS5tYXAoKHJlcyk9PnJlcy5yZWFzb24pO1xuICAgIGlmIChlcnJvcnMubGVuZ3RoKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIHJlc29sdmUgaW50ZXJuYWwgdmFsdWVzJywge1xuICAgICAgICAgICAgY2F1c2U6IGVycm9yc1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGtleXMucmVkdWNlKChvYmosIGtleSwgaW5kZXgpPT4oe1xuICAgICAgICAgICAgLi4ub2JqLFxuICAgICAgICAgICAgW3Nhbml0aXplS2V5KGtleSldOiB2YWx1ZXNbaW5kZXhdLnZhbHVlXG4gICAgICAgIH0pLCB7fSk7XG59O1xuY29uc3QgaXNQcm9taXNlID0gKHByb21pc2UpPT50eXBlb2YgcHJvbWlzZT8udGhlbiA9PT0gJ2Z1bmN0aW9uJztcbmNvbnN0IHNhbml0aXplS2V5UHJlZml4TGVhZGluZ051bWJlciA9IC9eKFswLTldKS87XG5jb25zdCBzYW5pdGl6ZUtleVJlbW92ZURpc2FsbG93ZWRDaGFyID0gL1teYS16QS1aMC05XSsvZztcbmV4cG9ydCBjb25zdCBzYW5pdGl6ZUtleSA9IChrZXkpPT57XG4gICAgcmV0dXJuIGtleS5yZXBsYWNlKHNhbml0aXplS2V5UHJlZml4TGVhZGluZ051bWJlciwgJ18kMScpLnJlcGxhY2Uoc2FuaXRpemVLZXlSZW1vdmVEaXNhbGxvd2VkQ2hhciwgJ18nKTtcbn07XG5jb25zdCBjYWNoZSA9IHt9O1xuZXhwb3J0IGNvbnN0IHByb2Nlc3NDYWNoZSA9IChvcHRpb25zLCBmZXRjaCA9ICgpPT51bmRlZmluZWQsIHJlcXVlc3QpPT57XG4gICAgY29uc3QgeyBjYWNoZUV4cGlyeSAsIGNhY2hlS2V5ICB9ID0gb3B0aW9ucztcbiAgICBpZiAoY2FjaGVFeHBpcnkpIHtcbiAgICAgICAgY29uc3QgY2FjaGVkID0gZ2V0Q2FjaGUoY2FjaGVLZXkpO1xuICAgICAgICBjb25zdCB1bmV4cGlyZWQgPSBjYWNoZWQuZXhwaXJ5ICYmIChjYWNoZUV4cGlyeSA8IDAgfHwgY2FjaGVkLmV4cGlyeSA+IERhdGUubm93KCkpO1xuICAgICAgICBpZiAodW5leHBpcmVkICYmIGNhY2hlZC5tb2RpZmllZCkge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBmZXRjaChyZXF1ZXN0LCBjYWNoZWQudmFsdWUpO1xuICAgICAgICAgICAgY2FjaGVbY2FjaGVLZXldID0gT2JqZWN0LmNyZWF0ZSh7XG4gICAgICAgICAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICAgICAgICAgICAgLi4uY2FjaGVkLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAuLi52YWx1ZVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZXhwaXJ5OiBjYWNoZWQuZXhwaXJ5XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBjYWNoZVtjYWNoZUtleV07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHVuZXhwaXJlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAuLi5jYWNoZWQsXG4gICAgICAgICAgICAgICAgY2FjaGU6IHRydWVcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgdmFsdWUgPSBmZXRjaChyZXF1ZXN0KTtcbiAgICBjb25zdCBleHBpcnkgPSBEYXRlLm5vdygpICsgY2FjaGVFeHBpcnk7XG4gICAgaWYgKGNhY2hlRXhwaXJ5KSB7XG4gICAgICAgIGNvbnN0IHJlZnJlc2ggPSBjYWNoZUV4cGlyeSA+IDAgPyBzZXRJbnRlcnZhbCgoKT0+e1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBmZXRjaChyZXF1ZXN0KTtcbiAgICAgICAgICAgIGNvbnN0IGV4cGlyeSA9IERhdGUubm93KCkgKyBjYWNoZUV4cGlyeTtcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oY2FjaGVbY2FjaGVLZXldLCB7XG4gICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgZXhwaXJ5XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSwgY2FjaGVFeHBpcnkpIDogdW5kZWZpbmVkO1xuICAgICAgICBjYWNoZVtjYWNoZUtleV0gPSB7XG4gICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgIGV4cGlyeSxcbiAgICAgICAgICAgIHJlZnJlc2hcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdmFsdWUsXG4gICAgICAgIGV4cGlyeVxuICAgIH07XG59O1xuZXhwb3J0IGNvbnN0IGdldENhY2hlID0gKGtleSk9PntcbiAgICBpZiAoIWNhY2hlW2tleV0pIHJldHVybiB7fTtcbiAgICByZXR1cm4gY2FjaGVba2V5XTtcbn07XG5leHBvcnQgY29uc3QgbW9kaWZ5Q2FjaGUgPSAoY2FjaGVLZXksIHZhbHVlKT0+e1xuICAgIGlmICghY2FjaGVbY2FjaGVLZXldKSByZXR1cm47XG4gICAgY2xlYXJJbnRlcnZhbChjYWNoZVtjYWNoZUtleV0/LnJlZnJlc2gpO1xuICAgIGNhY2hlW2NhY2hlS2V5XSA9IHtcbiAgICAgICAgLi4uY2FjaGVbY2FjaGVLZXldLFxuICAgICAgICB2YWx1ZSxcbiAgICAgICAgbW9kaWZpZWQ6IHRydWVcbiAgICB9O1xufTtcbmV4cG9ydCBjb25zdCBjbGVhckNhY2hlID0gKGtleXMgPSBudWxsKT0+e1xuICAgIGtleXMgPSBrZXlzID8/IE9iamVjdC5rZXlzKGNhY2hlKTtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoa2V5cykpIGtleXMgPSBbXG4gICAgICAgIGtleXNcbiAgICBdO1xuICAgIGZvciAoY29uc3QgY2FjaGVLZXkgb2Yga2V5cyl7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwoY2FjaGVbY2FjaGVLZXldPy5yZWZyZXNoKTtcbiAgICAgICAgY2FjaGVbY2FjaGVLZXldID0gdW5kZWZpbmVkO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QganNvblNhZmVQYXJzZSA9ICh0ZXh0LCByZXZpdmVyKT0+e1xuICAgIGlmICh0eXBlb2YgdGV4dCAhPT0gJ3N0cmluZycpIHJldHVybiB0ZXh0O1xuICAgIGNvbnN0IGZpcnN0Q2hhciA9IHRleHRbMF07XG4gICAgaWYgKGZpcnN0Q2hhciAhPT0gJ3snICYmIGZpcnN0Q2hhciAhPT0gJ1snICYmIGZpcnN0Q2hhciAhPT0gJ1wiJykgcmV0dXJuIHRleHQ7XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UodGV4dCwgcmV2aXZlcik7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgICByZXR1cm4gdGV4dDtcbn07XG5leHBvcnQgY29uc3QganNvblNhZmVTdHJpbmdpZnkgPSAodmFsdWUsIHJlcGxhY2VyLCBzcGFjZSk9PntcbiAgICB0cnkge1xuICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkodmFsdWUsIHJlcGxhY2VyLCBzcGFjZSk7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgICByZXR1cm4gdmFsdWU7XG59O1xuZXhwb3J0IGNvbnN0IG5vcm1hbGl6ZUh0dHBSZXNwb25zZSA9IChyZXF1ZXN0KT0+e1xuICAgIGxldCB7IHJlc3BvbnNlICB9ID0gcmVxdWVzdDtcbiAgICBpZiAodHlwZW9mIHJlc3BvbnNlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXNwb25zZSA9IHt9O1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHJlc3BvbnNlPy5zdGF0dXNDb2RlID09PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgcmVzcG9uc2U/LmJvZHkgPT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiByZXNwb25zZT8uaGVhZGVycyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmVzcG9uc2UgPSB7XG4gICAgICAgICAgICBzdGF0dXNDb2RlOiAyMDAsXG4gICAgICAgICAgICBib2R5OiByZXNwb25zZVxuICAgICAgICB9O1xuICAgIH1cbiAgICByZXNwb25zZS5zdGF0dXNDb2RlID8/PSA1MDA7XG4gICAgcmVzcG9uc2UuaGVhZGVycyA/Pz0ge307XG4gICAgcmVxdWVzdC5yZXNwb25zZSA9IHJlc3BvbnNlO1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBjcmVhdGVFcnJvclJlZ2V4cCA9IC9bXmEtekEtWl0vZztcbmV4cG9ydCBjbGFzcyBIdHRwRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gICAgY29uc3RydWN0b3IoY29kZSwgbWVzc2FnZSwgb3B0aW9ucyA9IHt9KXtcbiAgICAgICAgaWYgKG1lc3NhZ2UgJiYgdHlwZW9mIG1lc3NhZ2UgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBvcHRpb25zID0gbWVzc2FnZTtcbiAgICAgICAgICAgIG1lc3NhZ2UgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgbWVzc2FnZSA/Pz0gaHR0cEVycm9yQ29kZXNbY29kZV07XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UsIG9wdGlvbnMpO1xuICAgICAgICBjb25zdCBuYW1lID0gaHR0cEVycm9yQ29kZXNbY29kZV0ucmVwbGFjZShjcmVhdGVFcnJvclJlZ2V4cCwgJycpO1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lLnN1YnN0cigtNSkgIT09ICdFcnJvcicgPyBuYW1lICsgJ0Vycm9yJyA6IG5hbWU7XG4gICAgICAgIHRoaXMuc3RhdHVzID0gdGhpcy5zdGF0dXNDb2RlID0gY29kZTtcbiAgICAgICAgdGhpcy5leHBvc2UgPSBvcHRpb25zLmV4cG9zZSA/PyBjb2RlIDwgNTAwO1xuICAgIH1cbn1cbmV4cG9ydCBjb25zdCBjcmVhdGVFcnJvciA9IChjb2RlLCBtZXNzYWdlLCBwcm9wZXJ0aWVzID0ge30pPT57XG4gICAgcmV0dXJuIG5ldyBIdHRwRXJyb3IoY29kZSwgbWVzc2FnZSwgcHJvcGVydGllcyk7XG59O1xuY29uc3QgaHR0cEVycm9yQ29kZXMgPSB7XG4gICAgMTAwOiAnQ29udGludWUnLFxuICAgIDEwMTogJ1N3aXRjaGluZyBQcm90b2NvbHMnLFxuICAgIDEwMjogJ1Byb2Nlc3NpbmcnLFxuICAgIDEwMzogJ0Vhcmx5IEhpbnRzJyxcbiAgICAyMDA6ICdPSycsXG4gICAgMjAxOiAnQ3JlYXRlZCcsXG4gICAgMjAyOiAnQWNjZXB0ZWQnLFxuICAgIDIwMzogJ05vbi1BdXRob3JpdGF0aXZlIEluZm9ybWF0aW9uJyxcbiAgICAyMDQ6ICdObyBDb250ZW50JyxcbiAgICAyMDU6ICdSZXNldCBDb250ZW50JyxcbiAgICAyMDY6ICdQYXJ0aWFsIENvbnRlbnQnLFxuICAgIDIwNzogJ011bHRpLVN0YXR1cycsXG4gICAgMjA4OiAnQWxyZWFkeSBSZXBvcnRlZCcsXG4gICAgMjI2OiAnSU0gVXNlZCcsXG4gICAgMzAwOiAnTXVsdGlwbGUgQ2hvaWNlcycsXG4gICAgMzAxOiAnTW92ZWQgUGVybWFuZW50bHknLFxuICAgIDMwMjogJ0ZvdW5kJyxcbiAgICAzMDM6ICdTZWUgT3RoZXInLFxuICAgIDMwNDogJ05vdCBNb2RpZmllZCcsXG4gICAgMzA1OiAnVXNlIFByb3h5JyxcbiAgICAzMDY6ICcoVW51c2VkKScsXG4gICAgMzA3OiAnVGVtcG9yYXJ5IFJlZGlyZWN0JyxcbiAgICAzMDg6ICdQZXJtYW5lbnQgUmVkaXJlY3QnLFxuICAgIDQwMDogJ0JhZCBSZXF1ZXN0JyxcbiAgICA0MDE6ICdVbmF1dGhvcml6ZWQnLFxuICAgIDQwMjogJ1BheW1lbnQgUmVxdWlyZWQnLFxuICAgIDQwMzogJ0ZvcmJpZGRlbicsXG4gICAgNDA0OiAnTm90IEZvdW5kJyxcbiAgICA0MDU6ICdNZXRob2QgTm90IEFsbG93ZWQnLFxuICAgIDQwNjogJ05vdCBBY2NlcHRhYmxlJyxcbiAgICA0MDc6ICdQcm94eSBBdXRoZW50aWNhdGlvbiBSZXF1aXJlZCcsXG4gICAgNDA4OiAnUmVxdWVzdCBUaW1lb3V0JyxcbiAgICA0MDk6ICdDb25mbGljdCcsXG4gICAgNDEwOiAnR29uZScsXG4gICAgNDExOiAnTGVuZ3RoIFJlcXVpcmVkJyxcbiAgICA0MTI6ICdQcmVjb25kaXRpb24gRmFpbGVkJyxcbiAgICA0MTM6ICdQYXlsb2FkIFRvbyBMYXJnZScsXG4gICAgNDE0OiAnVVJJIFRvbyBMb25nJyxcbiAgICA0MTU6ICdVbnN1cHBvcnRlZCBNZWRpYSBUeXBlJyxcbiAgICA0MTY6ICdSYW5nZSBOb3QgU2F0aXNmaWFibGUnLFxuICAgIDQxNzogJ0V4cGVjdGF0aW9uIEZhaWxlZCcsXG4gICAgNDE4OiBcIkknbSBhIHRlYXBvdFwiLFxuICAgIDQyMTogJ01pc2RpcmVjdGVkIFJlcXVlc3QnLFxuICAgIDQyMjogJ1VucHJvY2Vzc2FibGUgRW50aXR5JyxcbiAgICA0MjM6ICdMb2NrZWQnLFxuICAgIDQyNDogJ0ZhaWxlZCBEZXBlbmRlbmN5JyxcbiAgICA0MjU6ICdVbm9yZGVyZWQgQ29sbGVjdGlvbicsXG4gICAgNDI2OiAnVXBncmFkZSBSZXF1aXJlZCcsXG4gICAgNDI4OiAnUHJlY29uZGl0aW9uIFJlcXVpcmVkJyxcbiAgICA0Mjk6ICdUb28gTWFueSBSZXF1ZXN0cycsXG4gICAgNDMxOiAnUmVxdWVzdCBIZWFkZXIgRmllbGRzIFRvbyBMYXJnZScsXG4gICAgNDUxOiAnVW5hdmFpbGFibGUgRm9yIExlZ2FsIFJlYXNvbnMnLFxuICAgIDUwMDogJ0ludGVybmFsIFNlcnZlciBFcnJvcicsXG4gICAgNTAxOiAnTm90IEltcGxlbWVudGVkJyxcbiAgICA1MDI6ICdCYWQgR2F0ZXdheScsXG4gICAgNTAzOiAnU2VydmljZSBVbmF2YWlsYWJsZScsXG4gICAgNTA0OiAnR2F0ZXdheSBUaW1lb3V0JyxcbiAgICA1MDU6ICdIVFRQIFZlcnNpb24gTm90IFN1cHBvcnRlZCcsXG4gICAgNTA2OiAnVmFyaWFudCBBbHNvIE5lZ290aWF0ZXMnLFxuICAgIDUwNzogJ0luc3VmZmljaWVudCBTdG9yYWdlJyxcbiAgICA1MDg6ICdMb29wIERldGVjdGVkJyxcbiAgICA1MDk6ICdCYW5kd2lkdGggTGltaXQgRXhjZWVkZWQnLFxuICAgIDUxMDogJ05vdCBFeHRlbmRlZCcsXG4gICAgNTExOiAnTmV0d29yayBBdXRoZW50aWNhdGlvbiBSZXF1aXJlZCdcbn07XG5cbiIsICJpbXBvcnQgeyBqc29uU2FmZVBhcnNlIH0gZnJvbSAnQG1pZGR5L3V0aWwnO1xuY29uc3QgZGVmYXVsdHMgPSB7XG4gICAgd3JhcE51bWJlcnM6IHVuZGVmaW5lZFxufTtcbmxldCBfd3JhcE51bWJlcnM7XG5jb25zdCBldmVudE5vcm1hbGl6ZXJNaWRkbGV3YXJlID0gKG9wdHMgPSB7fSk9PntcbiAgICBjb25zdCB7IHdyYXBOdW1iZXJzICB9ID0ge1xuICAgICAgICAuLi5kZWZhdWx0cyxcbiAgICAgICAgLi4ub3B0c1xuICAgIH07XG4gICAgX3dyYXBOdW1iZXJzID0gd3JhcE51bWJlcnM7XG4gICAgY29uc3QgZXZlbnROb3JtYWxpemVyTWlkZGxld2FyZUJlZm9yZSA9IGFzeW5jIChyZXF1ZXN0KT0+e1xuICAgICAgICBwYXJzZUV2ZW50KHJlcXVlc3QuZXZlbnQpO1xuICAgIH07XG4gICAgcmV0dXJuIHtcbiAgICAgICAgYmVmb3JlOiBldmVudE5vcm1hbGl6ZXJNaWRkbGV3YXJlQmVmb3JlXG4gICAgfTtcbn07XG5jb25zdCBwYXJzZUV2ZW50ID0gKGV2ZW50KT0+e1xuICAgIGxldCBldmVudFNvdXJjZSA9IGV2ZW50LmV2ZW50U291cmNlID8/IGV2ZW50LmRlbGl2ZXJ5U3RyZWFtQXJuO1xuICAgIGNvbnN0IHJlY29yZHMgPSBldmVudC5SZWNvcmRzID8/IGV2ZW50LnJlY29yZHMgPz8gZXZlbnQubWVzc2FnZXMgPz8gZXZlbnQudGFza3M7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KHJlY29yZHMpKSB7XG4gICAgICAgIGV2ZW50U291cmNlID8/PSAoZXZlbnQuY29uZmlnUnVsZUlkICYmICdhd3M6Y29uZmlnJykgPz8gKGV2ZW50LmF3c2xvZ3MgJiYgJ2F3czpjbG91ZHdhdGNoJykgPz8gKGV2ZW50WydDb2RlUGlwZWxpbmUuam9iJ10gJiYgJ2F3czpjb2RlcGlwZWxpbmUnKTtcbiAgICAgICAgaWYgKGV2ZW50U291cmNlKSB7XG4gICAgICAgICAgICBldmVudHNbZXZlbnRTb3VyY2VdPy4oZXZlbnQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZXZlbnRTb3VyY2UgPz89IHJlY29yZHNbMF0uZXZlbnRTb3VyY2UgPz8gcmVjb3Jkc1swXS5FdmVudFNvdXJjZSA/PyAocmVjb3Jkc1swXS5zM0tleSAmJiAnYXdzOnMzOmJhdGNoJyk7XG4gICAgZm9yIChjb25zdCByZWNvcmQgb2YgcmVjb3Jkcyl7XG4gICAgICAgIGV2ZW50c1tldmVudFNvdXJjZV0/LihyZWNvcmQpO1xuICAgIH1cbn07XG5jb25zdCBub3JtYWxpemVTM0tleVJlcGxhY2VQbHVzID0gL1xcKy9nO1xuY29uc3QgZXZlbnRzID0ge1xuICAgICdhd3M6YW1xJzogKG1lc3NhZ2UpPT57XG4gICAgICAgIG1lc3NhZ2UuZGF0YSA9IGJhc2U2NFBhcnNlKG1lc3NhZ2UuZGF0YSk7XG4gICAgfSxcbiAgICAnYXdzOmNsb3Vkd2F0Y2gnOiAoZXZlbnQpPT57XG4gICAgICAgIGV2ZW50LmF3c2xvZ3MuZGF0YSA9IGJhc2U2NFBhcnNlKGV2ZW50LmF3c2xvZ3MuZGF0YSk7XG4gICAgfSxcbiAgICAnYXdzOmNvZGVwaXBlbGluZSc6IChldmVudCk9PntcbiAgICAgICAgZXZlbnRbJ0NvZGVQaXBlbGluZS5qb2InXS5kYXRhLmFjdGlvbkNvbmZpZ3VyYXRpb24uY29uZmlndXJhdGlvbi5Vc2VyUGFyYW1ldGVycyA9IGpzb25TYWZlUGFyc2UoZXZlbnRbJ0NvZGVQaXBlbGluZS5qb2InXS5kYXRhLmFjdGlvbkNvbmZpZ3VyYXRpb24uY29uZmlndXJhdGlvbi5Vc2VyUGFyYW1ldGVycyk7XG4gICAgfSxcbiAgICAnYXdzOmNvbmZpZyc6IChldmVudCk9PntcbiAgICAgICAgZXZlbnQuaW52b2tpbmdFdmVudCA9IGpzb25TYWZlUGFyc2UoZXZlbnQuaW52b2tpbmdFdmVudCk7XG4gICAgICAgIGV2ZW50LnJ1bGVQYXJhbWV0ZXJzID0ganNvblNhZmVQYXJzZShldmVudC5ydWxlUGFyYW1ldGVycyk7XG4gICAgfSxcbiAgICAnYXdzOmR5bmFtb2RiJzogKHJlY29yZCk9PntcbiAgICAgICAgcmVjb3JkLmR5bmFtb2RiLktleXMgPSB1bm1hcnNoYWxsKHJlY29yZC5keW5hbW9kYi5LZXlzKTtcbiAgICAgICAgcmVjb3JkLmR5bmFtb2RiLk5ld0ltYWdlID0gdW5tYXJzaGFsbChyZWNvcmQuZHluYW1vZGIuTmV3SW1hZ2UpO1xuICAgICAgICByZWNvcmQuZHluYW1vZGIuT2xkSW1hZ2UgPSB1bm1hcnNoYWxsKHJlY29yZC5keW5hbW9kYi5PbGRJbWFnZSk7XG4gICAgfSxcbiAgICAnYXdzOmthZmthJzogKGV2ZW50KT0+e1xuICAgICAgICBmb3IoY29uc3QgcmVjb3JkIGluIGV2ZW50LnJlY29yZHMpe1xuICAgICAgICAgICAgZm9yIChjb25zdCB0b3BpYyBvZiBldmVudC5yZWNvcmRzW3JlY29yZF0pe1xuICAgICAgICAgICAgICAgIHRvcGljLnZhbHVlICYmPSBiYXNlNjRQYXJzZSh0b3BpYy52YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuICAgICdhd3M6a2luZXNpcyc6IChyZWNvcmQpPT57XG4gICAgICAgIHJlY29yZC5raW5lc2lzLmRhdGEgPSBiYXNlNjRQYXJzZShyZWNvcmQua2luZXNpcy5kYXRhKTtcbiAgICB9LFxuICAgICdhd3M6bGFtYmRhOmV2ZW50cyc6IChyZWNvcmQpPT57XG4gICAgICAgIHJlY29yZC5kYXRhID0gYmFzZTY0UGFyc2UocmVjb3JkLmRhdGEpO1xuICAgIH0sXG4gICAgJ2F3czpzMyc6IChyZWNvcmQpPT57XG4gICAgICAgIHJlY29yZC5zMy5vYmplY3Qua2V5ID0gbm9ybWFsaXplUzNLZXkocmVjb3JkLnMzLm9iamVjdC5rZXkpO1xuICAgIH0sXG4gICAgJ2F3czpzMzpiYXRjaCc6ICh0YXNrKT0+e1xuICAgICAgICB0YXNrLnMzS2V5ID0gbm9ybWFsaXplUzNLZXkodGFzay5zM0tleSk7XG4gICAgfSxcbiAgICBTZWxmTWFuYWdlZEthZmthOiAoZXZlbnQpPT57XG4gICAgICAgIGV2ZW50c1snYXdzOmthZmthJ10oZXZlbnQpO1xuICAgIH0sXG4gICAgJ2F3czpzbnMnOiAocmVjb3JkKT0+e1xuICAgICAgICByZWNvcmQuU25zLk1lc3NhZ2UgPSBqc29uU2FmZVBhcnNlKHJlY29yZC5TbnMuTWVzc2FnZSk7XG4gICAgICAgIHBhcnNlRXZlbnQocmVjb3JkLlNucy5NZXNzYWdlKTtcbiAgICB9LFxuICAgICdhd3M6c25zOnNxcyc6IChyZWNvcmQpPT57XG4gICAgICAgIHJlY29yZC5NZXNzYWdlID0ganNvblNhZmVQYXJzZShyZWNvcmQuTWVzc2FnZSk7XG4gICAgICAgIHBhcnNlRXZlbnQocmVjb3JkLk1lc3NhZ2UpO1xuICAgIH0sXG4gICAgJ2F3czpzcXMnOiAocmVjb3JkKT0+e1xuICAgICAgICByZWNvcmQuYm9keSA9IGpzb25TYWZlUGFyc2UocmVjb3JkLmJvZHkpO1xuICAgICAgICBpZiAocmVjb3JkLmJvZHkuVHlwZSA9PT0gJ05vdGlmaWNhdGlvbicpIHtcbiAgICAgICAgICAgIGV2ZW50c1snYXdzOnNuczpzcXMnXShyZWNvcmQuYm9keSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwYXJzZUV2ZW50KHJlY29yZC5ib2R5KTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5jb25zdCBiYXNlNjRQYXJzZSA9IChkYXRhKT0+anNvblNhZmVQYXJzZShCdWZmZXIuZnJvbShkYXRhLCAnYmFzZTY0JykudG9TdHJpbmcoJ3V0Zi04JykpO1xuY29uc3Qgbm9ybWFsaXplUzNLZXkgPSAoa2V5KT0+ZGVjb2RlVVJJQ29tcG9uZW50KGtleS5yZXBsYWNlKG5vcm1hbGl6ZVMzS2V5UmVwbGFjZVBsdXMsICcgJykpO1xuZXhwb3J0IGNvbnN0IHVubWFyc2hhbGwgPSAoZGF0YSk9PmNvbnZlcnRWYWx1ZS5NKGRhdGEgPz8ge30pO1xuY29uc3QgY29udmVydFZhbHVlID0ge1xuICAgIE5VTEw6ICgpPT5udWxsLFxuICAgIEJPT0w6IEJvb2xlYW4sXG4gICAgTjogKHZhbHVlKT0+e1xuICAgICAgICBpZiAoX3dyYXBOdW1iZXJzKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHZhbHVlXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG51bSA9IE51bWJlcih2YWx1ZSk7XG4gICAgICAgIGlmICgoTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIgPCBudW0gfHwgbnVtIDwgTnVtYmVyLk1JTl9TQUZFX0lOVEVHRVIpICYmIG51bSAhPT0gTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZICYmIG51bSAhPT0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHJldHVybiBCaWdJbnQodmFsdWUpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYCR7dmFsdWV9IGNhbid0IGJlIGNvbnZlcnRlZCB0byBCaWdJbnQuIFNldCBvcHRpb25zLndyYXBOdW1iZXJzIHRvIGdldCBzdHJpbmcgdmFsdWUuYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bTtcbiAgICB9LFxuICAgIEI6ICh2YWx1ZSk9PnZhbHVlLFxuICAgIFM6ICh2YWx1ZSk9PnZhbHVlLFxuICAgIEw6ICh2YWx1ZSk9PnZhbHVlLm1hcCgoaXRlbSk9PmNvbnZlcnRUb05hdGl2ZShpdGVtKSksXG4gICAgTTogKHZhbHVlKT0+T2JqZWN0LmVudHJpZXModmFsdWUpLnJlZHVjZSgoYWNjLCBba2V5LCB2YWx1ZV0pPT4oe1xuICAgICAgICAgICAgICAgIC4uLmFjYyxcbiAgICAgICAgICAgICAgICBba2V5XTogY29udmVydFRvTmF0aXZlKHZhbHVlKVxuICAgICAgICAgICAgfSksIHt9KSxcbiAgICBOUzogKHZhbHVlKT0+bmV3IFNldCh2YWx1ZS5tYXAoY29udmVydFZhbHVlLk4pKSxcbiAgICBCUzogKHZhbHVlKT0+bmV3IFNldCh2YWx1ZS5tYXAoY29udmVydFZhbHVlLkIpKSxcbiAgICBTUzogKHZhbHVlKT0+bmV3IFNldCh2YWx1ZS5tYXAoY29udmVydFZhbHVlLlMpKVxufTtcbmNvbnN0IGNvbnZlcnRUb05hdGl2ZSA9IChkYXRhKT0+e1xuICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGRhdGEpKXtcbiAgICAgICAgaWYgKCFjb252ZXJ0VmFsdWVba2V5XSkgdGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCB0eXBlIHBhc3NlZDogJHtrZXl9YCk7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICd1bmRlZmluZWQnKSBjb250aW51ZTtcbiAgICAgICAgcmV0dXJuIGNvbnZlcnRWYWx1ZVtrZXldKHZhbHVlKTtcbiAgICB9XG59O1xuZXhwb3J0IGRlZmF1bHQgZXZlbnROb3JtYWxpemVyTWlkZGxld2FyZTtcblxuIl0sCiAgIm1hcHBpbmdzIjogIjs0VEFBQSxJQUFBQSxHQUFBQyxFQUFBQyxJQUFBLENBT0EsSUFBSUMsR0FBZSxtRUFBbUUsTUFBTSxFQUFFLEVBSzlGRCxHQUFRLE9BQVMsU0FBVUUsRUFBUSxDQUNqQyxHQUFJLEdBQUtBLEdBQVVBLEVBQVNELEdBQWEsT0FDdkMsT0FBT0EsR0FBYUMsQ0FBTSxFQUU1QixNQUFNLElBQUksVUFBVSw2QkFBK0JBLENBQU0sQ0FDM0QsRUFNQUYsR0FBUSxPQUFTLFNBQVVHLEVBQVUsQ0FDbkMsSUFBSUMsRUFBTyxHQUNQQyxFQUFPLEdBRVBDLEVBQVUsR0FDVkMsRUFBVSxJQUVWQyxFQUFPLEdBQ1BDLEVBQU8sR0FFUEMsRUFBTyxHQUNQQyxFQUFRLEdBRVJDLEVBQWUsR0FDZkMsRUFBZSxHQUduQixPQUFJVCxHQUFRRCxHQUFZQSxHQUFZRSxFQUMxQkYsRUFBV0MsRUFJakJFLEdBQVdILEdBQVlBLEdBQVlJLEVBQzdCSixFQUFXRyxFQUFVTSxFQUkzQkosR0FBUUwsR0FBWUEsR0FBWU0sRUFDMUJOLEVBQVdLLEVBQU9LLEVBSXhCVixHQUFZTyxFQUNQLEdBSUxQLEdBQVlRLEVBQ1AsR0FJRixFQUNULElDbEVBLElBQUFHLEdBQUFDLEVBQUFDLElBQUEsQ0FxQ0EsSUFBSUMsR0FBUyxLQWNUQyxHQUFpQixFQUdqQkMsR0FBVyxHQUFLRCxHQUdoQkUsR0FBZ0JELEdBQVcsRUFHM0JFLEdBQXVCRixHQVEzQixTQUFTRyxHQUFZQyxFQUFRLENBQzNCLE9BQU9BLEVBQVMsR0FDVixDQUFDQSxHQUFXLEdBQUssR0FDbEJBLEdBQVUsR0FBSyxDQUN0QixDQVFBLFNBQVNDLEdBQWNELEVBQVEsQ0FDN0IsSUFBSUUsR0FBY0YsRUFBUyxLQUFPLEVBQzlCRyxFQUFVSCxHQUFVLEVBQ3hCLE9BQU9FLEVBQ0gsQ0FBQ0MsRUFDREEsQ0FDTixDQUtBVixHQUFRLE9BQVMsU0FBMEJPLEVBQVEsQ0FDakQsSUFBSUksRUFBVSxHQUNWQyxFQUVBQyxFQUFNUCxHQUFZQyxDQUFNLEVBRTVCLEdBQ0VLLEVBQVFDLEVBQU1ULEdBQ2RTLEtBQVNYLEdBQ0xXLEVBQU0sSUFHUkQsR0FBU1AsSUFFWE0sR0FBV1YsR0FBTyxPQUFPVyxDQUFLLFFBQ3ZCQyxFQUFNLEdBRWYsT0FBT0YsQ0FDVCxFQU1BWCxHQUFRLE9BQVMsU0FBMEJjLEVBQU1DLEVBQVFDLEVBQVcsQ0FDbEUsSUFBSUMsRUFBU0gsRUFBSyxPQUNkSSxFQUFTLEVBQ1RDLEVBQVEsRUFDUkMsRUFBY1IsRUFFbEIsRUFBRyxDQUNELEdBQUlHLEdBQVVFLEVBQ1osTUFBTSxJQUFJLE1BQU0sNENBQTRDLEVBSTlELEdBREFMLEVBQVFYLEdBQU8sT0FBT2EsRUFBSyxXQUFXQyxHQUFRLENBQUMsRUFDM0NILElBQVUsR0FDWixNQUFNLElBQUksTUFBTSx5QkFBMkJFLEVBQUssT0FBT0MsRUFBUyxDQUFDLENBQUMsRUFHcEVLLEVBQWUsQ0FBQyxFQUFFUixFQUFRUCxJQUMxQk8sR0FBU1IsR0FDVGMsRUFBU0EsR0FBVU4sR0FBU08sR0FDNUJBLEdBQVNqQixTQUNGa0IsR0FFVEosRUFBVSxNQUFRUixHQUFjVSxDQUFNLEVBQ3RDRixFQUFVLEtBQU9ELENBQ25CLElDM0lBLElBQUFNLEVBQUFDLEVBQUFDLEdBQUEsQ0FpQkEsU0FBU0MsR0FBT0MsRUFBT0MsRUFBT0MsRUFBZSxDQUMzQyxHQUFJRCxLQUFTRCxFQUNYLE9BQU9BLEVBQU1DLENBQUssRUFDYixHQUFJLFVBQVUsU0FBVyxFQUM5QixPQUFPQyxFQUVQLE1BQU0sSUFBSSxNQUFNLElBQU1ELEVBQVEsMkJBQTJCLENBRTdELENBQ0FILEVBQVEsT0FBU0MsR0FFakIsSUFBSUksR0FBWSxpRUFDWkMsR0FBZ0IsZ0JBRXBCLFNBQVNDLEVBQVNDLEVBQU0sQ0FDdEIsSUFBSUMsRUFBUUQsRUFBSyxNQUFNSCxFQUFTLEVBQ2hDLE9BQUtJLEVBR0UsQ0FDTCxPQUFRQSxFQUFNLENBQUMsRUFDZixLQUFNQSxFQUFNLENBQUMsRUFDYixLQUFNQSxFQUFNLENBQUMsRUFDYixLQUFNQSxFQUFNLENBQUMsRUFDYixLQUFNQSxFQUFNLENBQUMsQ0FDZixFQVJTLElBU1gsQ0FDQVQsRUFBUSxTQUFXTyxFQUVuQixTQUFTRyxFQUFZQyxFQUFZLENBQy9CLElBQUlDLEVBQU0sR0FDVixPQUFJRCxFQUFXLFNBQ2JDLEdBQU9ELEVBQVcsT0FBUyxLQUU3QkMsR0FBTyxLQUNIRCxFQUFXLE9BQ2JDLEdBQU9ELEVBQVcsS0FBTyxLQUV2QkEsRUFBVyxPQUNiQyxHQUFPRCxFQUFXLE1BRWhCQSxFQUFXLE9BQ2JDLEdBQU8sSUFBTUQsRUFBVyxNQUV0QkEsRUFBVyxPQUNiQyxHQUFPRCxFQUFXLE1BRWJDLENBQ1QsQ0FDQVosRUFBUSxZQUFjVSxFQWF0QixTQUFTRyxHQUFVQyxFQUFPLENBQ3hCLElBQUlDLEVBQU9ELEVBQ1BGLEVBQU1MLEVBQVNPLENBQUssRUFDeEIsR0FBSUYsRUFBSyxDQUNQLEdBQUksQ0FBQ0EsRUFBSSxLQUNQLE9BQU9FLEVBRVRDLEVBQU9ILEVBQUksS0FLYixRQUhJSSxFQUFhaEIsRUFBUSxXQUFXZSxDQUFJLEVBRXBDRSxFQUFRRixFQUFLLE1BQU0sS0FBSyxFQUNuQkcsRUFBTUMsRUFBSyxFQUFHQyxFQUFJSCxFQUFNLE9BQVMsRUFBR0csR0FBSyxFQUFHQSxJQUNuREYsRUFBT0QsRUFBTUcsQ0FBQyxFQUNWRixJQUFTLElBQ1hELEVBQU0sT0FBT0csRUFBRyxDQUFDLEVBQ1JGLElBQVMsS0FDbEJDLElBQ1NBLEVBQUssSUFDVkQsSUFBUyxJQUlYRCxFQUFNLE9BQU9HLEVBQUksRUFBR0QsQ0FBRSxFQUN0QkEsRUFBSyxJQUVMRixFQUFNLE9BQU9HLEVBQUcsQ0FBQyxFQUNqQkQsTUFVTixPQU5BSixFQUFPRSxFQUFNLEtBQUssR0FBRyxFQUVqQkYsSUFBUyxLQUNYQSxFQUFPQyxFQUFhLElBQU0sS0FHeEJKLEdBQ0ZBLEVBQUksS0FBT0csRUFDSkwsRUFBWUUsQ0FBRyxHQUVqQkcsQ0FDVCxDQUNBZixFQUFRLFVBQVlhLEdBa0JwQixTQUFTUSxHQUFLQyxFQUFPUixFQUFPLENBQ3RCUSxJQUFVLEtBQ1pBLEVBQVEsS0FFTlIsSUFBVSxLQUNaQSxFQUFRLEtBRVYsSUFBSVMsRUFBV2hCLEVBQVNPLENBQUssRUFDekJVLEVBQVdqQixFQUFTZSxDQUFLLEVBTTdCLEdBTElFLElBQ0ZGLEVBQVFFLEVBQVMsTUFBUSxLQUl2QkQsR0FBWSxDQUFDQSxFQUFTLE9BQ3hCLE9BQUlDLElBQ0ZELEVBQVMsT0FBU0MsRUFBUyxRQUV0QmQsRUFBWWEsQ0FBUSxFQUc3QixHQUFJQSxHQUFZVCxFQUFNLE1BQU1SLEVBQWEsRUFDdkMsT0FBT1EsRUFJVCxHQUFJVSxHQUFZLENBQUNBLEVBQVMsTUFBUSxDQUFDQSxFQUFTLEtBQzFDLE9BQUFBLEVBQVMsS0FBT1YsRUFDVEosRUFBWWMsQ0FBUSxFQUc3QixJQUFJQyxFQUFTWCxFQUFNLE9BQU8sQ0FBQyxJQUFNLElBQzdCQSxFQUNBRCxHQUFVUyxFQUFNLFFBQVEsT0FBUSxFQUFFLEVBQUksSUFBTVIsQ0FBSyxFQUVyRCxPQUFJVSxHQUNGQSxFQUFTLEtBQU9DLEVBQ1RmLEVBQVljLENBQVEsR0FFdEJDLENBQ1QsQ0FDQXpCLEVBQVEsS0FBT3FCLEdBRWZyQixFQUFRLFdBQWEsU0FBVWMsRUFBTyxDQUNwQyxPQUFPQSxFQUFNLE9BQU8sQ0FBQyxJQUFNLEtBQU9ULEdBQVUsS0FBS1MsQ0FBSyxDQUN4RCxFQVFBLFNBQVNZLEdBQVNKLEVBQU9SLEVBQU8sQ0FDMUJRLElBQVUsS0FDWkEsRUFBUSxLQUdWQSxFQUFRQSxFQUFNLFFBQVEsTUFBTyxFQUFFLEVBTy9CLFFBRElLLEVBQVEsRUFDTGIsRUFBTSxRQUFRUSxFQUFRLEdBQUcsSUFBTSxHQUFHLENBQ3ZDLElBQUlNLEVBQVFOLEVBQU0sWUFBWSxHQUFHLEVBU2pDLEdBUklNLEVBQVEsSUFPWk4sRUFBUUEsRUFBTSxNQUFNLEVBQUdNLENBQUssRUFDeEJOLEVBQU0sTUFBTSxtQkFBbUIsR0FDakMsT0FBT1IsRUFHVCxFQUFFYSxFQUlKLE9BQU8sTUFBTUEsRUFBUSxDQUFDLEVBQUUsS0FBSyxLQUFLLEVBQUliLEVBQU0sT0FBT1EsRUFBTSxPQUFTLENBQUMsQ0FDckUsQ0FDQXRCLEVBQVEsU0FBVzBCLEdBRW5CLElBQUlHLEdBQXFCLFVBQVksQ0FDbkMsSUFBSUMsRUFBTSxPQUFPLE9BQU8sSUFBSSxFQUM1QixNQUFPLEVBQUUsY0FBZUEsRUFDMUIsRUFBRSxFQUVGLFNBQVNDLEdBQVVDLEVBQUcsQ0FDcEIsT0FBT0EsQ0FDVCxDQVdBLFNBQVNDLEdBQVlDLEVBQU0sQ0FDekIsT0FBSUMsR0FBY0QsQ0FBSSxFQUNiLElBQU1BLEVBR1JBLENBQ1QsQ0FDQWxDLEVBQVEsWUFBYzZCLEdBQW9CRSxHQUFXRSxHQUVyRCxTQUFTRyxHQUFjRixFQUFNLENBQzNCLE9BQUlDLEdBQWNELENBQUksRUFDYkEsRUFBSyxNQUFNLENBQUMsRUFHZEEsQ0FDVCxDQUNBbEMsRUFBUSxjQUFnQjZCLEdBQW9CRSxHQUFXSyxHQUV2RCxTQUFTRCxHQUFjSCxFQUFHLENBQ3hCLEdBQUksQ0FBQ0EsRUFDSCxNQUFPLEdBR1QsSUFBSUssRUFBU0wsRUFBRSxPQU1mLEdBSklLLEVBQVMsR0FJVEwsRUFBRSxXQUFXSyxFQUFTLENBQUMsSUFBTSxJQUM3QkwsRUFBRSxXQUFXSyxFQUFTLENBQUMsSUFBTSxJQUM3QkwsRUFBRSxXQUFXSyxFQUFTLENBQUMsSUFBTSxLQUM3QkwsRUFBRSxXQUFXSyxFQUFTLENBQUMsSUFBTSxLQUM3QkwsRUFBRSxXQUFXSyxFQUFTLENBQUMsSUFBTSxLQUM3QkwsRUFBRSxXQUFXSyxFQUFTLENBQUMsSUFBTSxLQUM3QkwsRUFBRSxXQUFXSyxFQUFTLENBQUMsSUFBTSxLQUM3QkwsRUFBRSxXQUFXSyxFQUFTLENBQUMsSUFBTSxJQUM3QkwsRUFBRSxXQUFXSyxFQUFTLENBQUMsSUFBTSxHQUMvQixNQUFPLEdBR1QsUUFBU2pCLEVBQUlpQixFQUFTLEdBQUlqQixHQUFLLEVBQUdBLElBQ2hDLEdBQUlZLEVBQUUsV0FBV1osQ0FBQyxJQUFNLEdBQ3RCLE1BQU8sR0FJWCxNQUFPLEVBQ1QsQ0FVQSxTQUFTa0IsR0FBMkJDLEVBQVVDLEVBQVVDLEVBQXFCLENBQzNFLElBQUlDLEVBQU1DLEVBQU9KLEVBQVMsT0FBUUMsRUFBUyxNQUFNLEVBcUJqRCxPQXBCSUUsSUFBUSxJQUlaQSxFQUFNSCxFQUFTLGFBQWVDLEVBQVMsYUFDbkNFLElBQVEsS0FJWkEsRUFBTUgsRUFBUyxlQUFpQkMsRUFBUyxlQUNyQ0UsSUFBUSxHQUFLRCxLQUlqQkMsRUFBTUgsRUFBUyxnQkFBa0JDLEVBQVMsZ0JBQ3RDRSxJQUFRLEtBSVpBLEVBQU1ILEVBQVMsY0FBZ0JDLEVBQVMsY0FDcENFLElBQVEsR0FDSEEsRUFHRkMsRUFBT0osRUFBUyxLQUFNQyxFQUFTLElBQUksQ0FDNUMsQ0FDQXhDLEVBQVEsMkJBQTZCc0MsR0FXckMsU0FBU00sR0FBb0NMLEVBQVVDLEVBQVVLLEVBQXNCLENBQ3JGLElBQUlILEVBQU1ILEVBQVMsY0FBZ0JDLEVBQVMsY0FxQjVDLE9BcEJJRSxJQUFRLElBSVpBLEVBQU1ILEVBQVMsZ0JBQWtCQyxFQUFTLGdCQUN0Q0UsSUFBUSxHQUFLRyxLQUlqQkgsRUFBTUMsRUFBT0osRUFBUyxPQUFRQyxFQUFTLE1BQU0sRUFDekNFLElBQVEsS0FJWkEsRUFBTUgsRUFBUyxhQUFlQyxFQUFTLGFBQ25DRSxJQUFRLEtBSVpBLEVBQU1ILEVBQVMsZUFBaUJDLEVBQVMsZUFDckNFLElBQVEsR0FDSEEsRUFHRkMsRUFBT0osRUFBUyxLQUFNQyxFQUFTLElBQUksQ0FDNUMsQ0FDQXhDLEVBQVEsb0NBQXNDNEMsR0FFOUMsU0FBU0QsRUFBT0csRUFBT0MsRUFBTyxDQUM1QixPQUFJRCxJQUFVQyxFQUNMLEVBR0xELElBQVUsS0FDTCxFQUdMQyxJQUFVLEtBQ0wsR0FHTEQsRUFBUUMsRUFDSCxFQUdGLEVBQ1QsQ0FNQSxTQUFTQyxHQUFvQ1QsRUFBVUMsRUFBVSxDQUMvRCxJQUFJRSxFQUFNSCxFQUFTLGNBQWdCQyxFQUFTLGNBcUI1QyxPQXBCSUUsSUFBUSxJQUlaQSxFQUFNSCxFQUFTLGdCQUFrQkMsRUFBUyxnQkFDdENFLElBQVEsS0FJWkEsRUFBTUMsRUFBT0osRUFBUyxPQUFRQyxFQUFTLE1BQU0sRUFDekNFLElBQVEsS0FJWkEsRUFBTUgsRUFBUyxhQUFlQyxFQUFTLGFBQ25DRSxJQUFRLEtBSVpBLEVBQU1ILEVBQVMsZUFBaUJDLEVBQVMsZUFDckNFLElBQVEsR0FDSEEsRUFHRkMsRUFBT0osRUFBUyxLQUFNQyxFQUFTLElBQUksQ0FDNUMsQ0FDQXhDLEVBQVEsb0NBQXNDZ0QsR0FPOUMsU0FBU0MsR0FBb0JDLEVBQUssQ0FDaEMsT0FBTyxLQUFLLE1BQU1BLEVBQUksUUFBUSxpQkFBa0IsRUFBRSxDQUFDLENBQ3JELENBQ0FsRCxFQUFRLG9CQUFzQmlELEdBTTlCLFNBQVNFLEdBQWlCQyxFQUFZQyxFQUFXQyxFQUFjLENBOEI3RCxHQTdCQUQsRUFBWUEsR0FBYSxHQUVyQkQsSUFFRUEsRUFBV0EsRUFBVyxPQUFTLENBQUMsSUFBTSxLQUFPQyxFQUFVLENBQUMsSUFBTSxNQUNoRUQsR0FBYyxLQU9oQkMsRUFBWUQsRUFBYUMsR0FpQnZCQyxFQUFjLENBQ2hCLElBQUlDLEVBQVNoRCxFQUFTK0MsQ0FBWSxFQUNsQyxHQUFJLENBQUNDLEVBQ0gsTUFBTSxJQUFJLE1BQU0sa0NBQWtDLEVBRXBELEdBQUlBLEVBQU8sS0FBTSxDQUVmLElBQUkzQixFQUFRMkIsRUFBTyxLQUFLLFlBQVksR0FBRyxFQUNuQzNCLEdBQVMsSUFDWDJCLEVBQU8sS0FBT0EsRUFBTyxLQUFLLFVBQVUsRUFBRzNCLEVBQVEsQ0FBQyxHQUdwRHlCLEVBQVloQyxHQUFLWCxFQUFZNkMsQ0FBTSxFQUFHRixDQUFTLEVBR2pELE9BQU94QyxHQUFVd0MsQ0FBUyxDQUM1QixDQUNBckQsRUFBUSxpQkFBbUJtRCxLQ3ZlM0IsSUFBQUssR0FBQUMsRUFBQUMsSUFBQSxDQU9BLElBQUlDLEdBQU8sSUFDUEMsR0FBTSxPQUFPLFVBQVUsZUFDdkJDLEVBQWUsT0FBTyxJQUFRLElBUWxDLFNBQVNDLEdBQVcsQ0FDbEIsS0FBSyxPQUFTLENBQUMsRUFDZixLQUFLLEtBQU9ELEVBQWUsSUFBSSxJQUFRLE9BQU8sT0FBTyxJQUFJLENBQzNELENBS0FDLEVBQVMsVUFBWSxTQUE0QkMsRUFBUUMsRUFBa0IsQ0FFekUsUUFESUMsRUFBTSxJQUFJSCxFQUNMSSxFQUFJLEVBQUdDLEVBQU1KLEVBQU8sT0FBUUcsRUFBSUMsRUFBS0QsSUFDNUNELEVBQUksSUFBSUYsRUFBT0csQ0FBQyxFQUFHRixDQUFnQixFQUVyQyxPQUFPQyxDQUNULEVBUUFILEVBQVMsVUFBVSxLQUFPLFVBQXlCLENBQ2pELE9BQU9ELEVBQWUsS0FBSyxLQUFLLEtBQU8sT0FBTyxvQkFBb0IsS0FBSyxJQUFJLEVBQUUsTUFDL0UsRUFPQUMsRUFBUyxVQUFVLElBQU0sU0FBc0JNLEVBQU1KLEVBQWtCLENBQ3JFLElBQUlLLEVBQU9SLEVBQWVPLEVBQU9ULEdBQUssWUFBWVMsQ0FBSSxFQUNsREUsRUFBY1QsRUFBZSxLQUFLLElBQUlPLENBQUksRUFBSVIsR0FBSSxLQUFLLEtBQUssS0FBTVMsQ0FBSSxFQUN0RUUsRUFBTSxLQUFLLE9BQU8sUUFDbEIsQ0FBQ0QsR0FBZU4sSUFDbEIsS0FBSyxPQUFPLEtBQUtJLENBQUksRUFFbEJFLElBQ0NULEVBQ0YsS0FBSyxLQUFLLElBQUlPLEVBQU1HLENBQUcsRUFFdkIsS0FBSyxLQUFLRixDQUFJLEVBQUlFLEVBR3hCLEVBT0FULEVBQVMsVUFBVSxJQUFNLFNBQXNCTSxFQUFNLENBQ25ELEdBQUlQLEVBQ0YsT0FBTyxLQUFLLEtBQUssSUFBSU8sQ0FBSSxFQUV6QixJQUFJQyxFQUFPVixHQUFLLFlBQVlTLENBQUksRUFDaEMsT0FBT1IsR0FBSSxLQUFLLEtBQUssS0FBTVMsQ0FBSSxDQUVuQyxFQU9BUCxFQUFTLFVBQVUsUUFBVSxTQUEwQk0sRUFBTSxDQUMzRCxHQUFJUCxFQUFjLENBQ2hCLElBQUlVLEVBQU0sS0FBSyxLQUFLLElBQUlILENBQUksRUFDNUIsR0FBSUcsR0FBTyxFQUNQLE9BQU9BLE1BRU4sQ0FDTCxJQUFJRixFQUFPVixHQUFLLFlBQVlTLENBQUksRUFDaEMsR0FBSVIsR0FBSSxLQUFLLEtBQUssS0FBTVMsQ0FBSSxFQUMxQixPQUFPLEtBQUssS0FBS0EsQ0FBSSxFQUl6QixNQUFNLElBQUksTUFBTSxJQUFNRCxFQUFPLHNCQUFzQixDQUNyRCxFQU9BTixFQUFTLFVBQVUsR0FBSyxTQUFxQlUsRUFBTSxDQUNqRCxHQUFJQSxHQUFRLEdBQUtBLEVBQU8sS0FBSyxPQUFPLE9BQ2xDLE9BQU8sS0FBSyxPQUFPQSxDQUFJLEVBRXpCLE1BQU0sSUFBSSxNQUFNLHlCQUEyQkEsQ0FBSSxDQUNqRCxFQU9BVixFQUFTLFVBQVUsUUFBVSxVQUE0QixDQUN2RCxPQUFPLEtBQUssT0FBTyxNQUFNLENBQzNCLEVBRUFKLEdBQVEsU0FBV0ksSUN4SG5CLElBQUFXLEdBQUFDLEVBQUFDLElBQUEsQ0FPQSxJQUFJQyxHQUFPLElBTVgsU0FBU0MsR0FBdUJDLEVBQVVDLEVBQVUsQ0FFbEQsSUFBSUMsRUFBUUYsRUFBUyxjQUNqQkcsRUFBUUYsRUFBUyxjQUNqQkcsRUFBVUosRUFBUyxnQkFDbkJLLEVBQVVKLEVBQVMsZ0JBQ3ZCLE9BQU9FLEVBQVFELEdBQVNDLEdBQVNELEdBQVNHLEdBQVdELEdBQzlDTixHQUFLLG9DQUFvQ0UsRUFBVUMsQ0FBUSxHQUFLLENBQ3pFLENBT0EsU0FBU0ssR0FBYyxDQUNyQixLQUFLLE9BQVMsQ0FBQyxFQUNmLEtBQUssUUFBVSxHQUVmLEtBQUssTUFBUSxDQUFDLGNBQWUsR0FBSSxnQkFBaUIsQ0FBQyxDQUNyRCxDQVFBQSxFQUFZLFVBQVUsZ0JBQ3BCLFNBQTZCQyxFQUFXQyxFQUFVLENBQ2hELEtBQUssT0FBTyxRQUFRRCxFQUFXQyxDQUFRLENBQ3pDLEVBT0ZGLEVBQVksVUFBVSxJQUFNLFNBQXlCRyxFQUFVLENBQ3pEVixHQUF1QixLQUFLLE1BQU9VLENBQVEsR0FDN0MsS0FBSyxNQUFRQSxFQUNiLEtBQUssT0FBTyxLQUFLQSxDQUFRLElBRXpCLEtBQUssUUFBVSxHQUNmLEtBQUssT0FBTyxLQUFLQSxDQUFRLEVBRTdCLEVBV0FILEVBQVksVUFBVSxRQUFVLFVBQStCLENBQzdELE9BQUssS0FBSyxVQUNSLEtBQUssT0FBTyxLQUFLUixHQUFLLG1DQUFtQyxFQUN6RCxLQUFLLFFBQVUsSUFFVixLQUFLLE1BQ2QsRUFFQUQsR0FBUSxZQUFjUyxJQzlFdEIsSUFBQUksR0FBQUMsRUFBQUMsSUFBQSxDQU9BLElBQUlDLEVBQVksS0FDWkMsRUFBTyxJQUNQQyxFQUFXLEtBQXVCLFNBQ2xDQyxHQUFjLEtBQTBCLFlBVTVDLFNBQVNDLEVBQW1CQyxFQUFPLENBQzVCQSxJQUNIQSxFQUFRLENBQUMsR0FFWCxLQUFLLE1BQVFKLEVBQUssT0FBT0ksRUFBTyxPQUFRLElBQUksRUFDNUMsS0FBSyxZQUFjSixFQUFLLE9BQU9JLEVBQU8sYUFBYyxJQUFJLEVBQ3hELEtBQUssZ0JBQWtCSixFQUFLLE9BQU9JLEVBQU8saUJBQWtCLEVBQUssRUFDakUsS0FBSyxTQUFXLElBQUlILEVBQ3BCLEtBQUssT0FBUyxJQUFJQSxFQUNsQixLQUFLLFVBQVksSUFBSUMsR0FDckIsS0FBSyxpQkFBbUIsSUFDMUIsQ0FFQUMsRUFBbUIsVUFBVSxTQUFXLEVBT3hDQSxFQUFtQixjQUNqQixTQUEwQ0UsRUFBb0IsQ0FDNUQsSUFBSUMsRUFBYUQsRUFBbUIsV0FDaENFLEVBQVksSUFBSUosRUFBbUIsQ0FDckMsS0FBTUUsRUFBbUIsS0FDekIsV0FBWUMsQ0FDZCxDQUFDLEVBQ0QsT0FBQUQsRUFBbUIsWUFBWSxTQUFVRyxFQUFTLENBQ2hELElBQUlDLEVBQWEsQ0FDZixVQUFXLENBQ1QsS0FBTUQsRUFBUSxjQUNkLE9BQVFBLEVBQVEsZUFDbEIsQ0FDRixFQUVJQSxFQUFRLFFBQVUsT0FDcEJDLEVBQVcsT0FBU0QsRUFBUSxPQUN4QkYsR0FBYyxPQUNoQkcsRUFBVyxPQUFTVCxFQUFLLFNBQVNNLEVBQVlHLEVBQVcsTUFBTSxHQUdqRUEsRUFBVyxTQUFXLENBQ3BCLEtBQU1ELEVBQVEsYUFDZCxPQUFRQSxFQUFRLGNBQ2xCLEVBRUlBLEVBQVEsTUFBUSxPQUNsQkMsRUFBVyxLQUFPRCxFQUFRLE9BSTlCRCxFQUFVLFdBQVdFLENBQVUsQ0FDakMsQ0FBQyxFQUNESixFQUFtQixRQUFRLFFBQVEsU0FBVUssRUFBWSxDQUN2RCxJQUFJQyxFQUFpQkQsRUFDakJKLElBQWUsT0FDakJLLEVBQWlCWCxFQUFLLFNBQVNNLEVBQVlJLENBQVUsR0FHbERILEVBQVUsU0FBUyxJQUFJSSxDQUFjLEdBQ3hDSixFQUFVLFNBQVMsSUFBSUksQ0FBYyxFQUd2QyxJQUFJQyxFQUFVUCxFQUFtQixpQkFBaUJLLENBQVUsRUFDeERFLEdBQVcsTUFDYkwsRUFBVSxpQkFBaUJHLEVBQVlFLENBQU8sQ0FFbEQsQ0FBQyxFQUNNTCxDQUNULEVBWUZKLEVBQW1CLFVBQVUsV0FDM0IsU0FBdUNDLEVBQU8sQ0FDNUMsSUFBSVMsRUFBWWIsRUFBSyxPQUFPSSxFQUFPLFdBQVcsRUFDMUNVLEVBQVdkLEVBQUssT0FBT0ksRUFBTyxXQUFZLElBQUksRUFDOUNXLEVBQVNmLEVBQUssT0FBT0ksRUFBTyxTQUFVLElBQUksRUFDMUNZLEVBQU9oQixFQUFLLE9BQU9JLEVBQU8sT0FBUSxJQUFJLEVBRXJDLEtBQUssaUJBQ1IsS0FBSyxpQkFBaUJTLEVBQVdDLEVBQVVDLEVBQVFDLENBQUksRUFHckRELEdBQVUsT0FDWkEsRUFBUyxPQUFPQSxDQUFNLEVBQ2pCLEtBQUssU0FBUyxJQUFJQSxDQUFNLEdBQzNCLEtBQUssU0FBUyxJQUFJQSxDQUFNLEdBSXhCQyxHQUFRLE9BQ1ZBLEVBQU8sT0FBT0EsQ0FBSSxFQUNiLEtBQUssT0FBTyxJQUFJQSxDQUFJLEdBQ3ZCLEtBQUssT0FBTyxJQUFJQSxDQUFJLEdBSXhCLEtBQUssVUFBVSxJQUFJLENBQ2pCLGNBQWVILEVBQVUsS0FDekIsZ0JBQWlCQSxFQUFVLE9BQzNCLGFBQWNDLEdBQVksTUFBUUEsRUFBUyxLQUMzQyxlQUFnQkEsR0FBWSxNQUFRQSxFQUFTLE9BQzdDLE9BQVFDLEVBQ1IsS0FBTUMsQ0FDUixDQUFDLENBQ0gsRUFLRmIsRUFBbUIsVUFBVSxpQkFDM0IsU0FBNkNjLEVBQWFDLEVBQWdCLENBQ3hFLElBQUlILEVBQVNFLEVBQ1QsS0FBSyxhQUFlLE9BQ3RCRixFQUFTZixFQUFLLFNBQVMsS0FBSyxZQUFhZSxDQUFNLEdBRzdDRyxHQUFrQixNQUdmLEtBQUssbUJBQ1IsS0FBSyxpQkFBbUIsT0FBTyxPQUFPLElBQUksR0FFNUMsS0FBSyxpQkFBaUJsQixFQUFLLFlBQVllLENBQU0sQ0FBQyxFQUFJRyxHQUN6QyxLQUFLLG1CQUdkLE9BQU8sS0FBSyxpQkFBaUJsQixFQUFLLFlBQVllLENBQU0sQ0FBQyxFQUNqRCxPQUFPLEtBQUssS0FBSyxnQkFBZ0IsRUFBRSxTQUFXLElBQ2hELEtBQUssaUJBQW1CLE1BRzlCLEVBa0JGWixFQUFtQixVQUFVLGVBQzNCLFNBQTJDRSxFQUFvQlksRUFBYUUsRUFBZ0IsQ0FDMUYsSUFBSVQsRUFBYU8sRUFFakIsR0FBSUEsR0FBZSxLQUFNLENBQ3ZCLEdBQUlaLEVBQW1CLE1BQVEsS0FDN0IsTUFBTSxJQUFJLE1BQ1IsOElBRUYsRUFFRkssRUFBYUwsRUFBbUIsS0FFbEMsSUFBSUMsRUFBYSxLQUFLLFlBRWxCQSxHQUFjLE9BQ2hCSSxFQUFhVixFQUFLLFNBQVNNLEVBQVlJLENBQVUsR0FJbkQsSUFBSVUsRUFBYSxJQUFJbkIsRUFDakJvQixFQUFXLElBQUlwQixFQUduQixLQUFLLFVBQVUsZ0JBQWdCLFNBQVVPLEVBQVMsQ0FDaEQsR0FBSUEsRUFBUSxTQUFXRSxHQUFjRixFQUFRLGNBQWdCLEtBQU0sQ0FFakUsSUFBSU0sRUFBV1QsRUFBbUIsb0JBQW9CLENBQ3BELEtBQU1HLEVBQVEsYUFDZCxPQUFRQSxFQUFRLGNBQ2xCLENBQUMsRUFDR00sRUFBUyxRQUFVLE9BRXJCTixFQUFRLE9BQVNNLEVBQVMsT0FDdEJLLEdBQWtCLE9BQ3BCWCxFQUFRLE9BQVNSLEVBQUssS0FBS21CLEVBQWdCWCxFQUFRLE1BQU0sR0FFdkRGLEdBQWMsT0FDaEJFLEVBQVEsT0FBU1IsRUFBSyxTQUFTTSxFQUFZRSxFQUFRLE1BQU0sR0FFM0RBLEVBQVEsYUFBZU0sRUFBUyxLQUNoQ04sRUFBUSxlQUFpQk0sRUFBUyxPQUM5QkEsRUFBUyxNQUFRLE9BQ25CTixFQUFRLEtBQU9NLEVBQVMsT0FLOUIsSUFBSUMsRUFBU1AsRUFBUSxPQUNqQk8sR0FBVSxNQUFRLENBQUNLLEVBQVcsSUFBSUwsQ0FBTSxHQUMxQ0ssRUFBVyxJQUFJTCxDQUFNLEVBR3ZCLElBQUlDLEVBQU9SLEVBQVEsS0FDZlEsR0FBUSxNQUFRLENBQUNLLEVBQVMsSUFBSUwsQ0FBSSxHQUNwQ0ssRUFBUyxJQUFJTCxDQUFJLENBR3JCLEVBQUcsSUFBSSxFQUNQLEtBQUssU0FBV0ksRUFDaEIsS0FBSyxPQUFTQyxFQUdkaEIsRUFBbUIsUUFBUSxRQUFRLFNBQVVLLEVBQVksQ0FDdkQsSUFBSUUsRUFBVVAsRUFBbUIsaUJBQWlCSyxDQUFVLEVBQ3hERSxHQUFXLE9BQ1RPLEdBQWtCLE9BQ3BCVCxFQUFhVixFQUFLLEtBQUttQixFQUFnQlQsQ0FBVSxHQUUvQ0osR0FBYyxPQUNoQkksRUFBYVYsRUFBSyxTQUFTTSxFQUFZSSxDQUFVLEdBRW5ELEtBQUssaUJBQWlCQSxFQUFZRSxDQUFPLEVBRTdDLEVBQUcsSUFBSSxDQUNULEVBYUZULEVBQW1CLFVBQVUsaUJBQzNCLFNBQTRDbUIsRUFBWUMsRUFBV0MsRUFDdkJDLEVBQU8sQ0FLakQsR0FBSUYsR0FBYSxPQUFPQSxFQUFVLE1BQVMsVUFBWSxPQUFPQSxFQUFVLFFBQVcsU0FDL0UsTUFBTSxJQUFJLE1BQ04sOE9BR0osRUFHSixHQUFJLEVBQUFELEdBQWMsU0FBVUEsR0FBYyxXQUFZQSxHQUMvQ0EsRUFBVyxLQUFPLEdBQUtBLEVBQVcsUUFBVSxHQUM1QyxDQUFDQyxHQUFhLENBQUNDLEdBQVcsQ0FBQ0MsR0FJN0IsSUFBSUgsR0FBYyxTQUFVQSxHQUFjLFdBQVlBLEdBQy9DQyxHQUFhLFNBQVVBLEdBQWEsV0FBWUEsR0FDaERELEVBQVcsS0FBTyxHQUFLQSxFQUFXLFFBQVUsR0FDNUNDLEVBQVUsS0FBTyxHQUFLQSxFQUFVLFFBQVUsR0FDMUNDLEVBRVYsT0FHQSxNQUFNLElBQUksTUFBTSxvQkFBc0IsS0FBSyxVQUFVLENBQ25ELFVBQVdGLEVBQ1gsT0FBUUUsRUFDUixTQUFVRCxFQUNWLEtBQU1FLENBQ1IsQ0FBQyxDQUFDLEVBRU4sRUFNRnRCLEVBQW1CLFVBQVUsbUJBQzNCLFVBQWdELENBYzlDLFFBYkl1QixFQUEwQixFQUMxQkMsRUFBd0IsRUFDeEJDLEVBQXlCLEVBQ3pCQyxFQUF1QixFQUN2QkMsRUFBZSxFQUNmQyxFQUFpQixFQUNqQkMsRUFBUyxHQUNUQyxFQUNBekIsRUFDQTBCLEVBQ0FDLEVBRUFDLEVBQVcsS0FBSyxVQUFVLFFBQVEsRUFDN0JDLEVBQUksRUFBR0MsRUFBTUYsRUFBUyxPQUFRQyxFQUFJQyxFQUFLRCxJQUFLLENBSW5ELEdBSEE3QixFQUFVNEIsRUFBU0MsQ0FBQyxFQUNwQkosRUFBTyxHQUVIekIsRUFBUSxnQkFBa0JtQixFQUU1QixJQURBRCxFQUEwQixFQUNuQmxCLEVBQVEsZ0JBQWtCbUIsR0FDL0JNLEdBQVEsSUFDUk4sWUFJRVUsRUFBSSxFQUFHLENBQ1QsR0FBSSxDQUFDckMsRUFBSyxvQ0FBb0NRLEVBQVM0QixFQUFTQyxFQUFJLENBQUMsQ0FBQyxFQUNwRSxTQUVGSixHQUFRLElBSVpBLEdBQVFsQyxFQUFVLE9BQU9TLEVBQVEsZ0JBQ0prQixDQUF1QixFQUNwREEsRUFBMEJsQixFQUFRLGdCQUU5QkEsRUFBUSxRQUFVLE9BQ3BCMkIsRUFBWSxLQUFLLFNBQVMsUUFBUTNCLEVBQVEsTUFBTSxFQUNoRHlCLEdBQVFsQyxFQUFVLE9BQU9vQyxFQUFZSixDQUFjLEVBQ25EQSxFQUFpQkksRUFHakJGLEdBQVFsQyxFQUFVLE9BQU9TLEVBQVEsYUFBZSxFQUNuQnFCLENBQW9CLEVBQ2pEQSxFQUF1QnJCLEVBQVEsYUFBZSxFQUU5Q3lCLEdBQVFsQyxFQUFVLE9BQU9TLEVBQVEsZUFDSm9CLENBQXNCLEVBQ25EQSxFQUF5QnBCLEVBQVEsZUFFN0JBLEVBQVEsTUFBUSxPQUNsQjBCLEVBQVUsS0FBSyxPQUFPLFFBQVExQixFQUFRLElBQUksRUFDMUN5QixHQUFRbEMsRUFBVSxPQUFPbUMsRUFBVUosQ0FBWSxFQUMvQ0EsRUFBZUksSUFJbkJGLEdBQVVDLEVBR1osT0FBT0QsQ0FDVCxFQUVGN0IsRUFBbUIsVUFBVSx3QkFDM0IsU0FBbURvQyxFQUFVQyxFQUFhLENBQ3hFLE9BQU9ELEVBQVMsSUFBSSxTQUFVeEIsRUFBUSxDQUNwQyxHQUFJLENBQUMsS0FBSyxpQkFDUixPQUFPLEtBRUx5QixHQUFlLE9BQ2pCekIsRUFBU2YsRUFBSyxTQUFTd0MsRUFBYXpCLENBQU0sR0FFNUMsSUFBSTBCLEVBQU16QyxFQUFLLFlBQVllLENBQU0sRUFDakMsT0FBTyxPQUFPLFVBQVUsZUFBZSxLQUFLLEtBQUssaUJBQWtCMEIsQ0FBRyxFQUNsRSxLQUFLLGlCQUFpQkEsQ0FBRyxFQUN6QixJQUNOLEVBQUcsSUFBSSxDQUNULEVBS0Z0QyxFQUFtQixVQUFVLE9BQzNCLFVBQXFDLENBQ25DLElBQUl1QyxFQUFNLENBQ1IsUUFBUyxLQUFLLFNBQ2QsUUFBUyxLQUFLLFNBQVMsUUFBUSxFQUMvQixNQUFPLEtBQUssT0FBTyxRQUFRLEVBQzNCLFNBQVUsS0FBSyxtQkFBbUIsQ0FDcEMsRUFDQSxPQUFJLEtBQUssT0FBUyxPQUNoQkEsRUFBSSxLQUFPLEtBQUssT0FFZCxLQUFLLGFBQWUsT0FDdEJBLEVBQUksV0FBYSxLQUFLLGFBRXBCLEtBQUssbUJBQ1BBLEVBQUksZUFBaUIsS0FBSyx3QkFBd0JBLEVBQUksUUFBU0EsRUFBSSxVQUFVLEdBR3hFQSxDQUNULEVBS0Z2QyxFQUFtQixVQUFVLFNBQzNCLFVBQXVDLENBQ3JDLE9BQU8sS0FBSyxVQUFVLEtBQUssT0FBTyxDQUFDLENBQ3JDLEVBRUZMLEdBQVEsbUJBQXFCSyxJQ3hhN0IsSUFBQXdDLEdBQUFDLEVBQUFDLEdBQUEsQ0FPQUEsRUFBUSxxQkFBdUIsRUFDL0JBLEVBQVEsa0JBQW9CLEVBZTVCLFNBQVNDLEdBQWdCQyxFQUFNQyxFQUFPQyxFQUFTQyxFQUFXQyxFQUFVQyxFQUFPLENBVXpFLElBQUlDLEVBQU0sS0FBSyxPQUFPTCxFQUFRRCxHQUFRLENBQUMsRUFBSUEsRUFDdkNPLEVBQU1ILEVBQVNGLEVBQVNDLEVBQVVHLENBQUcsRUFBRyxFQUFJLEVBQ2hELE9BQUlDLElBQVEsRUFFSEQsRUFFQUMsRUFBTSxFQUVUTixFQUFRSyxFQUFNLEVBRVRQLEdBQWdCTyxFQUFLTCxFQUFPQyxFQUFTQyxFQUFXQyxFQUFVQyxDQUFLLEVBS3BFQSxHQUFTUCxFQUFRLGtCQUNaRyxFQUFRRSxFQUFVLE9BQVNGLEVBQVEsR0FFbkNLLEVBS0xBLEVBQU1OLEVBQU8sRUFFUkQsR0FBZ0JDLEVBQU1NLEVBQUtKLEVBQVNDLEVBQVdDLEVBQVVDLENBQUssRUFJbkVBLEdBQVNQLEVBQVEsa0JBQ1pRLEVBRUFOLEVBQU8sRUFBSSxHQUFLQSxDQUc3QixDQW9CQUYsRUFBUSxPQUFTLFNBQWdCSSxFQUFTQyxFQUFXQyxFQUFVQyxFQUFPLENBQ3BFLEdBQUlGLEVBQVUsU0FBVyxFQUN2QixNQUFPLEdBR1QsSUFBSUssRUFBUVQsR0FBZ0IsR0FBSUksRUFBVSxPQUFRRCxFQUFTQyxFQUMvQkMsRUFBVUMsR0FBU1AsRUFBUSxvQkFBb0IsRUFDM0UsR0FBSVUsRUFBUSxFQUNWLE1BQU8sR0FNVCxLQUFPQSxFQUFRLEdBQUssR0FDZEosRUFBU0QsRUFBVUssQ0FBSyxFQUFHTCxFQUFVSyxFQUFRLENBQUMsRUFBRyxFQUFJLElBQU0sR0FHL0QsRUFBRUEsRUFHSixPQUFPQSxDQUNULElDOUdBLElBQUFDLEdBQUFDLEVBQUFDLElBQUEsQ0EyQkEsU0FBU0MsR0FBS0MsRUFBS0MsRUFBR0MsRUFBRyxDQUN2QixJQUFJQyxFQUFPSCxFQUFJQyxDQUFDLEVBQ2hCRCxFQUFJQyxDQUFDLEVBQUlELEVBQUlFLENBQUMsRUFDZEYsRUFBSUUsQ0FBQyxFQUFJQyxDQUNYLENBVUEsU0FBU0MsR0FBaUJDLEVBQUtDLEVBQU0sQ0FDbkMsT0FBTyxLQUFLLE1BQU1ELEVBQU8sS0FBSyxPQUFPLEdBQUtDLEVBQU9ELEVBQUssQ0FDeEQsQ0FjQSxTQUFTRSxHQUFZUCxFQUFLUSxFQUFZQyxFQUFHQyxFQUFHLENBSzFDLEdBQUlELEVBQUlDLEVBQUcsQ0FZVCxJQUFJQyxFQUFhUCxHQUFpQkssRUFBR0MsQ0FBQyxFQUNsQyxFQUFJRCxFQUFJLEVBRVpWLEdBQUtDLEVBQUtXLEVBQVlELENBQUMsRUFTdkIsUUFSSUUsRUFBUVosRUFBSVUsQ0FBQyxFQVFSRyxFQUFJSixFQUFHSSxFQUFJSCxFQUFHRyxJQUNqQkwsRUFBV1IsRUFBSWEsQ0FBQyxFQUFHRCxDQUFLLEdBQUssSUFDL0IsR0FBSyxFQUNMYixHQUFLQyxFQUFLLEVBQUdhLENBQUMsR0FJbEJkLEdBQUtDLEVBQUssRUFBSSxFQUFHYSxDQUFDLEVBQ2xCLElBQUlDLEVBQUksRUFBSSxFQUlaUCxHQUFZUCxFQUFLUSxFQUFZQyxFQUFHSyxFQUFJLENBQUMsRUFDckNQLEdBQVlQLEVBQUtRLEVBQVlNLEVBQUksRUFBR0osQ0FBQyxFQUV6QyxDQVVBWixHQUFRLFVBQVksU0FBVUUsRUFBS1EsRUFBWSxDQUM3Q0QsR0FBWVAsRUFBS1EsRUFBWSxFQUFHUixFQUFJLE9BQVMsQ0FBQyxDQUNoRCxJQ2pIQSxJQUFBZSxHQUFBQyxFQUFBQyxHQUFBLENBT0EsSUFBSUMsRUFBTyxJQUNQQyxHQUFlLEtBQ2ZDLEVBQVcsS0FBdUIsU0FDbENDLEdBQVksS0FDWkMsRUFBWSxLQUF3QixVQUV4QyxTQUFTQyxFQUFrQkMsRUFBWUMsRUFBZSxDQUNwRCxJQUFJQyxFQUFZRixFQUNoQixPQUFJLE9BQU9BLEdBQWUsV0FDeEJFLEVBQVlSLEVBQUssb0JBQW9CTSxDQUFVLEdBRzFDRSxFQUFVLFVBQVksS0FDekIsSUFBSUMsRUFBeUJELEVBQVdELENBQWEsRUFDckQsSUFBSUcsRUFBdUJGLEVBQVdELENBQWEsQ0FDekQsQ0FFQUYsRUFBa0IsY0FBZ0IsU0FBU0MsRUFBWUMsRUFBZSxDQUNwRSxPQUFPRyxFQUF1QixjQUFjSixFQUFZQyxDQUFhLENBQ3ZFLEVBS0FGLEVBQWtCLFVBQVUsU0FBVyxFQWdDdkNBLEVBQWtCLFVBQVUsb0JBQXNCLEtBQ2xELE9BQU8sZUFBZUEsRUFBa0IsVUFBVyxxQkFBc0IsQ0FDdkUsYUFBYyxHQUNkLFdBQVksR0FDWixJQUFLLFVBQVksQ0FDZixPQUFLLEtBQUsscUJBQ1IsS0FBSyxlQUFlLEtBQUssVUFBVyxLQUFLLFVBQVUsRUFHOUMsS0FBSyxtQkFDZCxDQUNGLENBQUMsRUFFREEsRUFBa0IsVUFBVSxtQkFBcUIsS0FDakQsT0FBTyxlQUFlQSxFQUFrQixVQUFXLG9CQUFxQixDQUN0RSxhQUFjLEdBQ2QsV0FBWSxHQUNaLElBQUssVUFBWSxDQUNmLE9BQUssS0FBSyxvQkFDUixLQUFLLGVBQWUsS0FBSyxVQUFXLEtBQUssVUFBVSxFQUc5QyxLQUFLLGtCQUNkLENBQ0YsQ0FBQyxFQUVEQSxFQUFrQixVQUFVLHdCQUMxQixTQUFrRE0sRUFBTUMsRUFBTyxDQUM3RCxJQUFJQyxFQUFJRixFQUFLLE9BQU9DLENBQUssRUFDekIsT0FBT0MsSUFBTSxLQUFPQSxJQUFNLEdBQzVCLEVBT0ZSLEVBQWtCLFVBQVUsZUFDMUIsU0FBeUNNLEVBQU1HLEVBQWEsQ0FDMUQsTUFBTSxJQUFJLE1BQU0sMENBQTBDLENBQzVELEVBRUZULEVBQWtCLGdCQUFrQixFQUNwQ0EsRUFBa0IsZUFBaUIsRUFFbkNBLEVBQWtCLHFCQUF1QixFQUN6Q0EsRUFBa0Isa0JBQW9CLEVBa0J0Q0EsRUFBa0IsVUFBVSxZQUMxQixTQUF1Q1UsRUFBV0MsRUFBVUMsRUFBUSxDQUNsRSxJQUFJQyxFQUFVRixHQUFZLEtBQ3RCRyxFQUFRRixHQUFVWixFQUFrQixnQkFFcENlLEVBQ0osT0FBUUQsRUFBTyxDQUNmLEtBQUtkLEVBQWtCLGdCQUNyQmUsRUFBVyxLQUFLLG1CQUNoQixNQUNGLEtBQUtmLEVBQWtCLGVBQ3JCZSxFQUFXLEtBQUssa0JBQ2hCLE1BQ0YsUUFDRSxNQUFNLElBQUksTUFBTSw2QkFBNkIsQ0FDL0MsQ0FFQSxJQUFJQyxFQUFhLEtBQUssV0FDdEJELEVBQVMsSUFBSSxTQUFVRSxFQUFTLENBQzlCLElBQUlDLEVBQVNELEVBQVEsU0FBVyxLQUFPLEtBQU8sS0FBSyxTQUFTLEdBQUdBLEVBQVEsTUFBTSxFQUM3RSxPQUFBQyxFQUFTdkIsRUFBSyxpQkFBaUJxQixFQUFZRSxFQUFRLEtBQUssYUFBYSxFQUM5RCxDQUNMLE9BQVFBLEVBQ1IsY0FBZUQsRUFBUSxjQUN2QixnQkFBaUJBLEVBQVEsZ0JBQ3pCLGFBQWNBLEVBQVEsYUFDdEIsZUFBZ0JBLEVBQVEsZUFDeEIsS0FBTUEsRUFBUSxPQUFTLEtBQU8sS0FBTyxLQUFLLE9BQU8sR0FBR0EsRUFBUSxJQUFJLENBQ2xFLENBQ0YsRUFBRyxJQUFJLEVBQUUsUUFBUVAsRUFBV0csQ0FBTyxDQUNyQyxFQXdCRmIsRUFBa0IsVUFBVSx5QkFDMUIsU0FBb0RtQixFQUFPLENBQ3pELElBQUlDLEVBQU96QixFQUFLLE9BQU93QixFQUFPLE1BQU0sRUFNaENFLEVBQVMsQ0FDWCxPQUFRMUIsRUFBSyxPQUFPd0IsRUFBTyxRQUFRLEVBQ25DLGFBQWNDLEVBQ2QsZUFBZ0J6QixFQUFLLE9BQU93QixFQUFPLFNBQVUsQ0FBQyxDQUNoRCxFQUdBLEdBREFFLEVBQU8sT0FBUyxLQUFLLGlCQUFpQkEsRUFBTyxNQUFNLEVBQy9DQSxFQUFPLE9BQVMsRUFDbEIsTUFBTyxDQUFDLEVBR1YsSUFBSU4sRUFBVyxDQUFDLEVBRVpSLEVBQVEsS0FBSyxhQUFhYyxFQUNBLEtBQUssa0JBQ0wsZUFDQSxpQkFDQTFCLEVBQUssMkJBQ0xDLEdBQWEsaUJBQWlCLEVBQzVELEdBQUlXLEdBQVMsRUFBRyxDQUNkLElBQUlVLEVBQVUsS0FBSyxrQkFBa0JWLENBQUssRUFFMUMsR0FBSVksRUFBTSxTQUFXLE9BT25CLFFBTklHLEVBQWVMLEVBQVEsYUFNcEJBLEdBQVdBLEVBQVEsZUFBaUJLLEdBQ3pDUCxFQUFTLEtBQUssQ0FDWixLQUFNcEIsRUFBSyxPQUFPc0IsRUFBUyxnQkFBaUIsSUFBSSxFQUNoRCxPQUFRdEIsRUFBSyxPQUFPc0IsRUFBUyxrQkFBbUIsSUFBSSxFQUNwRCxXQUFZdEIsRUFBSyxPQUFPc0IsRUFBUyxzQkFBdUIsSUFBSSxDQUM5RCxDQUFDLEVBRURBLEVBQVUsS0FBSyxrQkFBa0IsRUFBRVYsQ0FBSyxNQVMxQyxTQU5JZ0IsRUFBaUJOLEVBQVEsZUFNdEJBLEdBQ0FBLEVBQVEsZUFBaUJHLEdBQ3pCSCxFQUFRLGdCQUFrQk0sR0FDL0JSLEVBQVMsS0FBSyxDQUNaLEtBQU1wQixFQUFLLE9BQU9zQixFQUFTLGdCQUFpQixJQUFJLEVBQ2hELE9BQVF0QixFQUFLLE9BQU9zQixFQUFTLGtCQUFtQixJQUFJLEVBQ3BELFdBQVl0QixFQUFLLE9BQU9zQixFQUFTLHNCQUF1QixJQUFJLENBQzlELENBQUMsRUFFREEsRUFBVSxLQUFLLGtCQUFrQixFQUFFVixDQUFLLEVBSzlDLE9BQU9RLENBQ1QsRUFFRnJCLEVBQVEsa0JBQW9CTSxFQW9DNUIsU0FBU0ssRUFBdUJKLEVBQVlDLEVBQWUsQ0FDekQsSUFBSUMsRUFBWUYsRUFDWixPQUFPQSxHQUFlLFdBQ3hCRSxFQUFZUixFQUFLLG9CQUFvQk0sQ0FBVSxHQUdqRCxJQUFJdUIsRUFBVTdCLEVBQUssT0FBT1EsRUFBVyxTQUFTLEVBQzFDc0IsRUFBVTlCLEVBQUssT0FBT1EsRUFBVyxTQUFTLEVBRzFDdUIsRUFBUS9CLEVBQUssT0FBT1EsRUFBVyxRQUFTLENBQUMsQ0FBQyxFQUMxQ2EsRUFBYXJCLEVBQUssT0FBT1EsRUFBVyxhQUFjLElBQUksRUFDdER3QixFQUFpQmhDLEVBQUssT0FBT1EsRUFBVyxpQkFBa0IsSUFBSSxFQUM5RFksRUFBV3BCLEVBQUssT0FBT1EsRUFBVyxVQUFVLEVBQzVDeUIsRUFBT2pDLEVBQUssT0FBT1EsRUFBVyxPQUFRLElBQUksRUFJOUMsR0FBSXFCLEdBQVcsS0FBSyxTQUNsQixNQUFNLElBQUksTUFBTSx3QkFBMEJBLENBQU8sRUFHL0NSLElBQ0ZBLEVBQWFyQixFQUFLLFVBQVVxQixDQUFVLEdBR3hDUyxFQUFVQSxFQUNQLElBQUksTUFBTSxFQUlWLElBQUk5QixFQUFLLFNBQVMsRUFLbEIsSUFBSSxTQUFVdUIsRUFBUSxDQUNyQixPQUFPRixHQUFjckIsRUFBSyxXQUFXcUIsQ0FBVSxHQUFLckIsRUFBSyxXQUFXdUIsQ0FBTSxFQUN0RXZCLEVBQUssU0FBU3FCLEVBQVlFLENBQU0sRUFDaENBLENBQ04sQ0FBQyxFQU1ILEtBQUssT0FBU3JCLEVBQVMsVUFBVTZCLEVBQU0sSUFBSSxNQUFNLEVBQUcsRUFBSSxFQUN4RCxLQUFLLFNBQVc3QixFQUFTLFVBQVU0QixFQUFTLEVBQUksRUFFaEQsS0FBSyxpQkFBbUIsS0FBSyxTQUFTLFFBQVEsRUFBRSxJQUFJLFNBQVVJLEVBQUcsQ0FDL0QsT0FBT2xDLEVBQUssaUJBQWlCcUIsRUFBWWEsRUFBRzNCLENBQWEsQ0FDM0QsQ0FBQyxFQUVELEtBQUssV0FBYWMsRUFDbEIsS0FBSyxlQUFpQlcsRUFDdEIsS0FBSyxVQUFZWixFQUNqQixLQUFLLGNBQWdCYixFQUNyQixLQUFLLEtBQU8wQixDQUNkLENBRUF2QixFQUF1QixVQUFZLE9BQU8sT0FBT0wsRUFBa0IsU0FBUyxFQUM1RUssRUFBdUIsVUFBVSxTQUFXTCxFQU01Q0ssRUFBdUIsVUFBVSxpQkFBbUIsU0FBU3lCLEVBQVMsQ0FDcEUsSUFBSUMsRUFBaUJELEVBS3JCLEdBSkksS0FBSyxZQUFjLE9BQ3JCQyxFQUFpQnBDLEVBQUssU0FBUyxLQUFLLFdBQVlvQyxDQUFjLEdBRzVELEtBQUssU0FBUyxJQUFJQSxDQUFjLEVBQ2xDLE9BQU8sS0FBSyxTQUFTLFFBQVFBLENBQWMsRUFLN0MsSUFBSUMsRUFDSixJQUFLQSxFQUFJLEVBQUdBLEVBQUksS0FBSyxpQkFBaUIsT0FBUSxFQUFFQSxFQUM5QyxHQUFJLEtBQUssaUJBQWlCQSxDQUFDLEdBQUtGLEVBQzlCLE9BQU9FLEVBSVgsTUFBTyxFQUNULEVBV0EzQixFQUF1QixjQUNyQixTQUF5Q0osRUFBWUMsRUFBZSxDQUNsRSxJQUFJK0IsRUFBTSxPQUFPLE9BQU81QixFQUF1QixTQUFTLEVBRXBEcUIsRUFBUU8sRUFBSSxPQUFTcEMsRUFBUyxVQUFVSSxFQUFXLE9BQU8sUUFBUSxFQUFHLEVBQUksRUFDekV3QixFQUFVUSxFQUFJLFNBQVdwQyxFQUFTLFVBQVVJLEVBQVcsU0FBUyxRQUFRLEVBQUcsRUFBSSxFQUNuRmdDLEVBQUksV0FBYWhDLEVBQVcsWUFDNUJnQyxFQUFJLGVBQWlCaEMsRUFBVyx3QkFBd0JnQyxFQUFJLFNBQVMsUUFBUSxFQUNyQkEsRUFBSSxVQUFVLEVBQ3RFQSxFQUFJLEtBQU9oQyxFQUFXLE1BQ3RCZ0MsRUFBSSxjQUFnQi9CLEVBQ3BCK0IsRUFBSSxpQkFBbUJBLEVBQUksU0FBUyxRQUFRLEVBQUUsSUFBSSxTQUFVSixFQUFHLENBQzdELE9BQU9sQyxFQUFLLGlCQUFpQnNDLEVBQUksV0FBWUosRUFBRzNCLENBQWEsQ0FDL0QsQ0FBQyxFQVdELFFBSklnQyxFQUFvQmpDLEVBQVcsVUFBVSxRQUFRLEVBQUUsTUFBTSxFQUN6RGtDLEVBQXdCRixFQUFJLG9CQUFzQixDQUFDLEVBQ25ERyxFQUF1QkgsRUFBSSxtQkFBcUIsQ0FBQyxFQUU1Q0QsRUFBSSxFQUFHSyxFQUFTSCxFQUFrQixPQUFRRixFQUFJSyxFQUFRTCxJQUFLLENBQ2xFLElBQUlNLEVBQWFKLEVBQWtCRixDQUFDLEVBQ2hDTyxFQUFjLElBQUlDLEdBQ3RCRCxFQUFZLGNBQWdCRCxFQUFXLGNBQ3ZDQyxFQUFZLGdCQUFrQkQsRUFBVyxnQkFFckNBLEVBQVcsU0FDYkMsRUFBWSxPQUFTZCxFQUFRLFFBQVFhLEVBQVcsTUFBTSxFQUN0REMsRUFBWSxhQUFlRCxFQUFXLGFBQ3RDQyxFQUFZLGVBQWlCRCxFQUFXLGVBRXBDQSxFQUFXLE9BQ2JDLEVBQVksS0FBT2IsRUFBTSxRQUFRWSxFQUFXLElBQUksR0FHbERGLEVBQXFCLEtBQUtHLENBQVcsR0FHdkNKLEVBQXNCLEtBQUtJLENBQVcsRUFHeEMsT0FBQXhDLEVBQVVrQyxFQUFJLG1CQUFvQnRDLEVBQUssMEJBQTBCLEVBRTFEc0MsQ0FDVCxFQUtGNUIsRUFBdUIsVUFBVSxTQUFXLEVBSzVDLE9BQU8sZUFBZUEsRUFBdUIsVUFBVyxVQUFXLENBQ2pFLElBQUssVUFBWSxDQUNmLE9BQU8sS0FBSyxpQkFBaUIsTUFBTSxDQUNyQyxDQUNGLENBQUMsRUFLRCxTQUFTbUMsSUFBVSxDQUNqQixLQUFLLGNBQWdCLEVBQ3JCLEtBQUssZ0JBQWtCLEVBQ3ZCLEtBQUssT0FBUyxLQUNkLEtBQUssYUFBZSxLQUNwQixLQUFLLGVBQWlCLEtBQ3RCLEtBQUssS0FBTyxJQUNkLENBT0FuQyxFQUF1QixVQUFVLGVBQy9CLFNBQXlDQyxFQUFNRyxFQUFhLENBZTFELFFBZElnQyxFQUFnQixFQUNoQkMsRUFBMEIsRUFDMUJDLEVBQXVCLEVBQ3ZCQyxFQUF5QixFQUN6QkMsRUFBaUIsRUFDakJDLEVBQWUsRUFDZlQsRUFBUy9CLEVBQUssT0FDZEMsRUFBUSxFQUNSd0MsRUFBaUIsQ0FBQyxFQUNsQkMsRUFBTyxDQUFDLEVBQ1JDLEVBQW1CLENBQUMsRUFDcEJmLEVBQW9CLENBQUMsRUFDckJqQixFQUFTaUMsRUFBS0MsRUFBU0MsRUFBS0MsR0FFekI5QyxFQUFROEIsR0FDYixHQUFJL0IsRUFBSyxPQUFPQyxDQUFLLElBQU0sSUFDekJrQyxJQUNBbEMsSUFDQW1DLEVBQTBCLFVBRW5CcEMsRUFBSyxPQUFPQyxDQUFLLElBQU0sSUFDOUJBLFFBRUcsQ0FTSCxJQVJBVSxFQUFVLElBQUl1QixHQUNkdkIsRUFBUSxjQUFnQndCLEVBT25CVyxFQUFNN0MsRUFBTzZDLEVBQU1mLEdBQ2xCLE1BQUssd0JBQXdCL0IsRUFBTThDLENBQUcsRUFEWkEsSUFDOUIsQ0FPRixHQUhBRixFQUFNNUMsRUFBSyxNQUFNQyxFQUFPNkMsQ0FBRyxFQUUzQkQsRUFBVUosRUFBZUcsQ0FBRyxFQUN4QkMsRUFDRjVDLEdBQVMyQyxFQUFJLFdBQ1IsQ0FFTCxJQURBQyxFQUFVLENBQUMsRUFDSjVDLEVBQVE2QyxHQUNidEQsR0FBVSxPQUFPUSxFQUFNQyxFQUFPeUMsQ0FBSSxFQUNsQ0ssR0FBUUwsRUFBSyxNQUNiekMsRUFBUXlDLEVBQUssS0FDYkcsRUFBUSxLQUFLRSxFQUFLLEVBR3BCLEdBQUlGLEVBQVEsU0FBVyxFQUNyQixNQUFNLElBQUksTUFBTSx3Q0FBd0MsRUFHMUQsR0FBSUEsRUFBUSxTQUFXLEVBQ3JCLE1BQU0sSUFBSSxNQUFNLHdDQUF3QyxFQUcxREosRUFBZUcsQ0FBRyxFQUFJQyxFQUl4QmxDLEVBQVEsZ0JBQWtCeUIsRUFBMEJTLEVBQVEsQ0FBQyxFQUM3RFQsRUFBMEJ6QixFQUFRLGdCQUU5QmtDLEVBQVEsT0FBUyxJQUVuQmxDLEVBQVEsT0FBUzRCLEVBQWlCTSxFQUFRLENBQUMsRUFDM0NOLEdBQWtCTSxFQUFRLENBQUMsRUFHM0JsQyxFQUFRLGFBQWUwQixFQUF1QlEsRUFBUSxDQUFDLEVBQ3ZEUixFQUF1QjFCLEVBQVEsYUFFL0JBLEVBQVEsY0FBZ0IsRUFHeEJBLEVBQVEsZUFBaUIyQixFQUF5Qk8sRUFBUSxDQUFDLEVBQzNEUCxFQUF5QjNCLEVBQVEsZUFFN0JrQyxFQUFRLE9BQVMsSUFFbkJsQyxFQUFRLEtBQU82QixFQUFlSyxFQUFRLENBQUMsRUFDdkNMLEdBQWdCSyxFQUFRLENBQUMsSUFJN0JqQixFQUFrQixLQUFLakIsQ0FBTyxFQUMxQixPQUFPQSxFQUFRLGNBQWlCLFVBQ2xDZ0MsRUFBaUIsS0FBS2hDLENBQU8sRUFLbkNsQixFQUFVbUMsRUFBbUJ2QyxFQUFLLG1DQUFtQyxFQUNyRSxLQUFLLG9CQUFzQnVDLEVBRTNCbkMsRUFBVWtELEVBQWtCdEQsRUFBSywwQkFBMEIsRUFDM0QsS0FBSyxtQkFBcUJzRCxDQUM1QixFQU1GNUMsRUFBdUIsVUFBVSxhQUMvQixTQUF1Q2lELEVBQVNDLEVBQVdDLEVBQ3BCQyxFQUFhQyxFQUFhQyxFQUFPLENBTXRFLEdBQUlMLEVBQVFFLENBQVMsR0FBSyxFQUN4QixNQUFNLElBQUksVUFBVSxnREFDRUYsRUFBUUUsQ0FBUyxDQUFDLEVBRTFDLEdBQUlGLEVBQVFHLENBQVcsRUFBSSxFQUN6QixNQUFNLElBQUksVUFBVSxrREFDRUgsRUFBUUcsQ0FBVyxDQUFDLEVBRzVDLE9BQU83RCxHQUFhLE9BQU8wRCxFQUFTQyxFQUFXRyxFQUFhQyxDQUFLLENBQ25FLEVBTUZ0RCxFQUF1QixVQUFVLG1CQUMvQixVQUFnRCxDQUM5QyxRQUFTRSxFQUFRLEVBQUdBLEVBQVEsS0FBSyxtQkFBbUIsT0FBUSxFQUFFQSxFQUFPLENBQ25FLElBQUlVLEVBQVUsS0FBSyxtQkFBbUJWLENBQUssRUFNM0MsR0FBSUEsRUFBUSxFQUFJLEtBQUssbUJBQW1CLE9BQVEsQ0FDOUMsSUFBSXFELEVBQWMsS0FBSyxtQkFBbUJyRCxFQUFRLENBQUMsRUFFbkQsR0FBSVUsRUFBUSxnQkFBa0IyQyxFQUFZLGNBQWUsQ0FDdkQzQyxFQUFRLG9CQUFzQjJDLEVBQVksZ0JBQWtCLEVBQzVELFVBS0ozQyxFQUFRLG9CQUFzQixJQUVsQyxFQTBCRlosRUFBdUIsVUFBVSxvQkFDL0IsU0FBK0NjLEVBQU8sQ0FDcEQsSUFBSUUsRUFBUyxDQUNYLGNBQWUxQixFQUFLLE9BQU93QixFQUFPLE1BQU0sRUFDeEMsZ0JBQWlCeEIsRUFBSyxPQUFPd0IsRUFBTyxRQUFRLENBQzlDLEVBRUlaLEVBQVEsS0FBSyxhQUNmYyxFQUNBLEtBQUssbUJBQ0wsZ0JBQ0Esa0JBQ0ExQixFQUFLLG9DQUNMQSxFQUFLLE9BQU93QixFQUFPLE9BQVFuQixFQUFrQixvQkFBb0IsQ0FDbkUsRUFFQSxHQUFJTyxHQUFTLEVBQUcsQ0FDZCxJQUFJVSxFQUFVLEtBQUssbUJBQW1CVixDQUFLLEVBRTNDLEdBQUlVLEVBQVEsZ0JBQWtCSSxFQUFPLGNBQWUsQ0FDbEQsSUFBSUgsRUFBU3ZCLEVBQUssT0FBT3NCLEVBQVMsU0FBVSxJQUFJLEVBQzVDQyxJQUFXLE9BQ2JBLEVBQVMsS0FBSyxTQUFTLEdBQUdBLENBQU0sRUFDaENBLEVBQVN2QixFQUFLLGlCQUFpQixLQUFLLFdBQVl1QixFQUFRLEtBQUssYUFBYSxHQUU1RSxJQUFJMkMsRUFBT2xFLEVBQUssT0FBT3NCLEVBQVMsT0FBUSxJQUFJLEVBQzVDLE9BQUk0QyxJQUFTLE9BQ1hBLEVBQU8sS0FBSyxPQUFPLEdBQUdBLENBQUksR0FFckIsQ0FDTCxPQUFRM0MsRUFDUixLQUFNdkIsRUFBSyxPQUFPc0IsRUFBUyxlQUFnQixJQUFJLEVBQy9DLE9BQVF0QixFQUFLLE9BQU9zQixFQUFTLGlCQUFrQixJQUFJLEVBQ25ELEtBQU00QyxDQUNSLEdBSUosTUFBTyxDQUNMLE9BQVEsS0FDUixLQUFNLEtBQ04sT0FBUSxLQUNSLEtBQU0sSUFDUixDQUNGLEVBTUZ4RCxFQUF1QixVQUFVLHdCQUMvQixVQUEwRCxDQUN4RCxPQUFLLEtBQUssZUFHSCxLQUFLLGVBQWUsUUFBVSxLQUFLLFNBQVMsS0FBSyxHQUN0RCxDQUFDLEtBQUssZUFBZSxLQUFLLFNBQVV5RCxFQUFJLENBQUUsT0FBT0EsR0FBTSxJQUFNLENBQUMsRUFIdkQsRUFJWCxFQU9GekQsRUFBdUIsVUFBVSxpQkFDL0IsU0FBNEN5QixFQUFTaUMsRUFBZSxDQUNsRSxHQUFJLENBQUMsS0FBSyxlQUNSLE9BQU8sS0FHVCxJQUFJeEQsRUFBUSxLQUFLLGlCQUFpQnVCLENBQU8sRUFDekMsR0FBSXZCLEdBQVMsRUFDWCxPQUFPLEtBQUssZUFBZUEsQ0FBSyxFQUdsQyxJQUFJd0IsRUFBaUJELEVBQ2pCLEtBQUssWUFBYyxPQUNyQkMsRUFBaUJwQyxFQUFLLFNBQVMsS0FBSyxXQUFZb0MsQ0FBYyxHQUdoRSxJQUFJaUMsRUFDSixHQUFJLEtBQUssWUFBYyxPQUNmQSxFQUFNckUsRUFBSyxTQUFTLEtBQUssVUFBVSxHQUFJLENBSzdDLElBQUlzRSxFQUFpQmxDLEVBQWUsUUFBUSxhQUFjLEVBQUUsRUFDNUQsR0FBSWlDLEVBQUksUUFBVSxRQUNYLEtBQUssU0FBUyxJQUFJQyxDQUFjLEVBQ3JDLE9BQU8sS0FBSyxlQUFlLEtBQUssU0FBUyxRQUFRQSxDQUFjLENBQUMsRUFHbEUsSUFBSyxDQUFDRCxFQUFJLE1BQVFBLEVBQUksTUFBUSxNQUN2QixLQUFLLFNBQVMsSUFBSSxJQUFNakMsQ0FBYyxFQUMzQyxPQUFPLEtBQUssZUFBZSxLQUFLLFNBQVMsUUFBUSxJQUFNQSxDQUFjLENBQUMsRUFRMUUsR0FBSWdDLEVBQ0YsT0FBTyxLQUdQLE1BQU0sSUFBSSxNQUFNLElBQU1oQyxFQUFpQiw0QkFBNEIsQ0FFdkUsRUF5QkYxQixFQUF1QixVQUFVLHFCQUMvQixTQUFnRGMsRUFBTyxDQUNyRCxJQUFJRCxFQUFTdkIsRUFBSyxPQUFPd0IsRUFBTyxRQUFRLEVBRXhDLEdBREFELEVBQVMsS0FBSyxpQkFBaUJBLENBQU0sRUFDakNBLEVBQVMsRUFDWCxNQUFPLENBQ0wsS0FBTSxLQUNOLE9BQVEsS0FDUixXQUFZLElBQ2QsRUFHRixJQUFJRyxFQUFTLENBQ1gsT0FBUUgsRUFDUixhQUFjdkIsRUFBSyxPQUFPd0IsRUFBTyxNQUFNLEVBQ3ZDLGVBQWdCeEIsRUFBSyxPQUFPd0IsRUFBTyxRQUFRLENBQzdDLEVBRUlaLEVBQVEsS0FBSyxhQUNmYyxFQUNBLEtBQUssa0JBQ0wsZUFDQSxpQkFDQTFCLEVBQUssMkJBQ0xBLEVBQUssT0FBT3dCLEVBQU8sT0FBUW5CLEVBQWtCLG9CQUFvQixDQUNuRSxFQUVBLEdBQUlPLEdBQVMsRUFBRyxDQUNkLElBQUlVLEVBQVUsS0FBSyxrQkFBa0JWLENBQUssRUFFMUMsR0FBSVUsRUFBUSxTQUFXSSxFQUFPLE9BQzVCLE1BQU8sQ0FDTCxLQUFNMUIsRUFBSyxPQUFPc0IsRUFBUyxnQkFBaUIsSUFBSSxFQUNoRCxPQUFRdEIsRUFBSyxPQUFPc0IsRUFBUyxrQkFBbUIsSUFBSSxFQUNwRCxXQUFZdEIsRUFBSyxPQUFPc0IsRUFBUyxzQkFBdUIsSUFBSSxDQUM5RCxFQUlKLE1BQU8sQ0FDTCxLQUFNLEtBQ04sT0FBUSxLQUNSLFdBQVksSUFDZCxDQUNGLEVBRUZ2QixFQUFRLHVCQUF5QlcsRUFtRGpDLFNBQVNELEVBQXlCSCxFQUFZQyxFQUFlLENBQzNELElBQUlDLEVBQVlGLEVBQ1osT0FBT0EsR0FBZSxXQUN4QkUsRUFBWVIsRUFBSyxvQkFBb0JNLENBQVUsR0FHakQsSUFBSXVCLEVBQVU3QixFQUFLLE9BQU9RLEVBQVcsU0FBUyxFQUMxQytELEVBQVd2RSxFQUFLLE9BQU9RLEVBQVcsVUFBVSxFQUVoRCxHQUFJcUIsR0FBVyxLQUFLLFNBQ2xCLE1BQU0sSUFBSSxNQUFNLHdCQUEwQkEsQ0FBTyxFQUduRCxLQUFLLFNBQVcsSUFBSTNCLEVBQ3BCLEtBQUssT0FBUyxJQUFJQSxFQUVsQixJQUFJc0UsRUFBYSxDQUNmLEtBQU0sR0FDTixPQUFRLENBQ1YsRUFDQSxLQUFLLFVBQVlELEVBQVMsSUFBSSxTQUFVLEVBQUcsQ0FDekMsR0FBSSxFQUFFLElBR0osTUFBTSxJQUFJLE1BQU0sb0RBQW9ELEVBRXRFLElBQUlFLEVBQVN6RSxFQUFLLE9BQU8sRUFBRyxRQUFRLEVBQ2hDMEUsRUFBYTFFLEVBQUssT0FBT3lFLEVBQVEsTUFBTSxFQUN2Q0UsRUFBZTNFLEVBQUssT0FBT3lFLEVBQVEsUUFBUSxFQUUvQyxHQUFJQyxFQUFhRixFQUFXLE1BQ3ZCRSxJQUFlRixFQUFXLE1BQVFHLEVBQWVILEVBQVcsT0FDL0QsTUFBTSxJQUFJLE1BQU0sc0RBQXNELEVBRXhFLE9BQUFBLEVBQWFDLEVBRU4sQ0FDTCxnQkFBaUIsQ0FHZixjQUFlQyxFQUFhLEVBQzVCLGdCQUFpQkMsRUFBZSxDQUNsQyxFQUNBLFNBQVUsSUFBSXRFLEVBQWtCTCxFQUFLLE9BQU8sRUFBRyxLQUFLLEVBQUdPLENBQWEsQ0FDdEUsQ0FDRixDQUFDLENBQ0gsQ0FFQUUsRUFBeUIsVUFBWSxPQUFPLE9BQU9KLEVBQWtCLFNBQVMsRUFDOUVJLEVBQXlCLFVBQVUsWUFBY0osRUFLakRJLEVBQXlCLFVBQVUsU0FBVyxFQUs5QyxPQUFPLGVBQWVBLEVBQXlCLFVBQVcsVUFBVyxDQUNuRSxJQUFLLFVBQVksQ0FFZixRQURJcUIsRUFBVSxDQUFDLEVBQ05PLEVBQUksRUFBR0EsRUFBSSxLQUFLLFVBQVUsT0FBUUEsSUFDekMsUUFBU3VDLEVBQUksRUFBR0EsRUFBSSxLQUFLLFVBQVV2QyxDQUFDLEVBQUUsU0FBUyxRQUFRLE9BQVF1QyxJQUM3RDlDLEVBQVEsS0FBSyxLQUFLLFVBQVVPLENBQUMsRUFBRSxTQUFTLFFBQVF1QyxDQUFDLENBQUMsRUFHdEQsT0FBTzlDLENBQ1QsQ0FDRixDQUFDLEVBcUJEckIsRUFBeUIsVUFBVSxvQkFDakMsU0FBc0RlLEVBQU8sQ0FDM0QsSUFBSUUsRUFBUyxDQUNYLGNBQWUxQixFQUFLLE9BQU93QixFQUFPLE1BQU0sRUFDeEMsZ0JBQWlCeEIsRUFBSyxPQUFPd0IsRUFBTyxRQUFRLENBQzlDLEVBSUlxRCxFQUFlNUUsR0FBYSxPQUFPeUIsRUFBUSxLQUFLLFVBQ2xELFNBQVNBLEVBQVFvRCxFQUFTLENBQ3hCLElBQUlDLEVBQU1yRCxFQUFPLGNBQWdCb0QsRUFBUSxnQkFBZ0IsY0FDekQsT0FBSUMsR0FJSXJELEVBQU8sZ0JBQ1BvRCxFQUFRLGdCQUFnQixlQUNsQyxDQUFDLEVBQ0NBLEVBQVUsS0FBSyxVQUFVRCxDQUFZLEVBRXpDLE9BQUtDLEVBU0VBLEVBQVEsU0FBUyxvQkFBb0IsQ0FDMUMsS0FBTXBELEVBQU8sZUFDVm9ELEVBQVEsZ0JBQWdCLGNBQWdCLEdBQzNDLE9BQVFwRCxFQUFPLGlCQUNab0QsRUFBUSxnQkFBZ0IsZ0JBQWtCcEQsRUFBTyxjQUMvQ29ELEVBQVEsZ0JBQWdCLGdCQUFrQixFQUMxQyxHQUNMLEtBQU10RCxFQUFNLElBQ2QsQ0FBQyxFQWhCUSxDQUNMLE9BQVEsS0FDUixLQUFNLEtBQ04sT0FBUSxLQUNSLEtBQU0sSUFDUixDQVlKLEVBTUZmLEVBQXlCLFVBQVUsd0JBQ2pDLFVBQTRELENBQzFELE9BQU8sS0FBSyxVQUFVLE1BQU0sU0FBVXlCLEVBQUcsQ0FDdkMsT0FBT0EsRUFBRSxTQUFTLHdCQUF3QixDQUM1QyxDQUFDLENBQ0gsRUFPRnpCLEVBQXlCLFVBQVUsaUJBQ2pDLFNBQW1EMEIsRUFBU2lDLEVBQWUsQ0FDekUsUUFBUy9CLEVBQUksRUFBR0EsRUFBSSxLQUFLLFVBQVUsT0FBUUEsSUFBSyxDQUM5QyxJQUFJeUMsRUFBVSxLQUFLLFVBQVV6QyxDQUFDLEVBRTFCMkMsRUFBVUYsRUFBUSxTQUFTLGlCQUFpQjNDLEVBQVMsRUFBSSxFQUM3RCxHQUFJNkMsRUFDRixPQUFPQSxFQUdYLEdBQUlaLEVBQ0YsT0FBTyxLQUdQLE1BQU0sSUFBSSxNQUFNLElBQU1qQyxFQUFVLDRCQUE0QixDQUVoRSxFQW9CRjFCLEVBQXlCLFVBQVUscUJBQ2pDLFNBQXVEZSxFQUFPLENBQzVELFFBQVNhLEVBQUksRUFBR0EsRUFBSSxLQUFLLFVBQVUsT0FBUUEsSUFBSyxDQUM5QyxJQUFJeUMsRUFBVSxLQUFLLFVBQVV6QyxDQUFDLEVBSTlCLEdBQUl5QyxFQUFRLFNBQVMsaUJBQWlCOUUsRUFBSyxPQUFPd0IsRUFBTyxRQUFRLENBQUMsSUFBTSxHQUd4RSxLQUFJeUQsRUFBb0JILEVBQVEsU0FBUyxxQkFBcUJ0RCxDQUFLLEVBQ25FLEdBQUl5RCxFQUFtQixDQUNyQixJQUFJQyxFQUFNLENBQ1IsS0FBTUQsRUFBa0IsTUFDckJILEVBQVEsZ0JBQWdCLGNBQWdCLEdBQzNDLE9BQVFHLEVBQWtCLFFBQ3ZCSCxFQUFRLGdCQUFnQixnQkFBa0JHLEVBQWtCLEtBQzFESCxFQUFRLGdCQUFnQixnQkFBa0IsRUFDMUMsRUFDUCxFQUNBLE9BQU9JLElBSVgsTUFBTyxDQUNMLEtBQU0sS0FDTixPQUFRLElBQ1YsQ0FDRixFQU9GekUsRUFBeUIsVUFBVSxlQUNqQyxTQUFnREUsRUFBTUcsRUFBYSxDQUNqRSxLQUFLLG9CQUFzQixDQUFDLEVBQzVCLEtBQUssbUJBQXFCLENBQUMsRUFDM0IsUUFBU3VCLEVBQUksRUFBR0EsRUFBSSxLQUFLLFVBQVUsT0FBUUEsSUFHekMsUUFGSXlDLEVBQVUsS0FBSyxVQUFVekMsQ0FBQyxFQUMxQjhDLEVBQWtCTCxFQUFRLFNBQVMsbUJBQzlCRixFQUFJLEVBQUdBLEVBQUlPLEVBQWdCLE9BQVFQLElBQUssQ0FDL0MsSUFBSXRELEVBQVU2RCxFQUFnQlAsQ0FBQyxFQUUzQnJELEVBQVN1RCxFQUFRLFNBQVMsU0FBUyxHQUFHeEQsRUFBUSxNQUFNLEVBQ3hEQyxFQUFTdkIsRUFBSyxpQkFBaUI4RSxFQUFRLFNBQVMsV0FBWXZELEVBQVEsS0FBSyxhQUFhLEVBQ3RGLEtBQUssU0FBUyxJQUFJQSxDQUFNLEVBQ3hCQSxFQUFTLEtBQUssU0FBUyxRQUFRQSxDQUFNLEVBRXJDLElBQUkyQyxFQUFPLEtBQ1A1QyxFQUFRLE9BQ1Y0QyxFQUFPWSxFQUFRLFNBQVMsT0FBTyxHQUFHeEQsRUFBUSxJQUFJLEVBQzlDLEtBQUssT0FBTyxJQUFJNEMsQ0FBSSxFQUNwQkEsRUFBTyxLQUFLLE9BQU8sUUFBUUEsQ0FBSSxHQU9qQyxJQUFJa0IsRUFBa0IsQ0FDcEIsT0FBUTdELEVBQ1IsY0FBZUQsRUFBUSxlQUNwQndELEVBQVEsZ0JBQWdCLGNBQWdCLEdBQzNDLGdCQUFpQnhELEVBQVEsaUJBQ3RCd0QsRUFBUSxnQkFBZ0IsZ0JBQWtCeEQsRUFBUSxjQUNqRHdELEVBQVEsZ0JBQWdCLGdCQUFrQixFQUMxQyxHQUNKLGFBQWN4RCxFQUFRLGFBQ3RCLGVBQWdCQSxFQUFRLGVBQ3hCLEtBQU00QyxDQUNSLEVBRUEsS0FBSyxvQkFBb0IsS0FBS2tCLENBQWUsRUFDekMsT0FBT0EsRUFBZ0IsY0FBaUIsVUFDMUMsS0FBSyxtQkFBbUIsS0FBS0EsQ0FBZSxFQUtsRGhGLEVBQVUsS0FBSyxvQkFBcUJKLEVBQUssbUNBQW1DLEVBQzVFSSxFQUFVLEtBQUssbUJBQW9CSixFQUFLLDBCQUEwQixDQUNwRSxFQUVGRCxFQUFRLHlCQUEyQlUsSUN4bkNuQyxJQUFBNEUsR0FBQUMsRUFBQUMsSUFBQSxDQU9BLElBQUlDLEdBQXFCLEtBQWtDLG1CQUN2REMsRUFBTyxJQUlQQyxHQUFnQixVQUdoQkMsR0FBZSxHQUtmQyxFQUFlLHFCQWNuQixTQUFTQyxFQUFXQyxFQUFPQyxFQUFTQyxFQUFTQyxFQUFTQyxFQUFPLENBQzNELEtBQUssU0FBVyxDQUFDLEVBQ2pCLEtBQUssZUFBaUIsQ0FBQyxFQUN2QixLQUFLLEtBQU9KLEdBQWdCLEtBQzVCLEtBQUssT0FBU0MsR0FBa0IsS0FDaEMsS0FBSyxPQUFTQyxHQUFrQixLQUNoQyxLQUFLLEtBQU9FLEdBQWdCLEtBQzVCLEtBQUtOLENBQVksRUFBSSxHQUNqQkssR0FBVyxNQUFNLEtBQUssSUFBSUEsQ0FBTyxDQUN2QyxDQVVBSixFQUFXLHdCQUNULFNBQTRDTSxFQUFnQkMsRUFBb0JDLEVBQWUsQ0FHN0YsSUFBSUMsRUFBTyxJQUFJVCxFQU1YVSxFQUFpQkosRUFBZSxNQUFNVCxFQUFhLEVBQ25EYyxFQUFzQixFQUN0QkMsRUFBZ0IsVUFBVyxDQUM3QixJQUFJQyxFQUFlQyxFQUFZLEVBRTNCQyxFQUFVRCxFQUFZLEdBQUssR0FDL0IsT0FBT0QsRUFBZUUsRUFFdEIsU0FBU0QsR0FBYyxDQUNyQixPQUFPSCxFQUFzQkQsRUFBZSxPQUN4Q0EsRUFBZUMsR0FBcUIsRUFBSSxNQUM5QyxDQUNGLEVBR0lLLEVBQW9CLEVBQUdDLEVBQXNCLEVBSzdDQyxFQUFjLEtBRWxCLE9BQUFYLEVBQW1CLFlBQVksU0FBVVksRUFBUyxDQUNoRCxHQUFJRCxJQUFnQixLQUdsQixHQUFJRixFQUFvQkcsRUFBUSxjQUU5QkMsRUFBbUJGLEVBQWFOLEVBQWMsQ0FBQyxFQUMvQ0ksSUFDQUMsRUFBc0IsTUFFakIsQ0FJTCxJQUFJSSxFQUFXWCxFQUFlQyxDQUFtQixHQUFLLEdBQ2xEVyxFQUFPRCxFQUFTLE9BQU8sRUFBR0YsRUFBUSxnQkFDUkYsQ0FBbUIsRUFDakRQLEVBQWVDLENBQW1CLEVBQUlVLEVBQVMsT0FBT0YsRUFBUSxnQkFDMUJGLENBQW1CLEVBQ3ZEQSxFQUFzQkUsRUFBUSxnQkFDOUJDLEVBQW1CRixFQUFhSSxDQUFJLEVBRXBDSixFQUFjQyxFQUNkLE9BTUosS0FBT0gsRUFBb0JHLEVBQVEsZUFDakNWLEVBQUssSUFBSUcsRUFBYyxDQUFDLEVBQ3hCSSxJQUVGLEdBQUlDLEVBQXNCRSxFQUFRLGdCQUFpQixDQUNqRCxJQUFJRSxFQUFXWCxFQUFlQyxDQUFtQixHQUFLLEdBQ3RERixFQUFLLElBQUlZLEVBQVMsT0FBTyxFQUFHRixFQUFRLGVBQWUsQ0FBQyxFQUNwRFQsRUFBZUMsQ0FBbUIsRUFBSVUsRUFBUyxPQUFPRixFQUFRLGVBQWUsRUFDN0VGLEVBQXNCRSxFQUFRLGdCQUVoQ0QsRUFBY0MsQ0FDaEIsRUFBRyxJQUFJLEVBRUhSLEVBQXNCRCxFQUFlLFNBQ25DUSxHQUVGRSxFQUFtQkYsRUFBYU4sRUFBYyxDQUFDLEVBR2pESCxFQUFLLElBQUlDLEVBQWUsT0FBT0MsQ0FBbUIsRUFBRSxLQUFLLEVBQUUsQ0FBQyxHQUk5REosRUFBbUIsUUFBUSxRQUFRLFNBQVVnQixFQUFZLENBQ3ZELElBQUlDLEVBQVVqQixFQUFtQixpQkFBaUJnQixDQUFVLEVBQ3hEQyxHQUFXLE9BQ1RoQixHQUFpQixPQUNuQmUsRUFBYTNCLEVBQUssS0FBS1ksRUFBZWUsQ0FBVSxHQUVsRGQsRUFBSyxpQkFBaUJjLEVBQVlDLENBQU8sRUFFN0MsQ0FBQyxFQUVNZixFQUVQLFNBQVNXLEVBQW1CRCxFQUFTRyxFQUFNLENBQ3pDLEdBQUlILElBQVksTUFBUUEsRUFBUSxTQUFXLE9BQ3pDVixFQUFLLElBQUlhLENBQUksTUFDUixDQUNMLElBQUlHLEVBQVNqQixFQUNUWixFQUFLLEtBQUtZLEVBQWVXLEVBQVEsTUFBTSxFQUN2Q0EsRUFBUSxPQUNaVixFQUFLLElBQUksSUFBSVQsRUFBV21CLEVBQVEsYUFDUkEsRUFBUSxlQUNSTSxFQUNBSCxFQUNBSCxFQUFRLElBQUksQ0FBQyxFQUV6QyxDQUNGLEVBUUZuQixFQUFXLFVBQVUsSUFBTSxTQUF3QjBCLEVBQVEsQ0FDekQsR0FBSSxNQUFNLFFBQVFBLENBQU0sRUFDdEJBLEVBQU8sUUFBUSxTQUFVQyxFQUFPLENBQzlCLEtBQUssSUFBSUEsQ0FBSyxDQUNoQixFQUFHLElBQUksVUFFQUQsRUFBTzNCLENBQVksR0FBSyxPQUFPMkIsR0FBVyxTQUM3Q0EsR0FDRixLQUFLLFNBQVMsS0FBS0EsQ0FBTSxNQUkzQixPQUFNLElBQUksVUFDUiw4RUFBZ0ZBLENBQ2xGLEVBRUYsT0FBTyxJQUNULEVBUUExQixFQUFXLFVBQVUsUUFBVSxTQUE0QjBCLEVBQVEsQ0FDakUsR0FBSSxNQUFNLFFBQVFBLENBQU0sRUFDdEIsUUFBU0UsRUFBSUYsRUFBTyxPQUFPLEVBQUdFLEdBQUssRUFBR0EsSUFDcEMsS0FBSyxRQUFRRixFQUFPRSxDQUFDLENBQUMsVUFHakJGLEVBQU8zQixDQUFZLEdBQUssT0FBTzJCLEdBQVcsU0FDakQsS0FBSyxTQUFTLFFBQVFBLENBQU0sTUFHNUIsT0FBTSxJQUFJLFVBQ1IsOEVBQWdGQSxDQUNsRixFQUVGLE9BQU8sSUFDVCxFQVNBMUIsRUFBVyxVQUFVLEtBQU8sU0FBeUI2QixFQUFLLENBRXhELFFBRElGLEVBQ0tDLEVBQUksRUFBR0UsRUFBTSxLQUFLLFNBQVMsT0FBUUYsRUFBSUUsRUFBS0YsSUFDbkRELEVBQVEsS0FBSyxTQUFTQyxDQUFDLEVBQ25CRCxFQUFNNUIsQ0FBWSxFQUNwQjRCLEVBQU0sS0FBS0UsQ0FBRyxFQUdWRixJQUFVLElBQ1pFLEVBQUlGLEVBQU8sQ0FBRSxPQUFRLEtBQUssT0FDYixLQUFNLEtBQUssS0FDWCxPQUFRLEtBQUssT0FDYixLQUFNLEtBQUssSUFBSyxDQUFDLENBSXRDLEVBUUEzQixFQUFXLFVBQVUsS0FBTyxTQUF5QitCLEVBQU0sQ0FDekQsSUFBSUMsRUFDQUosRUFDQUUsRUFBTSxLQUFLLFNBQVMsT0FDeEIsR0FBSUEsRUFBTSxFQUFHLENBRVgsSUFEQUUsRUFBYyxDQUFDLEVBQ1ZKLEVBQUksRUFBR0EsRUFBSUUsRUFBSSxFQUFHRixJQUNyQkksRUFBWSxLQUFLLEtBQUssU0FBU0osQ0FBQyxDQUFDLEVBQ2pDSSxFQUFZLEtBQUtELENBQUksRUFFdkJDLEVBQVksS0FBSyxLQUFLLFNBQVNKLENBQUMsQ0FBQyxFQUNqQyxLQUFLLFNBQVdJLEVBRWxCLE9BQU8sSUFDVCxFQVNBaEMsRUFBVyxVQUFVLGFBQWUsU0FBaUNpQyxFQUFVQyxFQUFjLENBQzNGLElBQUlDLEVBQVksS0FBSyxTQUFTLEtBQUssU0FBUyxPQUFTLENBQUMsRUFDdEQsT0FBSUEsRUFBVXBDLENBQVksRUFDeEJvQyxFQUFVLGFBQWFGLEVBQVVDLENBQVksRUFFdEMsT0FBT0MsR0FBYyxTQUM1QixLQUFLLFNBQVMsS0FBSyxTQUFTLE9BQVMsQ0FBQyxFQUFJQSxFQUFVLFFBQVFGLEVBQVVDLENBQVksRUFHbEYsS0FBSyxTQUFTLEtBQUssR0FBRyxRQUFRRCxFQUFVQyxDQUFZLENBQUMsRUFFaEQsSUFDVCxFQVNBbEMsRUFBVyxVQUFVLGlCQUNuQixTQUFxQ29DLEVBQWFDLEVBQWdCLENBQ2hFLEtBQUssZUFBZXpDLEVBQUssWUFBWXdDLENBQVcsQ0FBQyxFQUFJQyxDQUN2RCxFQVFGckMsRUFBVyxVQUFVLG1CQUNuQixTQUF1QzZCLEVBQUssQ0FDMUMsUUFBU0QsRUFBSSxFQUFHRSxFQUFNLEtBQUssU0FBUyxPQUFRRixFQUFJRSxFQUFLRixJQUMvQyxLQUFLLFNBQVNBLENBQUMsRUFBRTdCLENBQVksR0FDL0IsS0FBSyxTQUFTNkIsQ0FBQyxFQUFFLG1CQUFtQkMsQ0FBRyxFQUszQyxRQURJUyxFQUFVLE9BQU8sS0FBSyxLQUFLLGNBQWMsRUFDcENWLEVBQUksRUFBR0UsRUFBTVEsRUFBUSxPQUFRVixFQUFJRSxFQUFLRixJQUM3Q0MsRUFBSWpDLEVBQUssY0FBYzBDLEVBQVFWLENBQUMsQ0FBQyxFQUFHLEtBQUssZUFBZVUsRUFBUVYsQ0FBQyxDQUFDLENBQUMsQ0FFdkUsRUFNRjVCLEVBQVcsVUFBVSxTQUFXLFVBQStCLENBQzdELElBQUl1QyxFQUFNLEdBQ1YsWUFBSyxLQUFLLFNBQVVaLEVBQU8sQ0FDekJZLEdBQU9aLENBQ1QsQ0FBQyxFQUNNWSxDQUNULEVBTUF2QyxFQUFXLFVBQVUsc0JBQXdCLFNBQTBDd0MsRUFBTyxDQUM1RixJQUFJQyxFQUFZLENBQ2QsS0FBTSxHQUNOLEtBQU0sRUFDTixPQUFRLENBQ1YsRUFDSUMsRUFBTSxJQUFJL0MsR0FBbUI2QyxDQUFLLEVBQ2xDRyxFQUFzQixHQUN0QkMsRUFBcUIsS0FDckJDLEVBQW1CLEtBQ25CQyxFQUFxQixLQUNyQkMsRUFBbUIsS0FDdkIsWUFBSyxLQUFLLFNBQVVwQixFQUFPcUIsRUFBVSxDQUNuQ1AsRUFBVSxNQUFRZCxFQUNkcUIsRUFBUyxTQUFXLE1BQ2pCQSxFQUFTLE9BQVMsTUFDbEJBLEVBQVMsU0FBVyxPQUN0QkosSUFBdUJJLEVBQVMsUUFDN0JILElBQXFCRyxFQUFTLE1BQzlCRixJQUF1QkUsRUFBUyxRQUNoQ0QsSUFBcUJDLEVBQVMsT0FDbENOLEVBQUksV0FBVyxDQUNiLE9BQVFNLEVBQVMsT0FDakIsU0FBVSxDQUNSLEtBQU1BLEVBQVMsS0FDZixPQUFRQSxFQUFTLE1BQ25CLEVBQ0EsVUFBVyxDQUNULEtBQU1QLEVBQVUsS0FDaEIsT0FBUUEsRUFBVSxNQUNwQixFQUNBLEtBQU1PLEVBQVMsSUFDakIsQ0FBQyxFQUVISixFQUFxQkksRUFBUyxPQUM5QkgsRUFBbUJHLEVBQVMsS0FDNUJGLEVBQXFCRSxFQUFTLE9BQzlCRCxFQUFtQkMsRUFBUyxLQUM1QkwsRUFBc0IsSUFDYkEsSUFDVEQsRUFBSSxXQUFXLENBQ2IsVUFBVyxDQUNULEtBQU1ELEVBQVUsS0FDaEIsT0FBUUEsRUFBVSxNQUNwQixDQUNGLENBQUMsRUFDREcsRUFBcUIsS0FDckJELEVBQXNCLElBRXhCLFFBQVNNLEVBQU0sRUFBR0MsRUFBU3ZCLEVBQU0sT0FBUXNCLEVBQU1DLEVBQVFELElBQ2pEdEIsRUFBTSxXQUFXc0IsQ0FBRyxJQUFNbkQsSUFDNUIyQyxFQUFVLE9BQ1ZBLEVBQVUsT0FBUyxFQUVmUSxFQUFNLElBQU1DLEdBQ2ROLEVBQXFCLEtBQ3JCRCxFQUFzQixJQUNiQSxHQUNURCxFQUFJLFdBQVcsQ0FDYixPQUFRTSxFQUFTLE9BQ2pCLFNBQVUsQ0FDUixLQUFNQSxFQUFTLEtBQ2YsT0FBUUEsRUFBUyxNQUNuQixFQUNBLFVBQVcsQ0FDVCxLQUFNUCxFQUFVLEtBQ2hCLE9BQVFBLEVBQVUsTUFDcEIsRUFDQSxLQUFNTyxFQUFTLElBQ2pCLENBQUMsR0FHSFAsRUFBVSxRQUdoQixDQUFDLEVBQ0QsS0FBSyxtQkFBbUIsU0FBVWxCLEVBQVk0QixFQUFlLENBQzNEVCxFQUFJLGlCQUFpQm5CLEVBQVk0QixDQUFhLENBQ2hELENBQUMsRUFFTSxDQUFFLEtBQU1WLEVBQVUsS0FBTSxJQUFLQyxDQUFJLENBQzFDLEVBRUFoRCxHQUFRLFdBQWFNLElDNVpyQixJQUFBb0QsR0FBQUMsRUFBQUMsR0FBQSxDQUtBQSxFQUFRLG1CQUFxQixLQUFzQyxtQkFDbkVBLEVBQVEsa0JBQW9CLEtBQXFDLGtCQUNqRUEsRUFBUSxXQUFhLEtBQTZCLGFDUGxELElBQUFDLEdBQUFDLEVBQUEsQ0FBQUMsR0FBQUMsS0FBQSxDQUVBLElBQUlDLEdBQVcsT0FBTyxVQUFVLFNBRTVCQyxHQUNGLE9BQU8sT0FBVyxLQUNsQixPQUFPLE9BQU8sT0FBVSxZQUN4QixPQUFPLE9BQU8sYUFBZ0IsWUFDOUIsT0FBTyxPQUFPLE1BQVMsV0FHekIsU0FBU0MsR0FBZUMsRUFBTyxDQUM3QixPQUFPSCxHQUFTLEtBQUtHLENBQUssRUFBRSxNQUFNLEVBQUcsRUFBRSxJQUFNLGFBQy9DLENBRUEsU0FBU0MsR0FBaUJDLEVBQUtDLEVBQVlDLEVBQVEsQ0FDakRELEtBQWdCLEVBRWhCLElBQUlFLEVBQVlILEVBQUksV0FBYUMsRUFFakMsR0FBSUUsRUFBWSxFQUNkLE1BQU0sSUFBSSxXQUFXLDJCQUEyQixFQUdsRCxHQUFJRCxJQUFXLE9BQ2JBLEVBQVNDLFVBRVRELEtBQVksRUFFUkEsRUFBU0MsRUFDWCxNQUFNLElBQUksV0FBVywyQkFBMkIsRUFJcEQsT0FBT1AsR0FDSCxPQUFPLEtBQUtJLEVBQUksTUFBTUMsRUFBWUEsRUFBYUMsQ0FBTSxDQUFDLEVBQ3RELElBQUksT0FBTyxJQUFJLFdBQVdGLEVBQUksTUFBTUMsRUFBWUEsRUFBYUMsQ0FBTSxDQUFDLENBQUMsQ0FDM0UsQ0FFQSxTQUFTRSxHQUFZQyxFQUFRQyxFQUFVLENBS3JDLElBSkksT0FBT0EsR0FBYSxVQUFZQSxJQUFhLE1BQy9DQSxFQUFXLFFBR1QsQ0FBQyxPQUFPLFdBQVdBLENBQVEsRUFDN0IsTUFBTSxJQUFJLFVBQVUsNENBQTRDLEVBR2xFLE9BQU9WLEdBQ0gsT0FBTyxLQUFLUyxFQUFRQyxDQUFRLEVBQzVCLElBQUksT0FBT0QsRUFBUUMsQ0FBUSxDQUNqQyxDQUVBLFNBQVNDLEdBQVlDLEVBQU9DLEVBQWtCUCxFQUFRLENBQ3BELEdBQUksT0FBT00sR0FBVSxTQUNuQixNQUFNLElBQUksVUFBVSx1Q0FBdUMsRUFHN0QsT0FBSVgsR0FBY1csQ0FBSyxFQUNkVCxHQUFnQlMsRUFBT0MsRUFBa0JQLENBQU0sRUFHcEQsT0FBT00sR0FBVSxTQUNaSixHQUFXSSxFQUFPQyxDQUFnQixFQUdwQ2IsR0FDSCxPQUFPLEtBQUtZLENBQUssRUFDakIsSUFBSSxPQUFPQSxDQUFLLENBQ3RCLENBRUFkLEdBQU8sUUFBVWEsS0N2RWpCLElBQUFHLEdBQUFDLEVBQUEsQ0FBQUMsRUFBQUMsS0FBQSxLQUFJQyxHQUFvQixLQUFzQixrQkFDMUNDLEdBQU8sR0FBUSxNQUFNLEVBRXJCQyxFQUNKLEdBQUksQ0FDRkEsRUFBSyxHQUFRLElBQUksR0FDYixDQUFDQSxFQUFHLFlBQWMsQ0FBQ0EsRUFBRyxnQkFFeEJBLEVBQUssS0FFVCxNQUFFLENBRUYsQ0FFQSxJQUFJQyxHQUFhLEtBUWpCLFNBQVNDLEdBQWVDLEVBQUtDLEVBQVMsQ0FDcEMsT0FBT0QsRUFBSSxRQUFRQyxDQUFPLENBQzVCLENBR0EsSUFBSUMsR0FBMEIsR0FDMUJDLEdBQXdCLEdBR3hCQyxHQUE4QixHQUc5QkMsRUFBYyxPQUdkQyxFQUFvQixDQUFDLEVBR3JCQyxFQUFpQixDQUFDLEVBR2xCQyxHQUFjLHNDQUdkQyxFQUF1QixDQUFDLEVBQ3hCQyxFQUFzQixDQUFDLEVBRTNCLFNBQVNDLElBQWMsQ0FDckIsT0FBSU4sSUFBZ0IsVUFDWCxHQUNMQSxJQUFnQixPQUNYLEdBQ0EsT0FBTyxPQUFXLEtBQWlCLE9BQU8sZ0JBQW1CLFlBQWUsRUFBRSxPQUFPLFNBQVcsT0FBTyxRQUFVLE9BQU8sU0FBVyxPQUFPLFFBQVEsT0FBUyxXQUN0SyxDQUVBLFNBQVNPLElBQStCLENBQ3RDLE9BQVMsT0FBTyxTQUFZLFVBQWMsVUFBWSxNQUFVLE9BQU8sUUFBUSxJQUFPLFVBQ3hGLENBRUEsU0FBU0MsSUFBdUIsQ0FDOUIsT0FBSyxPQUFPLFNBQVksVUFBYyxVQUFZLEtBQ3pDLFFBQVEsUUFFUixFQUVYLENBRUEsU0FBU0MsSUFBc0IsQ0FDN0IsR0FBSyxPQUFPLFNBQVksVUFBYyxVQUFZLEtBQ2hELE9BQU8sUUFBUSxNQUVuQixDQUVBLFNBQVNDLEdBQWtCQyxFQUFNLENBQy9CLEdBQUssT0FBTyxTQUFZLFVBQWMsVUFBWSxNQUFVLE9BQU8sUUFBUSxNQUFTLFdBQ2xGLE9BQU8sUUFBUSxLQUFLQSxDQUFJLENBRTVCLENBRUEsU0FBU0MsR0FBWUMsRUFBTSxDQUN6QixPQUFPLFNBQVNDLEVBQUssQ0FDbkIsUUFBU0MsRUFBSSxFQUFHQSxFQUFJRixFQUFLLE9BQVFFLElBQUssQ0FDcEMsSUFBSUMsRUFBTUgsRUFBS0UsQ0FBQyxFQUFFRCxDQUFHLEVBQ3JCLEdBQUlFLEVBQ0YsT0FBT0EsRUFHWCxPQUFPLElBQ1QsQ0FDRixDQUVBLElBQUlDLEdBQWVMLEdBQVlSLENBQW9CLEVBRW5EQSxFQUFxQixLQUFLLFNBQVNiLEVBQU0sQ0FXdkMsR0FUQUEsRUFBT0EsRUFBSyxLQUFLLEVBQ2IsU0FBUyxLQUFLQSxDQUFJLElBRXBCQSxFQUFPQSxFQUFLLFFBQVEsb0JBQXFCLFNBQVMyQixFQUFVQyxFQUFPLENBQ2pFLE9BQU9BLEVBQ0wsR0FDQSxHQUNKLENBQUMsR0FFQzVCLEtBQVFVLEVBQ1YsT0FBT0EsRUFBa0JWLENBQUksRUFHL0IsSUFBSTZCLEVBQVcsR0FDZixHQUFJLENBQ0YsR0FBSzVCLEVBUU1BLEVBQUcsV0FBV0QsQ0FBSSxJQUUzQjZCLEVBQVc1QixFQUFHLGFBQWFELEVBQU0sTUFBTSxPQVZoQyxDQUVQLElBQUk4QixFQUFNLElBQUksZUFDZEEsRUFBSSxLQUFLLE1BQU85QixFQUFtQixFQUFLLEVBQ3hDOEIsRUFBSSxLQUFLLElBQUksRUFDVEEsRUFBSSxhQUFlLEdBQUtBLEVBQUksU0FBVyxNQUN6Q0QsRUFBV0MsRUFBSSxjQU1yQixNQUFFLENBRUYsQ0FFQSxPQUFPcEIsRUFBa0JWLENBQUksRUFBSTZCLENBQ25DLENBQUMsRUFJRCxTQUFTRSxHQUFtQkMsRUFBTUMsRUFBSyxDQUNyQyxHQUFJLENBQUNELEVBQU0sT0FBT0MsRUFDbEIsSUFBSUMsRUFBTWxDLEdBQUssUUFBUWdDLENBQUksRUFDdkJHLEVBQVEsa0JBQWtCLEtBQUtELENBQUcsRUFDbENQLEVBQVdRLEVBQVFBLEVBQU0sQ0FBQyxFQUFJLEdBQzlCQyxFQUFZRixFQUFJLE1BQU1QLEVBQVMsTUFBTSxFQUN6QyxPQUFJQSxHQUFZLFVBQVUsS0FBS1MsQ0FBUyxHQUV0Q1QsR0FBWSxJQUNMQSxFQUFXM0IsR0FBSyxRQUFRa0MsRUFBSSxNQUFNUCxFQUFTLE1BQU0sRUFBR00sQ0FBRyxFQUFFLFFBQVEsTUFBTyxHQUFHLEdBRTdFTixFQUFXM0IsR0FBSyxRQUFRa0MsRUFBSSxNQUFNUCxFQUFTLE1BQU0sRUFBR00sQ0FBRyxDQUNoRSxDQUVBLFNBQVNJLEdBQXFCQyxFQUFRLENBQ3BDLElBQUlDLEVBRUosR0FBSXhCLEdBQVksRUFDYixHQUFJLENBQ0YsSUFBSWUsRUFBTSxJQUFJLGVBQ2RBLEVBQUksS0FBSyxNQUFPUSxFQUFRLEVBQUssRUFDN0JSLEVBQUksS0FBSyxJQUFJLEVBQ2JTLEVBQVdULEVBQUksYUFBZSxFQUFJQSxFQUFJLGFBQWUsS0FHckQsSUFBSVUsRUFBa0JWLEVBQUksa0JBQWtCLFdBQVcsR0FDakNBLEVBQUksa0JBQWtCLGFBQWEsRUFDekQsR0FBSVUsRUFDRixPQUFPQSxDQUVYLE1BQUUsQ0FDRixDQUlIRCxFQUFXYixHQUFhWSxDQUFNLEVBSzlCLFFBSklHLEVBQUssd0hBR0xDLEVBQVdQLEVBQ1JBLEVBQVFNLEVBQUcsS0FBS0YsQ0FBUSxHQUFHRyxFQUFZUCxFQUM5QyxPQUFLTyxFQUNFQSxFQUFVLENBQUMsRUFESyxJQUV6QixDQU9BLElBQUlDLEdBQW9CdEIsR0FBWVAsQ0FBbUIsRUFDdkRBLEVBQW9CLEtBQUssU0FBU3dCLEVBQVEsQ0FDeEMsSUFBSU0sRUFBbUJQLEdBQXFCQyxDQUFNLEVBQ2xELEdBQUksQ0FBQ00sRUFBa0IsT0FBTyxLQUc5QixJQUFJQyxFQUNKLEdBQUlqQyxHQUFZLEtBQUtnQyxDQUFnQixFQUFHLENBRXRDLElBQUlFLEVBQVVGLEVBQWlCLE1BQU1BLEVBQWlCLFFBQVEsR0FBRyxFQUFJLENBQUMsRUFDdEVDLEVBQWdCM0MsR0FBVzRDLEVBQVMsUUFBUSxFQUFFLFNBQVMsRUFDdkRGLEVBQW1CTixPQUduQk0sRUFBbUJiLEdBQW1CTyxFQUFRTSxDQUFnQixFQUM5REMsRUFBZ0JuQixHQUFha0IsQ0FBZ0IsRUFHL0MsT0FBS0MsRUFJRSxDQUNMLElBQUtELEVBQ0wsSUFBS0MsQ0FDUCxFQU5TLElBT1gsQ0FBQyxFQUVELFNBQVNFLEdBQWtCQyxFQUFVLENBQ25DLElBQUlDLEVBQVl0QyxFQUFlcUMsRUFBUyxNQUFNLEVBQzlDLEdBQUksQ0FBQ0MsRUFBVyxDQUVkLElBQUlDLEVBQVlQLEdBQWtCSyxFQUFTLE1BQU0sRUFDN0NFLEdBQ0ZELEVBQVl0QyxFQUFlcUMsRUFBUyxNQUFNLEVBQUksQ0FDNUMsSUFBS0UsRUFBVSxJQUNmLElBQUssSUFBSW5ELEdBQWtCbUQsRUFBVSxHQUFHLENBQzFDLEVBSUlELEVBQVUsSUFBSSxnQkFDaEJBLEVBQVUsSUFBSSxRQUFRLFFBQVEsU0FBU1gsRUFBUSxFQUFHLENBQ2hELElBQUlULEVBQVdvQixFQUFVLElBQUksZUFBZSxDQUFDLEVBQzdDLEdBQUlwQixFQUFVLENBQ1osSUFBSUksRUFBTUYsR0FBbUJrQixFQUFVLElBQUtYLENBQU0sRUFDbEQ1QixFQUFrQnVCLENBQUcsRUFBSUosRUFFN0IsQ0FBQyxHQUdIb0IsRUFBWXRDLEVBQWVxQyxFQUFTLE1BQU0sRUFBSSxDQUM1QyxJQUFLLEtBQ0wsSUFBSyxJQUNQLEVBS0osR0FBSUMsR0FBYUEsRUFBVSxLQUFPLE9BQU9BLEVBQVUsSUFBSSxxQkFBd0IsV0FBWSxDQUN6RixJQUFJRSxFQUFtQkYsRUFBVSxJQUFJLG9CQUFvQkQsQ0FBUSxFQU9qRSxHQUFJRyxFQUFpQixTQUFXLEtBQzlCLE9BQUFBLEVBQWlCLE9BQVNwQixHQUN4QmtCLEVBQVUsSUFBS0UsRUFBaUIsTUFBTSxFQUNqQ0EsRUFJWCxPQUFPSCxDQUNULENBSUEsU0FBU0ksR0FBY0MsRUFBUSxDQUU3QixJQUFJbEIsRUFBUSx5Q0FBeUMsS0FBS2tCLENBQU0sRUFDaEUsR0FBSWxCLEVBQU8sQ0FDVCxJQUFJYSxFQUFXRCxHQUFrQixDQUMvQixPQUFRWixFQUFNLENBQUMsRUFDZixLQUFNLENBQUNBLEVBQU0sQ0FBQyxFQUNkLE9BQVFBLEVBQU0sQ0FBQyxFQUFJLENBQ3JCLENBQUMsRUFDRCxNQUFPLFdBQWFBLEVBQU0sQ0FBQyxFQUFJLEtBQU9hLEVBQVMsT0FBUyxJQUN0REEsRUFBUyxLQUFPLEtBQU9BLEVBQVMsT0FBUyxHQUFLLElBS2xELE9BREFiLEVBQVEsNkJBQTZCLEtBQUtrQixDQUFNLEVBQzVDbEIsRUFDSyxXQUFhQSxFQUFNLENBQUMsRUFBSSxLQUFPaUIsR0FBY2pCLEVBQU0sQ0FBQyxDQUFDLEVBQUksSUFJM0RrQixDQUNULENBUUEsU0FBU0MsSUFBbUIsQ0FDMUIsSUFBSUMsRUFDQUMsRUFBZSxHQUNuQixHQUFJLEtBQUssU0FBUyxFQUNoQkEsRUFBZSxhQUNWLENBQ0xELEVBQVcsS0FBSyx5QkFBeUIsRUFDckMsQ0FBQ0EsR0FBWSxLQUFLLE9BQU8sSUFDM0JDLEVBQWUsS0FBSyxjQUFjLEVBQ2xDQSxHQUFnQixNQUdkRCxFQUNGQyxHQUFnQkQsRUFLaEJDLEdBQWdCLGNBRWxCLElBQUlDLEVBQWEsS0FBSyxjQUFjLEVBQ3BDLEdBQUlBLEdBQWMsS0FBTSxDQUN0QkQsR0FBZ0IsSUFBTUMsRUFDdEIsSUFBSUMsRUFBZSxLQUFLLGdCQUFnQixFQUNwQ0EsSUFDRkYsR0FBZ0IsSUFBTUUsSUFLNUIsSUFBSUMsRUFBTyxHQUNQQyxFQUFlLEtBQUssZ0JBQWdCLEVBQ3BDQyxFQUFZLEdBQ1pDLEVBQWdCLEtBQUssY0FBYyxFQUNuQ0MsRUFBZSxFQUFFLEtBQUssV0FBVyxHQUFLRCxHQUMxQyxHQUFJQyxFQUFjLENBQ2hCLElBQUlDLEVBQVcsS0FBSyxZQUFZLEVBRTVCQSxJQUFhLG9CQUNmQSxFQUFXLFFBRWIsSUFBSUMsRUFBYSxLQUFLLGNBQWMsRUFDaENMLEdBQ0VJLEdBQVlKLEVBQWEsUUFBUUksQ0FBUSxHQUFLLElBQ2hETCxHQUFRSyxFQUFXLEtBRXJCTCxHQUFRQyxFQUNKSyxHQUFjTCxFQUFhLFFBQVEsSUFBTUssQ0FBVSxHQUFLTCxFQUFhLE9BQVNLLEVBQVcsT0FBUyxJQUNwR04sR0FBUSxRQUFVTSxFQUFhLE1BR2pDTixHQUFRSyxFQUFXLEtBQU9DLEdBQWMsb0JBRWpDSCxFQUNUSCxHQUFRLFFBQVVDLEdBQWdCLGVBQ3pCQSxFQUNURCxHQUFRQyxHQUVSRCxHQUFRSCxFQUNSSyxFQUFZLElBRWQsT0FBSUEsSUFDRkYsR0FBUSxLQUFPSCxFQUFlLEtBRXpCRyxDQUNULENBRUEsU0FBU08sR0FBY0MsRUFBTyxDQUM1QixJQUFJQyxFQUFTLENBQUMsRUFDZCxjQUFPLG9CQUFvQixPQUFPLGVBQWVELENBQUssQ0FBQyxFQUFFLFFBQVEsU0FBU0UsRUFBTSxDQUM5RUQsRUFBT0MsQ0FBSSxFQUFJLGNBQWMsS0FBS0EsQ0FBSSxFQUFJLFVBQVcsQ0FBRSxPQUFPRixFQUFNRSxDQUFJLEVBQUUsS0FBS0YsQ0FBSyxDQUFHLEVBQUlBLEVBQU1FLENBQUksQ0FDdkcsQ0FBQyxFQUNERCxFQUFPLFNBQVdkLEdBQ1hjLENBQ1QsQ0FFQSxTQUFTRSxHQUFhSCxFQUFPSSxFQUFPLENBS2xDLEdBSElBLElBQVUsU0FDWkEsRUFBUSxDQUFFLGFBQWMsS0FBTSxZQUFhLElBQUssR0FFL0NKLEVBQU0sU0FBUyxFQUNoQixPQUFBSSxFQUFNLFlBQWMsS0FDYkosRUFNVCxJQUFJN0IsRUFBUzZCLEVBQU0sWUFBWSxHQUFLQSxFQUFNLHlCQUF5QixFQUNuRSxHQUFJN0IsRUFBUSxDQUNWLElBQUlxQixFQUFPUSxFQUFNLGNBQWMsRUFDM0JLLEVBQVNMLEVBQU0sZ0JBQWdCLEVBQUksRUFPbkNNLEVBQVcsOEVBQ1hDLEVBQWVELEVBQVMsS0FBS3hELEdBQXFCLENBQUMsRUFBSSxFQUFJLEdBQzNEMEMsSUFBUyxHQUFLYSxFQUFTRSxHQUFnQixDQUFDM0QsR0FBWSxHQUFLLENBQUNvRCxFQUFNLE9BQU8sSUFDekVLLEdBQVVFLEdBR1osSUFBSTFCLEVBQVdELEdBQWtCLENBQy9CLE9BQVFULEVBQ1IsS0FBTXFCLEVBQ04sT0FBUWEsQ0FDVixDQUFDLEVBQ0RELEVBQU0sWUFBY3ZCLEVBQ3BCbUIsRUFBUUQsR0FBY0MsQ0FBSyxFQUMzQixJQUFJUSxFQUF1QlIsRUFBTSxnQkFDakMsT0FBQUEsRUFBTSxnQkFBa0IsVUFBVyxDQUNqQyxPQUFJSSxFQUFNLGNBQWdCLEtBQ2pCSSxFQUFxQixFQUV2QkosRUFBTSxhQUFhLE1BQVFJLEVBQXFCLENBQ3pELEVBQ0FSLEVBQU0sWUFBYyxVQUFXLENBQUUsT0FBT25CLEVBQVMsTUFBUSxFQUN6RG1CLEVBQU0sY0FBZ0IsVUFBVyxDQUFFLE9BQU9uQixFQUFTLElBQU0sRUFDekRtQixFQUFNLGdCQUFrQixVQUFXLENBQUUsT0FBT25CLEVBQVMsT0FBUyxDQUFHLEVBQ2pFbUIsRUFBTSx5QkFBMkIsVUFBVyxDQUFFLE9BQU9uQixFQUFTLE1BQVEsRUFDL0RtQixFQUlULElBQUlkLEVBQVNjLEVBQU0sT0FBTyxHQUFLQSxFQUFNLGNBQWMsRUFDbkQsT0FBSWQsSUFDRkEsRUFBU0QsR0FBY0MsQ0FBTSxFQUM3QmMsRUFBUUQsR0FBY0MsQ0FBSyxFQUMzQkEsRUFBTSxjQUFnQixVQUFXLENBQUUsT0FBT2QsQ0FBUSxHQUMzQ2MsQ0FLWCxDQUlBLFNBQVNTLEdBQWtCQyxFQUFPQyxFQUFPLENBQ25DdEUsS0FDRkUsRUFBb0IsQ0FBQyxFQUNyQkMsRUFBaUIsQ0FBQyxHQVNwQixRQU5JMEQsRUFBT1EsRUFBTSxNQUFRLFFBQ3JCRSxFQUFVRixFQUFNLFNBQVcsR0FDM0JHLEVBQWNYLEVBQU8sS0FBT1UsRUFFNUJSLEVBQVEsQ0FBRSxhQUFjLEtBQU0sWUFBYSxJQUFLLEVBQ2hEVSxFQUFpQixDQUFDLEVBQ2J6RCxFQUFJc0QsRUFBTSxPQUFTLEVBQUd0RCxHQUFLLEVBQUdBLElBQ3JDeUQsRUFBZSxLQUFLO0FBQUEsU0FBY1gsR0FBYVEsRUFBTXRELENBQUMsRUFBRytDLENBQUssQ0FBQyxFQUMvREEsRUFBTSxhQUFlQSxFQUFNLFlBRTdCLE9BQUFBLEVBQU0sWUFBY0EsRUFBTSxhQUFlLEtBQ2xDUyxFQUFjQyxFQUFlLFFBQVEsRUFBRSxLQUFLLEVBQUUsQ0FDdkQsQ0FHQSxTQUFTQyxHQUFlTCxFQUFPLENBQzdCLElBQUkxQyxFQUFRLHNDQUFzQyxLQUFLMEMsRUFBTSxLQUFLLEVBQ2xFLEdBQUkxQyxFQUFPLENBQ1QsSUFBSUcsRUFBU0gsRUFBTSxDQUFDLEVBQ2hCd0IsRUFBTyxDQUFDeEIsRUFBTSxDQUFDLEVBQ2ZxQyxFQUFTLENBQUNyQyxFQUFNLENBQUMsRUFHakJOLEVBQVduQixFQUFrQjRCLENBQU0sRUFHdkMsR0FBSSxDQUFDVCxHQUFZNUIsR0FBTUEsRUFBRyxXQUFXcUMsQ0FBTSxFQUN6QyxHQUFJLENBQ0ZULEVBQVc1QixFQUFHLGFBQWFxQyxFQUFRLE1BQU0sQ0FDM0MsTUFBRSxDQUNBVCxFQUFXLEVBQ2IsQ0FJRixHQUFJQSxFQUFVLENBQ1osSUFBSVQsRUFBT1MsRUFBUyxNQUFNLGdCQUFnQixFQUFFOEIsRUFBTyxDQUFDLEVBQ3BELEdBQUl2QyxFQUNGLE9BQU9rQixFQUFTLElBQU1xQixFQUFPO0FBQUEsRUFBT3ZDLEVBQU87QUFBQSxFQUN6QyxJQUFJLE1BQU1vRCxDQUFNLEVBQUUsS0FBSyxHQUFHLEVBQUksS0FJdEMsT0FBTyxJQUNULENBRUEsU0FBU1csR0FBbUJOLEVBQU8sQ0FDakMsSUFBSXZDLEVBQVM0QyxHQUFlTCxDQUFLLEVBRzdCTyxFQUFTbEUsR0FBb0IsRUFDN0JrRSxHQUFVQSxFQUFPLFNBQVdBLEVBQU8sUUFBUSxhQUM3Q0EsRUFBTyxRQUFRLFlBQVksRUFBSSxFQUc3QjlDLElBQ0YsUUFBUSxNQUFNLEVBQ2QsUUFBUSxNQUFNQSxDQUFNLEdBR3RCLFFBQVEsTUFBTXVDLEVBQU0sS0FBSyxFQUN6QjFELEdBQWtCLENBQUMsQ0FDckIsQ0FFQSxTQUFTa0UsSUFBNkIsQ0FDcEMsSUFBSUMsRUFBVyxRQUFRLEtBRXZCLFFBQVEsS0FBTyxTQUFVQyxFQUFNLENBQzdCLEdBQUlBLElBQVMsb0JBQXFCLENBQ2hDLElBQUlDLEVBQVksVUFBVSxDQUFDLEdBQUssVUFBVSxDQUFDLEVBQUUsTUFDekNDLEVBQWdCLEtBQUssVUFBVUYsQ0FBSSxFQUFFLE9BQVMsRUFFbEQsR0FBSUMsR0FBWSxDQUFDQyxFQUNmLE9BQU9OLEdBQWtCLFVBQVUsQ0FBQyxDQUFDLEVBSXpDLE9BQU9HLEVBQVMsTUFBTSxLQUFNLFNBQVMsQ0FDdkMsQ0FDRixDQUVBLElBQUlJLEdBQStCN0UsRUFBcUIsTUFBTSxDQUFDLEVBQzNEOEUsR0FBOEI3RSxFQUFvQixNQUFNLENBQUMsRUFFN0RqQixFQUFRLGFBQWV5RSxHQUN2QnpFLEVBQVEsZUFBaUJxRixHQUN6QnJGLEVBQVEsa0JBQW9Ca0QsR0FDNUJsRCxFQUFRLGtCQUFvQjhDLEdBRTVCOUMsRUFBUSxRQUFVLFNBQVMrRixFQUFTLENBR2xDLEdBRkFBLEVBQVVBLEdBQVcsQ0FBQyxFQUVsQkEsRUFBUSxjQUNWbkYsRUFBY21GLEVBQVEsWUFDbEIsQ0FBQyxPQUFRLFVBQVcsTUFBTSxFQUFFLFFBQVFuRixDQUFXLElBQU0sSUFDdkQsTUFBTSxJQUFJLE1BQU0sZUFBaUJBLEVBQWMsMkRBQTJELEVBeUI5RyxHQW5CSW1GLEVBQVEsZUFDTkEsRUFBUSx1QkFDVi9FLEVBQXFCLE9BQVMsR0FHaENBLEVBQXFCLFFBQVErRSxFQUFRLFlBQVksR0FLL0NBLEVBQVEsb0JBQ05BLEVBQVEsNEJBQ1Y5RSxFQUFvQixPQUFTLEdBRy9CQSxFQUFvQixRQUFROEUsRUFBUSxpQkFBaUIsR0FJbkRBLEVBQVEsYUFBZSxDQUFDN0UsR0FBWSxFQUFHLENBRXpDLElBQUk4RSxFQUFTMUYsR0FBZUwsR0FBUSxRQUFRLEVBQ3hDZ0csRUFBV0QsRUFBTyxVQUFVLFNBRTNCQyxFQUFTLHFCQUNaRCxFQUFPLFVBQVUsU0FBVyxTQUFTRSxFQUFTQyxFQUFVLENBQ3RELE9BQUF0RixFQUFrQnNGLENBQVEsRUFBSUQsRUFDOUJwRixFQUFlcUYsQ0FBUSxFQUFJLE9BQ3BCRixFQUFTLEtBQUssS0FBTUMsRUFBU0MsQ0FBUSxDQUM5QyxFQUVBSCxFQUFPLFVBQVUsU0FBUyxtQkFBcUIsSUFnQm5ELEdBWEtyRixLQUNIQSxHQUE4QixnQ0FBaUNvRixFQUM3REEsRUFBUSw0QkFBOEIsSUFJckN0RixLQUNIQSxHQUEwQixHQUMxQixNQUFNLGtCQUFvQnNFLElBR3hCLENBQUNyRSxHQUF1QixDQUMxQixJQUFJMEYsRUFBaUIsNkJBQThCTCxFQUNqREEsRUFBUSx5QkFBMkIsR0FLckMsR0FBSSxDQUVGLElBQUlNLEVBQWlCL0YsR0FBZUwsR0FBUSxnQkFBZ0IsRUFDeERvRyxFQUFlLGVBQWlCLEtBQ2xDRCxFQUFpQixHQUVyQixNQUFFLENBQVUsQ0FTUkEsR0FBa0JqRixHQUE2QixJQUNqRFQsR0FBd0IsR0FDeEI4RSxHQUEwQixHQUdoQyxFQUVBeEYsRUFBUSxzQkFBd0IsVUFBVyxDQUN6Q2dCLEVBQXFCLE9BQVMsRUFDOUJDLEVBQW9CLE9BQVMsRUFFN0JELEVBQXVCNkUsR0FBNkIsTUFBTSxDQUFDLEVBQzNENUUsRUFBc0I2RSxHQUE0QixNQUFNLENBQUMsRUFFekRoRCxHQUFvQnRCLEdBQVlQLENBQW1CLEVBQ25EWSxHQUFlTCxHQUFZUixDQUFvQixDQUNqRCxJQ2huQkEsS0FBYyxRQUFRLEVDQ3RCLE9BQVMsa0JBQUFzRixPQUFzQiwyQkFDL0IsT0FDRSwwQkFBQUMsR0FDQSx3QkFBQUMsT0FFSyx3QkNOUCxPQUFTLGNBQUFDLE9BQWtCLHVCQUMzQixJQUFNQyxHQUF1QixJQUFJLENBQUMsRUFDNUJDLEdBQWdCLENBQ2xCLHFCQUFzQixFQUN0QixxQkFBc0IsSUFBSSxDQUN0QixNQUFNLElBQUksTUFBTSxTQUFTLENBQzdCLENBQ0osRUFDTUMsR0FBUSxDQUFDQyxFQUFnQkgsR0FBc0JJLEVBQVMsQ0FBQyxJQUFJLENBQzNELE9BQU9ELEdBQWtCLGFBQ3pCQyxFQUFTRCxFQUNUQSxFQUFnQkgsSUFFcEJJLEVBQVMsQ0FDTCxHQUFHSCxHQUNILEdBQUdHLENBQ1AsRUFDQUEsRUFBTyxhQUFlQSxFQUFPLHFCQUF1QixFQUNwREEsRUFBTyxpQkFBaUIsRUFDeEIsSUFBTUMsRUFBb0IsQ0FBQyxFQUNyQkMsRUFBbUIsQ0FBQyxFQUNwQkMsRUFBcUIsQ0FBQyxFQUN0QkwsRUFBUSxDQUFDTSxFQUFRLENBQUMsRUFBR0MsRUFBVSxDQUFDLElBQUksQ0FDdENMLEVBQU8sZUFBZSxFQUN0QixJQUFNTSxFQUFVLENBQ1osTUFBQUYsRUFDQSxRQUFBQyxFQUNBLFNBQVUsT0FDVixNQUFPLE9BQ1AsU0FBVUwsRUFBTyxVQUFZLENBQUMsQ0FDbEMsRUFDQSxPQUFPTyxHQUFXRCxFQUFTLENBQ3ZCLEdBQUdMLENBQ1AsRUFBR0YsRUFBZSxDQUNkLEdBQUdHLENBQ1AsRUFBRyxDQUNDLEdBQUdDLENBQ1AsRUFBR0gsQ0FBTSxDQUNiLEVBQ0EsT0FBQUYsRUFBTSxJQUFPVSxHQUFjLENBQ2xCLE1BQU0sUUFBUUEsQ0FBVyxJQUMxQkEsRUFBYyxDQUNWQSxDQUNKLEdBRUosUUFBV0MsS0FBY0QsRUFBWSxDQUNqQyxHQUFNLENBQUUsT0FBQUUsRUFBUyxNQUFBQyxFQUFRLFFBQUFDLENBQVMsRUFBSUgsRUFDdEMsR0FBSSxDQUFDQyxHQUFVLENBQUNDLEdBQVMsQ0FBQ0MsRUFDdEIsTUFBTSxJQUFJLE1BQU0sNkZBQTZGLEVBRTdHRixHQUFRWixFQUFNLE9BQU9ZLENBQU0sRUFDM0JDLEdBQU9iLEVBQU0sTUFBTWEsQ0FBSyxFQUN4QkMsR0FBU2QsRUFBTSxRQUFRYyxDQUFPLEVBRXRDLE9BQU9kLENBQ1gsRUFDQUEsRUFBTSxPQUFVZSxJQUNaWixFQUFrQixLQUFLWSxDQUFnQixFQUNoQ2YsR0FFWEEsRUFBTSxNQUFTZ0IsSUFDWFosRUFBaUIsUUFBUVksQ0FBZSxFQUNqQ2hCLEdBRVhBLEVBQU0sUUFBV2lCLElBQ2JaLEVBQW1CLFFBQVFZLENBQWlCLEVBQ3JDakIsR0FFWEEsRUFBTSxRQUFXa0IsSUFDYmpCLEVBQWdCaUIsRUFDVGxCLEdBRUpBLENBQ1gsRUFDTVMsR0FBYSxNQUFPRCxFQUFTTCxFQUFtQkYsRUFBZUcsRUFBa0JDLEVBQW9CSCxJQUFTLENBQ2hILElBQUlpQixFQUNFQyxFQUFlbEIsRUFBTyxjQUFnQk0sRUFBUSxRQUFRLHlCQUM1RCxHQUFJLENBRUEsR0FEQSxNQUFNYSxHQUFlYixFQUFTTCxFQUFtQkQsQ0FBTSxFQUNuRCxPQUFPTSxFQUFRLFNBQWEsSUFBYSxDQUN6Q04sRUFBTyxnQkFBZ0IsRUFDdkIsSUFBTW9CLEVBQWUsSUFBSSxnQkFDckJGLElBQWNELEVBQWUsSUFBSSxpQkFDckNYLEVBQVEsU0FBVyxNQUFNLFFBQVEsS0FBSyxDQUNsQ1AsRUFBY08sRUFBUSxNQUFPQSxFQUFRLFFBQVMsQ0FDMUMsT0FBUWMsRUFBYSxNQUN6QixDQUFDLEVBQ0RGLEVBQWV2QixHQUFXVyxFQUFRLFFBQVEseUJBQXlCLEVBQUlOLEVBQU8scUJBQXNCLE9BQVcsQ0FDM0csT0FBUWlCLEVBQWEsTUFDekIsQ0FBQyxFQUFFLEtBQUssS0FDSkcsRUFBYSxNQUFNLEVBQ1pwQixFQUFPLHFCQUFxQixFQUN0QyxFQUFJLFFBQVEsS0FBSyxDQUFDLENBQUMsQ0FDeEIsQ0FBQyxFQUNEaUIsR0FBYyxNQUFNLEVBQ3BCakIsRUFBTyxlQUFlLEVBQ3RCLE1BQU1tQixHQUFlYixFQUFTSixFQUFrQkYsQ0FBTSxFQUU5RCxPQUFTcUIsRUFBUCxDQUNFSixHQUFjLE1BQU0sRUFDcEJYLEVBQVEsU0FBVyxPQUNuQkEsRUFBUSxNQUFRZSxFQUNoQixHQUFJLENBQ0EsTUFBTUYsR0FBZWIsRUFBU0gsRUFBb0JILENBQU0sQ0FDNUQsT0FBU3FCLEVBQVAsQ0FDRSxNQUFBQSxFQUFFLGNBQWdCZixFQUFRLE1BQzFCQSxFQUFRLE1BQVFlLEVBQ1ZmLEVBQVEsS0FDbEIsQ0FDQSxHQUFJLE9BQU9BLEVBQVEsU0FBYSxJQUFhLE1BQU1BLEVBQVEsS0FDL0QsUUFBRSxDQUNFLE1BQU1OLEVBQU8sYUFBYU0sQ0FBTyxDQUNyQyxDQUNBLE9BQU9BLEVBQVEsUUFDbkIsRUFDTWEsR0FBaUIsTUFBT2IsRUFBU0UsRUFBYVIsSUFBUyxDQUN6RCxRQUFXc0IsS0FBa0JkLEVBQVksQ0FDckNSLEVBQU8sbUJBQW1Cc0IsRUFBZSxJQUFJLEVBQzdDLElBQU1DLEVBQU0sTUFBTUQsRUFBZWhCLENBQU8sRUFFeEMsR0FEQU4sRUFBTyxrQkFBa0JzQixFQUFlLElBQUksRUFDeEMsT0FBT0MsRUFBUSxJQUFhLENBQzVCakIsRUFBUSxTQUFXaUIsRUFDbkIsUUFHWixFQUNPQyxHQUFRMUIsR0NtQlIsSUFBTTJCLEVBQWdCLENBQUNDLEVBQU1DLElBQVUsQ0FDMUMsR0FBSSxPQUFPRCxHQUFTLFNBQVUsT0FBT0EsRUFDckMsSUFBTUUsRUFBWUYsRUFBSyxDQUFDLEVBQ3hCLEdBQUlFLElBQWMsS0FBT0EsSUFBYyxLQUFPQSxJQUFjLElBQUssT0FBT0YsRUFDeEUsR0FBSSxDQUNBLE9BQU8sS0FBSyxNQUFNQSxFQUFNQyxDQUFPLENBQ25DLE1BQUUsQ0FBVyxDQUNiLE9BQU9ELENBQ1gsRUN4SkEsSUFBTUcsR0FBVyxDQUNiLFlBQWEsTUFDakIsRUFDSUMsR0FDRUMsR0FBNEIsQ0FBQ0MsRUFBTyxDQUFDLElBQUksQ0FDM0MsR0FBTSxDQUFFLFlBQUFDLENBQWEsRUFBSSxDQUNyQixHQUFHSixHQUNILEdBQUdHLENBQ1AsRUFDQSxPQUFBRixHQUFlRyxFQUlSLENBQ0gsT0FKb0MsTUFBT0MsR0FBVSxDQUNyREMsR0FBV0QsRUFBUSxLQUFLLENBQzVCLENBR0EsQ0FDSixFQUNNQyxHQUFjQyxHQUFRLENBQ3hCLElBQUlDLEVBQWNELEVBQU0sYUFBZUEsRUFBTSxrQkFDdkNFLEVBQVVGLEVBQU0sU0FBV0EsRUFBTSxTQUFXQSxFQUFNLFVBQVlBLEVBQU0sTUFDMUUsR0FBSSxDQUFDLE1BQU0sUUFBUUUsQ0FBTyxFQUFHLENBQ3pCRCxLQUFpQkQsRUFBTSxjQUFnQixnQkFBa0JBLEVBQU0sU0FBVyxvQkFBc0JBLEVBQU0sa0JBQWtCLEdBQUssb0JBQ3pIQyxHQUNBRSxHQUFPRixDQUFXLElBQUlELENBQUssRUFFL0IsT0FFSkMsSUFBZ0JDLEVBQVEsQ0FBQyxFQUFFLGFBQWVBLEVBQVEsQ0FBQyxFQUFFLGNBQWdCQSxFQUFRLENBQUMsRUFBRSxPQUFTLGdCQUN6RixRQUFXRSxLQUFVRixFQUNqQkMsR0FBT0YsQ0FBVyxJQUFJRyxDQUFNLENBRXBDLEVBQ01DLEdBQTRCLE1BQzVCRixHQUFTLENBQ1gsVUFBWUcsR0FBVSxDQUNsQkEsRUFBUSxLQUFPQyxFQUFZRCxFQUFRLElBQUksQ0FDM0MsRUFDQSxpQkFBbUJOLEdBQVEsQ0FDdkJBLEVBQU0sUUFBUSxLQUFPTyxFQUFZUCxFQUFNLFFBQVEsSUFBSSxDQUN2RCxFQUNBLG1CQUFxQkEsR0FBUSxDQUN6QkEsRUFBTSxrQkFBa0IsRUFBRSxLQUFLLG9CQUFvQixjQUFjLGVBQWlCUSxFQUFjUixFQUFNLGtCQUFrQixFQUFFLEtBQUssb0JBQW9CLGNBQWMsY0FBYyxDQUNuTCxFQUNBLGFBQWVBLEdBQVEsQ0FDbkJBLEVBQU0sY0FBZ0JRLEVBQWNSLEVBQU0sYUFBYSxFQUN2REEsRUFBTSxlQUFpQlEsRUFBY1IsRUFBTSxjQUFjLENBQzdELEVBQ0EsZUFBaUJJLEdBQVMsQ0FDdEJBLEVBQU8sU0FBUyxLQUFPSyxHQUFXTCxFQUFPLFNBQVMsSUFBSSxFQUN0REEsRUFBTyxTQUFTLFNBQVdLLEdBQVdMLEVBQU8sU0FBUyxRQUFRLEVBQzlEQSxFQUFPLFNBQVMsU0FBV0ssR0FBV0wsRUFBTyxTQUFTLFFBQVEsQ0FDbEUsRUFDQSxZQUFjSixHQUFRLENBQ2xCLFFBQVVJLEtBQVVKLEVBQU0sUUFDdEIsUUFBV1UsS0FBU1YsRUFBTSxRQUFRSSxDQUFNLEVBQ3BDTSxFQUFNLFFBQVVILEVBQVlHLEVBQU0sS0FBSyxDQUduRCxFQUNBLGNBQWdCTixHQUFTLENBQ3JCQSxFQUFPLFFBQVEsS0FBT0csRUFBWUgsRUFBTyxRQUFRLElBQUksQ0FDekQsRUFDQSxvQkFBc0JBLEdBQVMsQ0FDM0JBLEVBQU8sS0FBT0csRUFBWUgsRUFBTyxJQUFJLENBQ3pDLEVBQ0EsU0FBV0EsR0FBUyxDQUNoQkEsRUFBTyxHQUFHLE9BQU8sSUFBTU8sR0FBZVAsRUFBTyxHQUFHLE9BQU8sR0FBRyxDQUM5RCxFQUNBLGVBQWlCUSxHQUFPLENBQ3BCQSxFQUFLLE1BQVFELEdBQWVDLEVBQUssS0FBSyxDQUMxQyxFQUNBLGlCQUFtQlosR0FBUSxDQUN2QkcsR0FBTyxXQUFXLEVBQUVILENBQUssQ0FDN0IsRUFDQSxVQUFZSSxHQUFTLENBQ2pCQSxFQUFPLElBQUksUUFBVUksRUFBY0osRUFBTyxJQUFJLE9BQU8sRUFDckRMLEdBQVdLLEVBQU8sSUFBSSxPQUFPLENBQ2pDLEVBQ0EsY0FBZ0JBLEdBQVMsQ0FDckJBLEVBQU8sUUFBVUksRUFBY0osRUFBTyxPQUFPLEVBQzdDTCxHQUFXSyxFQUFPLE9BQU8sQ0FDN0IsRUFDQSxVQUFZQSxHQUFTLENBQ2pCQSxFQUFPLEtBQU9JLEVBQWNKLEVBQU8sSUFBSSxFQUNuQ0EsRUFBTyxLQUFLLE9BQVMsZUFDckJELEdBQU8sYUFBYSxFQUFFQyxFQUFPLElBQUksRUFFakNMLEdBQVdLLEVBQU8sSUFBSSxDQUU5QixDQUNKLEVBQ01HLEVBQWVNLEdBQU9MLEVBQWMsT0FBTyxLQUFLSyxFQUFNLFFBQVEsRUFBRSxTQUFTLE9BQU8sQ0FBQyxFQUNqRkYsR0FBa0JHLEdBQU0sbUJBQW1CQSxFQUFJLFFBQVFULEdBQTJCLEdBQUcsQ0FBQyxFQUMvRUksR0FBY0ksR0FBT0UsRUFBYSxFQUFFRixHQUFRLENBQUMsQ0FBQyxFQUNyREUsRUFBZSxDQUNqQixLQUFNLElBQUksS0FDVixLQUFNLFFBQ04sRUFBSUMsR0FBUSxDQUNSLEdBQUl0QixHQUNBLE1BQU8sQ0FDSCxNQUFBc0IsQ0FDSixFQUVKLElBQU1DLEVBQU0sT0FBT0QsQ0FBSyxFQUN4QixJQUFLLE9BQU8saUJBQW1CQyxHQUFPQSxFQUFNLE9BQU8sbUJBQXFCQSxJQUFRLE9BQU8sbUJBQXFCQSxJQUFRLE9BQU8sa0JBQ3ZILEdBQUksQ0FDQSxPQUFPLE9BQU9ELENBQUssQ0FDdkIsTUFBRSxDQUNFLE1BQU0sSUFBSSxNQUFNLEdBQUdBLDhFQUFrRixDQUN6RyxDQUVKLE9BQU9DLENBQ1gsRUFDQSxFQUFJRCxHQUFRQSxFQUNaLEVBQUlBLEdBQVFBLEVBQ1osRUFBSUEsR0FBUUEsRUFBTSxJQUFLRSxHQUFPQyxHQUFnQkQsQ0FBSSxDQUFDLEVBQ25ELEVBQUlGLEdBQVEsT0FBTyxRQUFRQSxDQUFLLEVBQUUsT0FBTyxDQUFDSSxFQUFLLENBQUNOLEVBQUtFLENBQUssS0FBSyxDQUNuRCxHQUFHSSxFQUNILENBQUNOLENBQUcsRUFBR0ssR0FBZ0JILENBQUssQ0FDaEMsR0FBSSxDQUFDLENBQUMsRUFDZCxHQUFLQSxHQUFRLElBQUksSUFBSUEsRUFBTSxJQUFJRCxFQUFhLENBQUMsQ0FBQyxFQUM5QyxHQUFLQyxHQUFRLElBQUksSUFBSUEsRUFBTSxJQUFJRCxFQUFhLENBQUMsQ0FBQyxFQUM5QyxHQUFLQyxHQUFRLElBQUksSUFBSUEsRUFBTSxJQUFJRCxFQUFhLENBQUMsQ0FBQyxDQUNsRCxFQUNNSSxHQUFtQk4sR0FBTyxDQUM1QixPQUFXLENBQUNDLEVBQUtFLENBQUssSUFBSyxPQUFPLFFBQVFILENBQUksRUFBRSxDQUM1QyxHQUFJLENBQUNFLEVBQWFELENBQUcsRUFBRyxNQUFNLElBQUksTUFBTSw0QkFBNEJBLEdBQUssRUFDekUsR0FBSSxTQUFPRSxFQUFVLEtBQ3JCLE9BQU9ELEVBQWFELENBQUcsRUFBRUUsQ0FBSyxFQUV0QyxFQUNPSyxHQUFRMUIsR0h6SGYsSUFBTTJCLEdBQVMsUUFBUSxJQUFJLFdBQ3JCQyxHQUFZLFFBQVEsSUFBSSxXQUV4QkMsR0FBUyxJQUFJQyxHQUFlLENBQUUsT0FBUUgsRUFBTyxDQUFDLEVBRTlDSSxHQUFrQixDQUN0QixnQkFBaUIsQ0FDZixtQkFBb0IsR0FDcEIsc0JBQXVCLEdBQ3ZCLDBCQUEyQixFQUM3QixFQUNBLGtCQUFtQixDQUNqQixZQUFhLEVBQ2YsQ0FDRixFQUVNQyxHQUFRLE1BQU9DLEdBQ1pDLEdBQXVCLEtBQUtMLEdBQVFFLEVBQWUsRUFBRSxLQUMxRCxJQUFJSSxHQUFxQkYsQ0FBSyxDQUNoQyxFQUdJRyxHQUFPLE1BQU9DLEdBQW1DLENBQ3JELFFBQVEsSUFBSSxDQUFFLE1BQU9BLEVBQU8sVUFBV1QsRUFBVSxDQUFDLEVBRWxELElBQUlVLEVBQWEsQ0FBQyxFQUNsQixPQUFPLE9BQU9ELEVBQU0sT0FBTyxFQUN4QixRQUFTRSxHQUFZQSxDQUFPLEVBQzVCLElBQUtDLEdBQVcsQ0FDWEEsRUFBTyxPQUFPRixFQUFNLEtBQUtFLEVBQU8sS0FBSyxDQUMzQyxDQUFDLEVBRUgsTUFBTSxRQUFRLElBQ1pGLEVBQU0sSUFBSSxNQUFPRyxHQUFhLENBQzVCLFFBQVEsSUFBSSxDQUFFLElBQUtBLENBQUksQ0FBQyxFQUN4QixHQUFJLENBQ0YsTUFBTVQsR0FBTSxDQUNWLGNBQWUsQ0FDYixDQUNFLE9BQVEsQ0FDTixVQUFXSixHQUNYLElBQUssQ0FDSCxHQUFJLE1BQ0osR0FBSSxLQUNOLEVBQ0EsaUJBQWtCLDZCQUNsQiwwQkFBMkIsQ0FDekIsYUFBY2EsQ0FDaEIsQ0FDRixDQUNGLENBQ0YsQ0FDRixDQUFDLEVBQ0QsUUFBUSxJQUFJLENBQUUsTUFBTyxTQUFVLENBQUMsQ0FDbEMsT0FBU0MsRUFBUCxDQUNBLFFBQVEsSUFBSSxDQUFFLE1BQU8sU0FBVSxDQUFDLEVBQ2hDLFFBQVEsTUFBTUEsQ0FBQyxDQUNqQixDQUNGLENBQUMsQ0FDSCxDQUNGLEVBRWFDLEdBQVVDLEdBQU1SLEVBQUksRUFBRSxJQUFJUyxHQUFnQixDQUFDIiwKICAibmFtZXMiOiBbInJlcXVpcmVfYmFzZTY0IiwgIl9fY29tbW9uSlNNaW4iLCAiZXhwb3J0cyIsICJpbnRUb0NoYXJNYXAiLCAibnVtYmVyIiwgImNoYXJDb2RlIiwgImJpZ0EiLCAiYmlnWiIsICJsaXR0bGVBIiwgImxpdHRsZVoiLCAiemVybyIsICJuaW5lIiwgInBsdXMiLCAic2xhc2giLCAibGl0dGxlT2Zmc2V0IiwgIm51bWJlck9mZnNldCIsICJyZXF1aXJlX2Jhc2U2NF92bHEiLCAiX19jb21tb25KU01pbiIsICJleHBvcnRzIiwgImJhc2U2NCIsICJWTFFfQkFTRV9TSElGVCIsICJWTFFfQkFTRSIsICJWTFFfQkFTRV9NQVNLIiwgIlZMUV9DT05USU5VQVRJT05fQklUIiwgInRvVkxRU2lnbmVkIiwgImFWYWx1ZSIsICJmcm9tVkxRU2lnbmVkIiwgImlzTmVnYXRpdmUiLCAic2hpZnRlZCIsICJlbmNvZGVkIiwgImRpZ2l0IiwgInZscSIsICJhU3RyIiwgImFJbmRleCIsICJhT3V0UGFyYW0iLCAic3RyTGVuIiwgInJlc3VsdCIsICJzaGlmdCIsICJjb250aW51YXRpb24iLCAicmVxdWlyZV91dGlsIiwgIl9fY29tbW9uSlNNaW4iLCAiZXhwb3J0cyIsICJnZXRBcmciLCAiYUFyZ3MiLCAiYU5hbWUiLCAiYURlZmF1bHRWYWx1ZSIsICJ1cmxSZWdleHAiLCAiZGF0YVVybFJlZ2V4cCIsICJ1cmxQYXJzZSIsICJhVXJsIiwgIm1hdGNoIiwgInVybEdlbmVyYXRlIiwgImFQYXJzZWRVcmwiLCAidXJsIiwgIm5vcm1hbGl6ZSIsICJhUGF0aCIsICJwYXRoIiwgImlzQWJzb2x1dGUiLCAicGFydHMiLCAicGFydCIsICJ1cCIsICJpIiwgImpvaW4iLCAiYVJvb3QiLCAiYVBhdGhVcmwiLCAiYVJvb3RVcmwiLCAiam9pbmVkIiwgInJlbGF0aXZlIiwgImxldmVsIiwgImluZGV4IiwgInN1cHBvcnRzTnVsbFByb3RvIiwgIm9iaiIsICJpZGVudGl0eSIsICJzIiwgInRvU2V0U3RyaW5nIiwgImFTdHIiLCAiaXNQcm90b1N0cmluZyIsICJmcm9tU2V0U3RyaW5nIiwgImxlbmd0aCIsICJjb21wYXJlQnlPcmlnaW5hbFBvc2l0aW9ucyIsICJtYXBwaW5nQSIsICJtYXBwaW5nQiIsICJvbmx5Q29tcGFyZU9yaWdpbmFsIiwgImNtcCIsICJzdHJjbXAiLCAiY29tcGFyZUJ5R2VuZXJhdGVkUG9zaXRpb25zRGVmbGF0ZWQiLCAib25seUNvbXBhcmVHZW5lcmF0ZWQiLCAiYVN0cjEiLCAiYVN0cjIiLCAiY29tcGFyZUJ5R2VuZXJhdGVkUG9zaXRpb25zSW5mbGF0ZWQiLCAicGFyc2VTb3VyY2VNYXBJbnB1dCIsICJzdHIiLCAiY29tcHV0ZVNvdXJjZVVSTCIsICJzb3VyY2VSb290IiwgInNvdXJjZVVSTCIsICJzb3VyY2VNYXBVUkwiLCAicGFyc2VkIiwgInJlcXVpcmVfYXJyYXlfc2V0IiwgIl9fY29tbW9uSlNNaW4iLCAiZXhwb3J0cyIsICJ1dGlsIiwgImhhcyIsICJoYXNOYXRpdmVNYXAiLCAiQXJyYXlTZXQiLCAiYUFycmF5IiwgImFBbGxvd0R1cGxpY2F0ZXMiLCAic2V0IiwgImkiLCAibGVuIiwgImFTdHIiLCAic1N0ciIsICJpc0R1cGxpY2F0ZSIsICJpZHgiLCAiYUlkeCIsICJyZXF1aXJlX21hcHBpbmdfbGlzdCIsICJfX2NvbW1vbkpTTWluIiwgImV4cG9ydHMiLCAidXRpbCIsICJnZW5lcmF0ZWRQb3NpdGlvbkFmdGVyIiwgIm1hcHBpbmdBIiwgIm1hcHBpbmdCIiwgImxpbmVBIiwgImxpbmVCIiwgImNvbHVtbkEiLCAiY29sdW1uQiIsICJNYXBwaW5nTGlzdCIsICJhQ2FsbGJhY2siLCAiYVRoaXNBcmciLCAiYU1hcHBpbmciLCAicmVxdWlyZV9zb3VyY2VfbWFwX2dlbmVyYXRvciIsICJfX2NvbW1vbkpTTWluIiwgImV4cG9ydHMiLCAiYmFzZTY0VkxRIiwgInV0aWwiLCAiQXJyYXlTZXQiLCAiTWFwcGluZ0xpc3QiLCAiU291cmNlTWFwR2VuZXJhdG9yIiwgImFBcmdzIiwgImFTb3VyY2VNYXBDb25zdW1lciIsICJzb3VyY2VSb290IiwgImdlbmVyYXRvciIsICJtYXBwaW5nIiwgIm5ld01hcHBpbmciLCAic291cmNlRmlsZSIsICJzb3VyY2VSZWxhdGl2ZSIsICJjb250ZW50IiwgImdlbmVyYXRlZCIsICJvcmlnaW5hbCIsICJzb3VyY2UiLCAibmFtZSIsICJhU291cmNlRmlsZSIsICJhU291cmNlQ29udGVudCIsICJhU291cmNlTWFwUGF0aCIsICJuZXdTb3VyY2VzIiwgIm5ld05hbWVzIiwgImFHZW5lcmF0ZWQiLCAiYU9yaWdpbmFsIiwgImFTb3VyY2UiLCAiYU5hbWUiLCAicHJldmlvdXNHZW5lcmF0ZWRDb2x1bW4iLCAicHJldmlvdXNHZW5lcmF0ZWRMaW5lIiwgInByZXZpb3VzT3JpZ2luYWxDb2x1bW4iLCAicHJldmlvdXNPcmlnaW5hbExpbmUiLCAicHJldmlvdXNOYW1lIiwgInByZXZpb3VzU291cmNlIiwgInJlc3VsdCIsICJuZXh0IiwgIm5hbWVJZHgiLCAic291cmNlSWR4IiwgIm1hcHBpbmdzIiwgImkiLCAibGVuIiwgImFTb3VyY2VzIiwgImFTb3VyY2VSb290IiwgImtleSIsICJtYXAiLCAicmVxdWlyZV9iaW5hcnlfc2VhcmNoIiwgIl9fY29tbW9uSlNNaW4iLCAiZXhwb3J0cyIsICJyZWN1cnNpdmVTZWFyY2giLCAiYUxvdyIsICJhSGlnaCIsICJhTmVlZGxlIiwgImFIYXlzdGFjayIsICJhQ29tcGFyZSIsICJhQmlhcyIsICJtaWQiLCAiY21wIiwgImluZGV4IiwgInJlcXVpcmVfcXVpY2tfc29ydCIsICJfX2NvbW1vbkpTTWluIiwgImV4cG9ydHMiLCAic3dhcCIsICJhcnkiLCAieCIsICJ5IiwgInRlbXAiLCAicmFuZG9tSW50SW5SYW5nZSIsICJsb3ciLCAiaGlnaCIsICJkb1F1aWNrU29ydCIsICJjb21wYXJhdG9yIiwgInAiLCAiciIsICJwaXZvdEluZGV4IiwgInBpdm90IiwgImoiLCAicSIsICJyZXF1aXJlX3NvdXJjZV9tYXBfY29uc3VtZXIiLCAiX19jb21tb25KU01pbiIsICJleHBvcnRzIiwgInV0aWwiLCAiYmluYXJ5U2VhcmNoIiwgIkFycmF5U2V0IiwgImJhc2U2NFZMUSIsICJxdWlja1NvcnQiLCAiU291cmNlTWFwQ29uc3VtZXIiLCAiYVNvdXJjZU1hcCIsICJhU291cmNlTWFwVVJMIiwgInNvdXJjZU1hcCIsICJJbmRleGVkU291cmNlTWFwQ29uc3VtZXIiLCAiQmFzaWNTb3VyY2VNYXBDb25zdW1lciIsICJhU3RyIiwgImluZGV4IiwgImMiLCAiYVNvdXJjZVJvb3QiLCAiYUNhbGxiYWNrIiwgImFDb250ZXh0IiwgImFPcmRlciIsICJjb250ZXh0IiwgIm9yZGVyIiwgIm1hcHBpbmdzIiwgInNvdXJjZVJvb3QiLCAibWFwcGluZyIsICJzb3VyY2UiLCAiYUFyZ3MiLCAibGluZSIsICJuZWVkbGUiLCAib3JpZ2luYWxMaW5lIiwgIm9yaWdpbmFsQ29sdW1uIiwgInZlcnNpb24iLCAic291cmNlcyIsICJuYW1lcyIsICJzb3VyY2VzQ29udGVudCIsICJmaWxlIiwgInMiLCAiYVNvdXJjZSIsICJyZWxhdGl2ZVNvdXJjZSIsICJpIiwgInNtYyIsICJnZW5lcmF0ZWRNYXBwaW5ncyIsICJkZXN0R2VuZXJhdGVkTWFwcGluZ3MiLCAiZGVzdE9yaWdpbmFsTWFwcGluZ3MiLCAibGVuZ3RoIiwgInNyY01hcHBpbmciLCAiZGVzdE1hcHBpbmciLCAiTWFwcGluZyIsICJnZW5lcmF0ZWRMaW5lIiwgInByZXZpb3VzR2VuZXJhdGVkQ29sdW1uIiwgInByZXZpb3VzT3JpZ2luYWxMaW5lIiwgInByZXZpb3VzT3JpZ2luYWxDb2x1bW4iLCAicHJldmlvdXNTb3VyY2UiLCAicHJldmlvdXNOYW1lIiwgImNhY2hlZFNlZ21lbnRzIiwgInRlbXAiLCAib3JpZ2luYWxNYXBwaW5ncyIsICJzdHIiLCAic2VnbWVudCIsICJlbmQiLCAidmFsdWUiLCAiYU5lZWRsZSIsICJhTWFwcGluZ3MiLCAiYUxpbmVOYW1lIiwgImFDb2x1bW5OYW1lIiwgImFDb21wYXJhdG9yIiwgImFCaWFzIiwgIm5leHRNYXBwaW5nIiwgIm5hbWUiLCAic2MiLCAibnVsbE9uTWlzc2luZyIsICJ1cmwiLCAiZmlsZVVyaUFic1BhdGgiLCAic2VjdGlvbnMiLCAibGFzdE9mZnNldCIsICJvZmZzZXQiLCAib2Zmc2V0TGluZSIsICJvZmZzZXRDb2x1bW4iLCAiaiIsICJzZWN0aW9uSW5kZXgiLCAic2VjdGlvbiIsICJjbXAiLCAiY29udGVudCIsICJnZW5lcmF0ZWRQb3NpdGlvbiIsICJyZXQiLCAic2VjdGlvbk1hcHBpbmdzIiwgImFkanVzdGVkTWFwcGluZyIsICJyZXF1aXJlX3NvdXJjZV9ub2RlIiwgIl9fY29tbW9uSlNNaW4iLCAiZXhwb3J0cyIsICJTb3VyY2VNYXBHZW5lcmF0b3IiLCAidXRpbCIsICJSRUdFWF9ORVdMSU5FIiwgIk5FV0xJTkVfQ09ERSIsICJpc1NvdXJjZU5vZGUiLCAiU291cmNlTm9kZSIsICJhTGluZSIsICJhQ29sdW1uIiwgImFTb3VyY2UiLCAiYUNodW5rcyIsICJhTmFtZSIsICJhR2VuZXJhdGVkQ29kZSIsICJhU291cmNlTWFwQ29uc3VtZXIiLCAiYVJlbGF0aXZlUGF0aCIsICJub2RlIiwgInJlbWFpbmluZ0xpbmVzIiwgInJlbWFpbmluZ0xpbmVzSW5kZXgiLCAic2hpZnROZXh0TGluZSIsICJsaW5lQ29udGVudHMiLCAiZ2V0TmV4dExpbmUiLCAibmV3TGluZSIsICJsYXN0R2VuZXJhdGVkTGluZSIsICJsYXN0R2VuZXJhdGVkQ29sdW1uIiwgImxhc3RNYXBwaW5nIiwgIm1hcHBpbmciLCAiYWRkTWFwcGluZ1dpdGhDb2RlIiwgIm5leHRMaW5lIiwgImNvZGUiLCAic291cmNlRmlsZSIsICJjb250ZW50IiwgInNvdXJjZSIsICJhQ2h1bmsiLCAiY2h1bmsiLCAiaSIsICJhRm4iLCAibGVuIiwgImFTZXAiLCAibmV3Q2hpbGRyZW4iLCAiYVBhdHRlcm4iLCAiYVJlcGxhY2VtZW50IiwgImxhc3RDaGlsZCIsICJhU291cmNlRmlsZSIsICJhU291cmNlQ29udGVudCIsICJzb3VyY2VzIiwgInN0ciIsICJhQXJncyIsICJnZW5lcmF0ZWQiLCAibWFwIiwgInNvdXJjZU1hcHBpbmdBY3RpdmUiLCAibGFzdE9yaWdpbmFsU291cmNlIiwgImxhc3RPcmlnaW5hbExpbmUiLCAibGFzdE9yaWdpbmFsQ29sdW1uIiwgImxhc3RPcmlnaW5hbE5hbWUiLCAib3JpZ2luYWwiLCAiaWR4IiwgImxlbmd0aCIsICJzb3VyY2VDb250ZW50IiwgInJlcXVpcmVfc291cmNlX21hcCIsICJfX2NvbW1vbkpTTWluIiwgImV4cG9ydHMiLCAicmVxdWlyZV9idWZmZXJfZnJvbSIsICJfX2NvbW1vbkpTTWluIiwgImV4cG9ydHMiLCAibW9kdWxlIiwgInRvU3RyaW5nIiwgImlzTW9kZXJuIiwgImlzQXJyYXlCdWZmZXIiLCAiaW5wdXQiLCAiZnJvbUFycmF5QnVmZmVyIiwgIm9iaiIsICJieXRlT2Zmc2V0IiwgImxlbmd0aCIsICJtYXhMZW5ndGgiLCAiZnJvbVN0cmluZyIsICJzdHJpbmciLCAiZW5jb2RpbmciLCAiYnVmZmVyRnJvbSIsICJ2YWx1ZSIsICJlbmNvZGluZ09yT2Zmc2V0IiwgInJlcXVpcmVfc291cmNlX21hcF9zdXBwb3J0IiwgIl9fY29tbW9uSlNNaW4iLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAiU291cmNlTWFwQ29uc3VtZXIiLCAicGF0aCIsICJmcyIsICJidWZmZXJGcm9tIiwgImR5bmFtaWNSZXF1aXJlIiwgIm1vZCIsICJyZXF1ZXN0IiwgImVycm9yRm9ybWF0dGVySW5zdGFsbGVkIiwgInVuY2F1Z2h0U2hpbUluc3RhbGxlZCIsICJlbXB0eUNhY2hlQmV0d2Vlbk9wZXJhdGlvbnMiLCAiZW52aXJvbm1lbnQiLCAiZmlsZUNvbnRlbnRzQ2FjaGUiLCAic291cmNlTWFwQ2FjaGUiLCAicmVTb3VyY2VNYXAiLCAicmV0cmlldmVGaWxlSGFuZGxlcnMiLCAicmV0cmlldmVNYXBIYW5kbGVycyIsICJpc0luQnJvd3NlciIsICJoYXNHbG9iYWxQcm9jZXNzRXZlbnRFbWl0dGVyIiwgImdsb2JhbFByb2Nlc3NWZXJzaW9uIiwgImdsb2JhbFByb2Nlc3NTdGRlcnIiLCAiZ2xvYmFsUHJvY2Vzc0V4aXQiLCAiY29kZSIsICJoYW5kbGVyRXhlYyIsICJsaXN0IiwgImFyZyIsICJpIiwgInJldCIsICJyZXRyaWV2ZUZpbGUiLCAicHJvdG9jb2wiLCAiZHJpdmUiLCAiY29udGVudHMiLCAieGhyIiwgInN1cHBvcnRSZWxhdGl2ZVVSTCIsICJmaWxlIiwgInVybCIsICJkaXIiLCAibWF0Y2giLCAic3RhcnRQYXRoIiwgInJldHJpZXZlU291cmNlTWFwVVJMIiwgInNvdXJjZSIsICJmaWxlRGF0YSIsICJzb3VyY2VNYXBIZWFkZXIiLCAicmUiLCAibGFzdE1hdGNoIiwgInJldHJpZXZlU291cmNlTWFwIiwgInNvdXJjZU1hcHBpbmdVUkwiLCAic291cmNlTWFwRGF0YSIsICJyYXdEYXRhIiwgIm1hcFNvdXJjZVBvc2l0aW9uIiwgInBvc2l0aW9uIiwgInNvdXJjZU1hcCIsICJ1cmxBbmRNYXAiLCAib3JpZ2luYWxQb3NpdGlvbiIsICJtYXBFdmFsT3JpZ2luIiwgIm9yaWdpbiIsICJDYWxsU2l0ZVRvU3RyaW5nIiwgImZpbGVOYW1lIiwgImZpbGVMb2NhdGlvbiIsICJsaW5lTnVtYmVyIiwgImNvbHVtbk51bWJlciIsICJsaW5lIiwgImZ1bmN0aW9uTmFtZSIsICJhZGRTdWZmaXgiLCAiaXNDb25zdHJ1Y3RvciIsICJpc01ldGhvZENhbGwiLCAidHlwZU5hbWUiLCAibWV0aG9kTmFtZSIsICJjbG9uZUNhbGxTaXRlIiwgImZyYW1lIiwgIm9iamVjdCIsICJuYW1lIiwgIndyYXBDYWxsU2l0ZSIsICJzdGF0ZSIsICJjb2x1bW4iLCAibm9IZWFkZXIiLCAiaGVhZGVyTGVuZ3RoIiwgIm9yaWdpbmFsRnVuY3Rpb25OYW1lIiwgInByZXBhcmVTdGFja1RyYWNlIiwgImVycm9yIiwgInN0YWNrIiwgIm1lc3NhZ2UiLCAiZXJyb3JTdHJpbmciLCAicHJvY2Vzc2VkU3RhY2siLCAiZ2V0RXJyb3JTb3VyY2UiLCAicHJpbnRFcnJvckFuZEV4aXQiLCAic3RkZXJyIiwgInNoaW1FbWl0VW5jYXVnaHRFeGNlcHRpb24iLCAib3JpZ0VtaXQiLCAidHlwZSIsICJoYXNTdGFjayIsICJoYXNMaXN0ZW5lcnMiLCAib3JpZ2luYWxSZXRyaWV2ZUZpbGVIYW5kbGVycyIsICJvcmlnaW5hbFJldHJpZXZlTWFwSGFuZGxlcnMiLCAib3B0aW9ucyIsICJNb2R1bGUiLCAiJGNvbXBpbGUiLCAiY29udGVudCIsICJmaWxlbmFtZSIsICJpbnN0YWxsSGFuZGxlciIsICJ3b3JrZXJfdGhyZWFkcyIsICJEeW5hbW9EQkNsaWVudCIsICJEeW5hbW9EQkRvY3VtZW50Q2xpZW50IiwgIlRyYW5zYWN0V3JpdGVDb21tYW5kIiwgInNldFRpbWVvdXQiLCAiZGVmYXVsdExhbWJkYUhhbmRsZXIiLCAiZGVmYXVsdFBsdWdpbiIsICJtaWRkeSIsICJsYW1iZGFIYW5kbGVyIiwgInBsdWdpbiIsICJiZWZvcmVNaWRkbGV3YXJlcyIsICJhZnRlck1pZGRsZXdhcmVzIiwgIm9uRXJyb3JNaWRkbGV3YXJlcyIsICJldmVudCIsICJjb250ZXh0IiwgInJlcXVlc3QiLCAicnVuUmVxdWVzdCIsICJtaWRkbGV3YXJlcyIsICJtaWRkbGV3YXJlIiwgImJlZm9yZSIsICJhZnRlciIsICJvbkVycm9yIiwgImJlZm9yZU1pZGRsZXdhcmUiLCAiYWZ0ZXJNaWRkbGV3YXJlIiwgIm9uRXJyb3JNaWRkbGV3YXJlIiwgInJlcGxhY2VMYW1iZGFIYW5kbGVyIiwgInRpbWVvdXRBYm9ydCIsICJ0aW1lb3V0RWFybHkiLCAicnVuTWlkZGxld2FyZXMiLCAiaGFuZGxlckFib3J0IiwgImUiLCAibmV4dE1pZGRsZXdhcmUiLCAicmVzIiwgImNvcmVfZGVmYXVsdCIsICJqc29uU2FmZVBhcnNlIiwgInRleHQiLCAicmV2aXZlciIsICJmaXJzdENoYXIiLCAiZGVmYXVsdHMiLCAiX3dyYXBOdW1iZXJzIiwgImV2ZW50Tm9ybWFsaXplck1pZGRsZXdhcmUiLCAib3B0cyIsICJ3cmFwTnVtYmVycyIsICJyZXF1ZXN0IiwgInBhcnNlRXZlbnQiLCAiZXZlbnQiLCAiZXZlbnRTb3VyY2UiLCAicmVjb3JkcyIsICJldmVudHMiLCAicmVjb3JkIiwgIm5vcm1hbGl6ZVMzS2V5UmVwbGFjZVBsdXMiLCAibWVzc2FnZSIsICJiYXNlNjRQYXJzZSIsICJqc29uU2FmZVBhcnNlIiwgInVubWFyc2hhbGwiLCAidG9waWMiLCAibm9ybWFsaXplUzNLZXkiLCAidGFzayIsICJkYXRhIiwgImtleSIsICJjb252ZXJ0VmFsdWUiLCAidmFsdWUiLCAibnVtIiwgIml0ZW0iLCAiY29udmVydFRvTmF0aXZlIiwgImFjYyIsICJldmVudF9ub3JtYWxpemVyX2RlZmF1bHQiLCAicmVnaW9uIiwgInRhYmxlTmFtZSIsICJjbGllbnQiLCAiRHluYW1vREJDbGllbnQiLCAidHJhbnNsYXRlQ29uZmlnIiwgIndyaXRlIiwgImlucHV0IiwgIkR5bmFtb0RCRG9jdW1lbnRDbGllbnQiLCAiVHJhbnNhY3RXcml0ZUNvbW1hbmQiLCAibWFpbiIsICJldmVudCIsICJpdGVtcyIsICJyZWNvcmRzIiwgInJlY29yZCIsICJvYmoiLCAiZSIsICJoYW5kbGVyIiwgImNvcmVfZGVmYXVsdCIsICJldmVudF9ub3JtYWxpemVyX2RlZmF1bHQiXQp9Cg==
